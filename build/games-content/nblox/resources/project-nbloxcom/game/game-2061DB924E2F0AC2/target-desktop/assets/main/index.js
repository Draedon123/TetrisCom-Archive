System.register("chunks:///_virtual/x4016911264059163956x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x4410614962435777365x.ts","./x1232577566642415821x.ts","./x1930801154962670888x.ts","./x3890695507897055596x.ts","./x702435451033209193x.ts","./x1442954324271535409x.ts","./x997865770037528931x.ts","./x2435732701735449926x.ts","./x2109210492123306036x.ts","./x4270404662952081505x.ts","./x1413698088565076133x.ts","./x160249411363356178x.ts","./x1046482460489005215x.ts","./x1127813857485463346x.ts","./x1550596296120876899x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g,f,d,p,S,y,P;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x2205868517935256955x},function(t){a=t.x4410614962435777365x},function(t){o=t.x1232577566642415821x},function(t){x=t.x1930801154962670888x},function(t){u=t.x3890695507897055596x},function(t){c=t.x702435451033209193x},function(t){l=t.x1442954324271535409x},function(t){h=t.x997865770037528931x},function(t){m=t.x2435732701735449926x},function(t){g=t.x2109210492123306036x},function(t){f=t.x4270404662952081505x},function(t){d=t.x1413698088565076133x},function(t){p=t.x160249411363356178x},function(t){S=t.x1046482460489005215x},function(t){y=t.x1127813857485463346x},function(t){P=t.x1550596296120876899x}],execute:function(){r._RF.push({},"9570dpifbxLUqYTW4aV4w2N","x4016911264059163956x",void 0);var I=t("x4016911264059163956x",function(t){e(s,t);var r=s.prototype;function s(e,i,r,x){var l;if(l=t.call(this)||this,!s.isValid())return n(l);a.doStaticInit(),g.doStaticInit();var f=i.getStringValueWithKeyStringPath("metadata.buildNumberOverride");if(f&&""!=f||(f=e),g.setBuildNumber(f),null!=s.sInstance)return n(l);s.sInstance=n(l),l.mStateMachine=new u(n(l)),l.x2926679599876223492x=i.x3395266717842453812x(),l.mNativeAppParams=r,l.mResourcesPath=x;var d=l.x2926679599876223492x.getDictionaryWithKeyStringPath("application.platforms."+g.getPlatformName()),S;d||(d=l.x2926679599876223492x.getDictionaryWithKeyStringPath("application.platforms").createDictionary(c.stringToValueKey(g.getPlatformName()),g.getPlatformName(),999,!0)),d.insertStringValue(c.stringToValueKey("CURRENT_YEAR"),"CURRENT_YEAR",999,c.stringFromInt(c.getCurrentYear(),0,!1)),d.insertStringValue(c.stringToValueKey("BUILD_INFO_STRING"),"BUILD_INFO_STRING",999,g.getBuildInfoString()),d.insertStringValue(c.stringToValueKey("AMP"),"AMP",999,"&"),d.insertStringValue(c.stringToValueKey("REGISTERED"),"REGISTERED",999,"®"),d.insertStringValue(c.stringToValueKey("COPYRIGHT"),"COPYRIGHT",999,"©"),d.insertStringValue(c.stringToValueKey("TRADEMARK"),"TRADEMARK",999,"™"),l.x2926679599876223492x.insertParamsIntoStrings(d,!1),l.x2926679599876223492x.processPlatformValues(g.getPlatformName()),l.mWindowWidth=l.x2926679599876223492x.getIntValueWithKeyStringPath("application.windowWidth"),l.mWindowHeight=l.x2926679599876223492x.getIntValueWithKeyStringPath("application.windowHeight"),c.setNativeRandomSeed(c.generateNativeRandomSeed()),c.nextNativeRandomInt(),l.mMaxDeltaTimeSEC=l.x2926679599876223492x.getFloatValueWithKeyStringPath("application.time.maxDeltaTimeSEC"),0==l.mMaxDeltaTimeSEC&&(l.mMaxDeltaTimeSEC=1e3),l.mMinAvailableTimeMSEC=l.x2926679599876223492x.getIntValueWithKeyStringPath("application.time.minAvailableTimeMSEC"),l.mAvailableTimeSEC=0,l.mTimeScaleUnit=.1,l.mTimeScaleMultiplier=10,l.mTimeScale=1,l.mIsPaused=!1,S=r.nativeAppRootView,l.mAppRootView=new P(!1,null),l.mAppRootView.retain(),l.mAppRootView.initWithNativeView(S),l.mAppRootView.setEnableChildrenBaseDepthOffset(!1),l.mAppRootView.setEnableChildrenSiblingDepthOffset(!1),l.mAppSupportFactory=null,l.mHTTPConnectionMgr=new h,l.mAppBGView=null,l.mStartGameDeviceControlString=l.x2926679599876223492x.getStringValueWithKeyStringPath("application.options.startGameDeviceControlString"),l.mPauseToggleKey=l.x2926679599876223492x.getIntValueWithKeyStringPath("application.debugPauseToggleKey"),0==l.mPauseToggleKey&&(l.mPauseToggleKey=-1),l.mFullScreenToggleKey=l.x2926679599876223492x.getIntValueWithKeyStringPath("application.fullScreenToggleKey"),0==l.mFullScreenToggleKey&&(l.mFullScreenToggleKey=-1),l.mSceneMgr=new p,l.mSceneMgr.addMessageListener(n(l)),l.mLoadingScene=null,l.mInitialScene=null,l.mIsInputActive=!0,l.mIsUIControlsNavigationEnabled=l.x2926679599876223492x.getBoolValueWithKeyStringPath("application.UIInputMgr.enableUIControlsNavigation"),l.mDidReceive1stPointerDown=!1,l.x2926679599876223492x.getBoolValueWithKeyStringPath("application.simulateTouchscreen")?(o.setIsTouchInputEnabled(!0),o.setIsMouseHoverEnabled(!1)):(o.setIsTouchInputEnabled(g.isPlatformTouchBased()),o.setIsMouseHoverEnabled(!g.isPlatformTouchBased())),l.mIsGUAEnabled=!1,l.mIsGA4Enabled=!1;try{m.createAudioContexts(4)}catch(t){}return l.mSoundEffectsMgr=new m(m.x2955420652194200412x),l.mSoundEffectsMgr.setVolume(l.x2926679599876223492x.getFloatValueWithKeyStringPath("application.audio.effects.volume")),l.mSoundEffectsMgr.setIsEnabled(l.x2926679599876223492x.getBoolValueWithKeyStringPath("application.audio.effects.enabled")),l.doNativeConstructor(),l}return r.doNativeConstructor=function(){if(g.getPlatformId()===g.x3522237276800314678x){var t=document.getElementById("GameDiv");t&&(t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center"),this.mJS_GameContainerDiv=document.getElementById("Cocos2dGameContainer");var e=this.x2926679599876223492x.getStringValueWithKeyStringPath("application.platforms.HTML5Desktop.css");if(""!=e){var i=document.createElement("style");i.type="text/css","textContent"in i?i.textContent=e:i.innerText=e,document.head.appendChild(i)}}},r.hideGameContainer=function(){g.getPlatformId()===g.x3522237276800314678x&&(this.mJS_GameBGDiv&&(this.mJS_GameBGDiv.style.visibility="visible"),this.mJS_GameContainerDiv&&(this.mJS_GameContainerDiv.style.visibility="hidden"))},r.showGameContainer=function(){g.getPlatformId()===g.x3522237276800314678x&&(this.mJS_GameContainerDiv&&(this.mJS_GameContainerDiv.style.visibility="visible"),this.mJS_GameBGDiv&&(this.mJS_GameBGDiv.style.visibility="hidden"))},r.trackGA4GameEvent=function(t,e){if(this.mIsGA4Enabled)try{window.trackGA4GameEvent(t,e)}catch(t){}},s.instance=function(){return s.sInstance},s.isValid=function(){return c.x1012796168335938419x(s.sValidationStatus)==c.x1012796168335938419x("TEASMEONIJOM")},r.x1666856027417448917x=function(){return this.x2926679599876223492x},r.x641359964914300607x=function(){return this.x2926679599876223492x.getDictionaryWithKeyString("application")},r.getNativeAppParams=function(){return this.mNativeAppParams},r.getAppState=function(){return this.mStateMachine?this.mStateMachine.getCurrentState():s.x3580195476705645884x},r.run=function(){if(s.isValid())if(l.MAPSGGDNNKNNPKZHELAHFJVGELRIMNGMITCHHORGWOFLXI())try{document.getElementById("Cocos2dGameContainer").remove()}catch(t){}else this.mStateMachine.setState(s.x447493544613563118x)},r.terminate=function(){if(this.getAppState()!==s.x1357984645580266199x){this.mSceneMgr.terminate(),this.mAppRootView.removeFromParent(),this.mAppRootView&&this.mAppRootView.release(),this.mAppRootView=null,this.mNativeAppHelper&&(this.mNativeAppHelper=null);try{m.closeAllAudioContexts()}catch(t){}this.mStateMachine.setStateImmediate(s.x1357984645580266199x),y.setIsPointerActive(!0)}},r.getNativeAppHelper=function(){return this.mNativeAppHelper},r.processTimeSEC=function(t){if(t<=this.mMaxDeltaTimeSEC){if(!this.mIsPaused){t*=this.mTimeScale,this.mAvailableTimeSEC+=t;var e=1e3*this.mAvailableTimeSEC;if(e>this.mMinAvailableTimeMSEC){for(var i=0,n=0;e>0;)i=e>20?20:e,this.mStateMachine.processTime(i),e-=i,n+=i;this.mAvailableTimeSEC-=.001*n}}}else this.resetAvailableTime();return this.getAppState()!=s.x1357984645580266199x},r.resetAvailableTime=function(){this.mAvailableTimeSEC=0},r.getWindowWidth=function(){return this.mWindowWidth},r.getWindowHeight=function(){return this.mWindowHeight},r.getAppRootView=function(){return this.mAppRootView},r.isViewAppRootView=function(t){return t&&t==this.mAppRootView},r.setIsBGViewVisible=function(t){this.mAppBGView&&this.mAppBGView.setIsVisible(t)},r.getSceneMgr=function(){return this.mSceneMgr},r.getAppSupportFactory=function(){return this.mAppSupportFactory},r.getHTTPConnectionMgr=function(){return this.mHTTPConnectionMgr},r.setIsInputActive=function(t){this.mIsInputActive!=t&&(this.mIsInputActive=t,this.handleDeviceControlCancelled(o.x682881226454308741x,o.x2537312111073578457x),this.handleDeviceControlCancelled(o.x682881226454308741x,o.x931823227208707668x),this.handleDeviceControlCancelled(o.x174329776616401164x,o.x4119695339070737997x))},r.isUIControlsNavigationEnabled=function(){return this.mIsUIControlsNavigationEnabled},r.handleDeviceControlOn=function(t,e,i,n){if(this.mIsInputActive){switch(t){case o.x273326733444963739x:case o.x4234934191319707258x:y.setIsPointerActive(!1);break;case o.x682881226454308741x:case o.x174329776616401164x:y.setIsPointerActive(!0)}switch(t){case o.x4234934191319707258x:this.handleKeyboardDeviceControlOn(e);break;case o.x682881226454308741x:this.handleMouseDeviceControlOn(e,i,n);break;case o.x174329776616401164x:this.handleTouchDeviceControlOn(e,i,n)}var r=this.mSceneMgr.getCurrentScene();r&&r.handleDeviceControlOn(t,e,i,n)}},r.handleDeviceControlOff=function(t,e,i,n){if(this.mIsInputActive){switch(t){case o.x273326733444963739x:case o.x4234934191319707258x:y.setIsPointerActive(!1);break;case o.x682881226454308741x:case o.x174329776616401164x:y.setIsPointerActive(!0)}var r=this.mSceneMgr.getCurrentScene();r&&r.handleDeviceControlOff(t,e,i,n)}},r.handleDeviceControlValues=function(t,e,i,n){if(this.mIsInputActive){switch(t){case o.x273326733444963739x:case o.x4234934191319707258x:y.setIsPointerActive(!1);break;case o.x682881226454308741x:case o.x174329776616401164x:y.setIsPointerActive(!0)}var r=this.mSceneMgr.getCurrentScene();r&&r.handleDeviceControlValues(t,e,i,n)}},r.handleDeviceControlCancelled=function(t,e){if(this.mIsInputActive){var i=this.mSceneMgr.getCurrentScene();i&&i.handleDeviceControlCancelled(t,e)}},r.handleUIEvent=function(t){switch(t){case s.x588578327673441622x:case s.x2926095884306795869x:case s.x2779436841862367646x:case s.x988729984832240756x:this.mSoundEffectsMgr.playSound(t)}},r.onAppActivated=function(){this.setIsInputActive(!0),this.dispatchMessage(s.x3458100369081254503x,this,null)},r.onAppDeactivated=function(){this.setIsInputActive(!1),this.dispatchMessage(s.x935457355807970455x,this,null)},r.savePrefs=function(){this.x2615207865305098022x()},r.hasPrefsKey=function(t){return this.x1519527598278123976x(c.x1615343114719087054x(t,-1))},r.getPrefsInt=function(t,e){return this.hasPrefsKey(t)?c.stringToInt(c.x1012796168335938419x(this.x2090281087336179940x(c.x1615343114719087054x(t,-1)))):e},r.getPrefsFloat=function(t,e){return this.hasPrefsKey(t)?c.stringToFloat(c.x1012796168335938419x(this.x2090281087336179940x(c.x1615343114719087054x(t,-1)))):e},r.getPrefsBool=function(t,e){return this.hasPrefsKey(t)?c.stringToBoolean(c.x1012796168335938419x(this.x2090281087336179940x(c.x1615343114719087054x(t,-1)))):e},r.getPrefsString=function(t,e){return this.hasPrefsKey(t)?c.x1012796168335938419x(this.x2090281087336179940x(c.x1615343114719087054x(t,-1))):e},r.setPrefsInt=function(t,e){this.setPrefsString(t,c.stringFromInt(e,0,!1))},r.setPrefsFloat=function(t,e){this.setPrefsString(t,c.stringFromFloat(e))},r.setPrefsBool=function(t,e){this.setPrefsString(t,c.stringFromBoolean(e))},r.setPrefsString=function(t,e){this.x1715717144573408405x(c.x1615343114719087054x(t,-1),c.x1615343114719087054x(e,0))},r.trackGUAEvent=function(t,e,i,n,r){if(this.mIsGUAEnabled&&t&&""!=t)try{window.trackGUAEvent(t,e,i,n,r)}catch(t){}},r.setSoundEffectsVolume=function(t){this.mSoundEffectsMgr.setVolume(t),this.mSoundEffectsMgr.setIsMuted(t<=0)},r.getStartGameDeviceControlString=function(){return this.mStartGameDeviceControlString},r.setStartGameDeviceControlString=function(t){this.mStartGameDeviceControlString=t},r.dispatchAppMessage=function(t){this.dispatchMessage(t,this,null)},r.handleKeyboardDeviceControlOn=function(t){this.x3808996028817924977x(t)},r.handleMouseDeviceControlOn=function(t,e,i){this.mDidReceive1stPointerDown||(m.awakenAllAudioContexts(),this.mDidReceive1stPointerDown=!0)},r.handleTouchDeviceControlOn=function(t,e,i){this.mDidReceive1stPointerDown||(m.awakenAllAudioContexts(),this.mDidReceive1stPointerDown=!0)},r.x304280663053988881x=function(t){return new f(t)},r.x4314010855317147555x=function(t){},r.x1795875024407620756x=function(){return null},r.x3803896839908130438x=function(t){},r.x413256787380501245x=function(){this.mStateMachine.incrementState()},r.x2615207865305098022x=function(){},r.x1519527598278123976x=function(t){try{return!!localStorage.getItem(t)}catch(t){return!1}},r.x2090281087336179940x=function(t){try{return localStorage.getItem(t)}catch(t){return""}},r.x1715717144573408405x=function(t,e){try{localStorage.setItem(t,e)}catch(t){}},r.x3808996028817924977x=function(t){},r.x1721113016797186854x=function(){l.setCursorToNormal(),null!==this.mStateMachine&&(this.mStateMachine.destroy(),this.mStateMachine=null),null!==this.x2926679599876223492x&&(this.x2926679599876223492x.destroy(),this.x2926679599876223492x=null),this.mNativeAppParams=null,this.mLoadingScene=null,this.mInitialScene=null,null!==this.mSceneMgr&&(this.mSceneMgr.destroy(),this.mSceneMgr=null),this.mAppRootView&&this.mAppRootView.release(),this.mAppRootView=null,this.mAppBGView&&this.mAppBGView.release(),this.mAppBGView=null,null!==this.mAppSupportFactory&&(this.mAppSupportFactory.destroy(),this.mAppSupportFactory=null),null!==this.mHTTPConnectionMgr&&(this.mHTTPConnectionMgr.destroy(),this.mHTTPConnectionMgr=null),null!==this.mSoundEffectsMgr&&(this.mSoundEffectsMgr.destroy(),this.mSoundEffectsMgr=null),this.mNativeAppHelper&&(this.mNativeAppHelper=null),this==s.sInstance&&(s.sInstance=null),t.prototype.x1721113016797186854x.call(this)},r.x4574927063157401553x=function(e,i,n,r){if(e==x.x3793884777573381281x)switch(this.getAppState()){case s.x447493544613563118x:case s.x77136919882358304x:case s.x2918919554955293274x:case s.x3706911046957380939x:case s.x1206888352808440639x:case s.x897139794067530289x:case s.x2739126625493833788x:case s.x1347354886125568019x:r<500&&(this.mSoundEffectsMgr.processTimeMSEC(r),this.mSceneMgr.processTimeMSEC(r),this.mAppRootView.processTimeMSEC(r)),this.mHTTPConnectionMgr.processConnections()}switch(i){case s.x447493544613563118x:e===x.x2982972318080668761x&&(this.mIsGUAEnabled=this.x2926679599876223492x.getBoolValueWithKeyStringPath("application.analytics.GoogleUniversalAnalytics.enabled"),this.mIsGA4Enabled=this.x2926679599876223492x.getBoolValueWithKeyStringPath("application.analytics.GoogleAnalytics4.enabled"),this.mAppSupportFactory=this.x304280663053988881x(this.mResourcesPath),this.mAppSupportFactory.setFactoryData(this.x2926679599876223492x.getDictionaryWithKeyStringPath("application.appSupportFactory")),this.mAppSupportFactory.expandStyles(this.x2926679599876223492x.getDictionaryWithKeyString("application")),this.mStateMachine.incrementState());break;case s.x77136919882358304x:switch(e){case x.x2982972318080668761x:var a=!1;if(u=this.x2926679599876223492x.getDictionaryWithKeyStringPath("application.backgroundImage")){var o=u.getStringValueWithKeyStringPath("style.resource_texture");o&&""!=o&&(a=!0,this.mAppSupportFactory.getResourceMgr().addNativeSpriteFrameResource(o,"app",o),this.mAppSupportFactory.getResourceMgr().startLoading())}a||this.mStateMachine.incrementState();break;case x.x3793884777573381281x:if(this.mAppSupportFactory.getResourceMgr().isDoneLoading("app")){this.mAppBGView=new S(this.mAppSupportFactory),this.mAppBGView.retain(),this.mAppBGView.setName("AppBGView");var u=this.x2926679599876223492x.getDictionaryWithKeyStringPath("application.backgroundImage");this.mAppBGView.setStyle(u.getDictionaryWithKeyString("style")),this.mAppBGView.setTransformWithParams(u.getDictionaryWithKeyString("transform")),u.getBoolValueWithKeyStringPath("scaleToWindow")&&this.mAppBGView.setSize(this.getWindowWidth(),this.getWindowHeight()),this.mStateMachine.incrementState()}else this.mAppSupportFactory.getResourceMgr().processLoading()}break;case s.x2918919554955293274x:switch(e){case x.x2982972318080668761x:var c=this.x2926679599876223492x.getDictionaryWithKeyStringPath("application.scenes.loading");this.mAppSupportFactory.addResources(c,"app"),this.mAppSupportFactory.getResourceMgr().startLoading();break;case x.x3793884777573381281x:this.mAppSupportFactory.getResourceMgr().isDoneLoading("app")?(this.mAppBGView&&this.mAppRootView.addChild(this.mAppBGView),this.mLoadingScene=this.x1795875024407620756x(),this.mSceneMgr.addManagedScene(this.mLoadingScene),this.mSceneMgr.setScene(this.mLoadingScene.getSceneName()),this.mSceneMgr.processTimeMSEC(0),this.mStateMachine.incrementState()):this.mAppSupportFactory.getResourceMgr().processLoading();break;case x.x4149106650117426330x:if(window)try{window.gameLoadingSceneIsReady()}catch(t){}}break;case s.x3706911046957380939x:switch(e){case x.x2982972318080668761x:this.mAppSupportFactory.addResources(this.x2926679599876223492x.getDictionaryWithKeyString("application"),"app"),this.x4314010855317147555x(this.mAppSupportFactory),this.mAppSupportFactory.getResourceMgr().startLoading();break;case x.x3793884777573381281x:this.mAppSupportFactory.getResourceMgr().isDoneLoading("app")?this.mStateMachine.incrementState():this.mAppSupportFactory.getResourceMgr().processLoading()}break;case s.x1206888352808440639x:e===x.x2982972318080668761x&&this.x413256787380501245x();break;case s.x897139794067530289x:e===x.x2982972318080668761x&&(this.x3803896839908130438x(this.mSceneMgr),this.mInitialScene=this.mSceneMgr.getManagedScene(this.x2926679599876223492x.getStringValueWithKeyStringPath("application.initialScene")),this.mSceneMgr.initManagedScenes(),this.mStateMachine.incrementState());break;case s.x2739126625493833788x:e===x.x3793884777573381281x&&(this.mAppSupportFactory.getResourceMgr().isDoneLoading("")||this.mAppSupportFactory.getResourceMgr().processLoading(),this.mLoadingScene.getSceneState()==d.x3069921592769395230x&&this.mInitialScene&&(this.mSceneMgr.setScene(this.mInitialScene.getSceneName()),this.mSceneMgr.processTimeMSEC(0),this.mSceneMgr.removeManagedScene(this.mLoadingScene),this.mLoadingScene=null,this.mInitialScene=null,this.mSoundEffectsMgr.getIsEnabled()&&this.mAppSupportFactory.addSoundsToSoundMgr(this.mSoundEffectsMgr,this.x2926679599876223492x.getDictionaryWithKeyStringPath("application.audio.effects.sounds")),this.mStateMachine.incrementState()));break;case s.x1347354886125568019x:this.mAppSupportFactory.getResourceMgr().isDoneLoading("")||this.mAppSupportFactory.getResourceMgr().processLoading()}return t.prototype.x4574927063157401553x.call(this,e,i,n,r)},i(s,null,[{key:"x3580195476705645884x",get:function(){return 0}},{key:"x447493544613563118x",get:function(){return 1}},{key:"x77136919882358304x",get:function(){return 2}},{key:"x2918919554955293274x",get:function(){return 3}},{key:"x3706911046957380939x",get:function(){return 4}},{key:"x1206888352808440639x",get:function(){return 5}},{key:"x897139794067530289x",get:function(){return 6}},{key:"x2739126625493833788x",get:function(){return 7}},{key:"x1347354886125568019x",get:function(){return 8}},{key:"x1357984645580266199x",get:function(){return 9}},{key:"x3458100369081254503x",get:function(){return 737047202}},{key:"x935457355807970455x",get:function(){return 2077270881}},{key:"x588578327673441622x",get:function(){return 99450073}},{key:"x2926095884306795869x",get:function(){return 542270853}},{key:"x2779436841862367646x",get:function(){return 698746379}},{key:"x988729984832240756x",get:function(){return 1638425175}}]),s}(s));I.sInstance=null,I.sValidationStatus="UAYIOLMEKQCE",r._RF.pop()}}})),System.register("chunks:///_virtual/x4270404662952081505x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts","./x3807920460184414210x.ts","./x96971828822103706x.ts","./x1824733160648178692x.ts","./x3375026250715268596x.ts","./x3552755872900086406x.ts","./x439725023118195804x.ts","./x1975437464451156427x.ts","./x1046482460489005215x.ts","./x2385793234846142307x.ts","./x295234079426945939x.ts","./x832175137056958511x.ts","./x2090126800364774870x.ts","./x1550596296120876899x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g,f,d,p,S;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x2205868517935256955x},function(t){r=t.x3693760142138385085x},function(t){s=t.x702435451033209193x},function(t){a=t.x3807920460184414210x},function(t){o=t.x96971828822103706x},function(t){x=t.x1824733160648178692x},function(t){u=t.x3375026250715268596x},function(t){c=t.x3552755872900086406x},function(t){l=t.x439725023118195804x},function(t){h=t.x1975437464451156427x},function(t){m=t.x1046482460489005215x},function(t){g=t.x2385793234846142307x},function(t){f=t.x295234079426945939x},function(t){d=t.x832175137056958511x},function(t){p=t.x2090126800364774870x},function(t){S=t.x1550596296120876899x}],execute:function(){i._RF.push({},"d852aCWTtdITq4jsWPAaY2K","x4270404662952081505x",void 0),t("x4270404662952081505x",function(t){function i(e){var i;return(i=t.call(this)||this).mResourceMgr=new u(e),i.mFactoryData=null,i.mStylesData=null,i}e(i,t);var n=i.prototype;return n.addResources=function(t,e){if(t.getBoolValueWithDefault(s.stringToValueKey("enabled"),!0))for(var i,n=t.getNumValues(),r=0;r<n;r++)switch((i=t.getValueAtIndex(r)).getValueType()){case a.x3076231396314581594x:var o=i.getKeyString(),u=i.getValue();if("resource_texture"==o)this.mResourceMgr.addNativeSpriteFrameResource(u,e,u);else if("resource_font"==o)this.mResourceMgr.addBitmapFontResource(u,e,u);else if("resource_sound"==o||"resource_music"==o){var c=t.getBoolValueWithKeyStringPath("requirePreload");"resource_sound"==o?this.mResourceMgr.addNativeSoundResource(u,e,u,x.x532290976609314627x,c):"resource_music"==o&&this.mResourceMgr.addNativeSoundResource(u,e,u,x.x3528104986823296210x,c)}break;case a.x2234935847743629855x:this.addResources(t.getDictionaryAtIndex(r),e)}},n.getResourceMgr=function(){return this.mResourceMgr},n.setFactoryData=function(t){null!==this.mFactoryData&&(this.mFactoryData.destroy(),this.mFactoryData=null),this.mFactoryData=new r(!0),this.mFactoryData.copy(t,!0),this.mStylesData=this.mFactoryData.getDictionaryWithKeyString("styles"),this.expandStyles(this.mFactoryData)},n.expandStyles=function(t){if(t){var e=0;if(t.hasValueWithKeyString("baseStyle")){var i=t.getStringValue(s.stringToValueKey("baseStyle"));if(t.removeValue(s.stringToValueKey("baseStyle")),i&&""!=i){var n=this.getStyle(i);if(n){this.expandStyles(n);var r=n.getNumValues();for(e=0;e<r;e++){var o=n.getValueAtIndex(e),x=o.getKey();t.hasValue(x)||t.copyValueAndType(x,o)}}}}var u=t.getNumValues();for(e=0;e<u;e++)t.getValueTypeAtIndex(e)==a.x2234935847743629855x&&this.expandStyles(t.getDictionaryAtIndex(e))}},n.getStyle=function(t){return""==t?null:this.mStylesData.getDictionaryWithKeyStringPath(t)},n.createViewWithTypeAndClass=function(t,e,i){if(""==t)return null;var n=this.x260098031883335441x(t,e);return n.initWithParams(i),n},n.createViewWithType=function(t,e){var i=null,n=this.mFactoryData.getDictionaryWithKeyString("objects").getDictionaryWithKeyString(t);if(null==n)i=this.createViewWithTypeAndClass(t,t,e);else{var r=n.getDictionaryWithKeyString("params"),a=null;e&&e.getNumValues()>0?(a=e).synchronizeWithSource(r,!1,!1,!1):a=r,i=this.createViewWithTypeAndClass(t,n.getStringValue(s.stringToValueKey("class")),a)}return i},n.createViewHierarchy=function(t,e){var i,n,r=0,a=s.firstIndexInString(t,"@"),o=s.firstIndexInString(t,":");if(!(o>0))return null;r=o+1,a>0?(i=s.substringToIndex(t,a),n=s.substringWithRange(t,a+1,o)):i=n=s.substringToIndex(t,o);var x=this.createViewWithType(i,e);if(x||(x=this.createViewWithTypeAndClass(i,n,e)),x){var u=s.substringFromIndex(t,r);x.setName(u);var c=e.getDictionaryWithKeyString("children");c&&this.createViewHierarchyInView(c,x)}return x},n.createViewHierarchyInView=function(t,e){for(var i,n,r=t.getNumValues(),a=0;a<r;a++)(i=t.getDictionaryAtIndex(a))&&i.getBoolValueWithDefault(s.stringToValueKey("enabled"),!0)&&(n=this.createViewHierarchy(t.getValueKeyStringAtIndex(a),i),e.addChild(n),n.setTransformWithParams(i.getDictionaryWithKeyString("transform")));e.childrenLayoutChanged()},n.x4228482585618777116x=function(t){if(!t.getBoolValueWithDefault(s.stringToValueKey("enabled"),!0))return null;var e=new o;e.setFont(this.getResourceMgr().getBitmapFontResource(t.getStringValueWithKeyStringPath("resource_font")));var i=o.x4356678992040163203x;if(t.hasValueWithKeyString("horizontalAlignment"))switch(s.stringToValueKey("horizontalAlignment")){case a.x2736631188424289638x:switch(t.getIntValueWithKeyStringPath("horizontalAlignment")){case 1:i=o.x2317940586526603961x;break;case 2:i=o.x4356678992040163203x;break;case 3:i=o.x2004929415186813661x}break;case a.x3076231396314581594x:i=s.stringToHash32(t.getStringValueWithKeyStringPath("horizontalAlignment"))}var n=o.x772630650071696289x;if(t.hasValueWithKeyString("verticalAlignment"))switch(s.stringToValueKey("verticalAlignment")){case a.x2736631188424289638x:switch(t.getIntValueWithKeyStringPath("verticalAlignment")){case 1:n=o.x1234220631447720832x;break;case 2:n=o.x772630650071696289x;break;case 3:n=o.x1863542760500830224x}break;case a.x3076231396314581594x:n=s.stringToHash32(t.getStringValueWithKeyStringPath("verticalAlignment"))}return e.setAlignment(i,n),e.setPosition(t.getFloatValueWithKeyStringPath("x"),t.getFloatValueWithKeyStringPath("y")),e},n.addSoundsToSoundMgr=function(t,e){for(var i=e.getNumValues(),n=0;n<i;n++){var r=e.getDictionaryAtIndex(n),s="";if(r.hasValueWithKeyString("resource_sound")?s=r.getStringValueWithKeyStringPath("resource_sound"):r.hasValueWithKeyString("resource_music")&&(s=r.getStringValueWithKeyStringPath("resource_music")),s&&""!=s){var a=r.getFloatValueWithKeyStringPath("volume");a>0&&t.addSound(e.getValueKeyAtIndex(n),this.getResourceMgr().getNativeSoundResource(s),a)}}},n.x260098031883335441x=function(t,e){return e==s.x1012796168335938419x("LELPJSWFQSHFATWQZIZPSTUPMTWLHHHFGMZQ")?new l(this):e==s.x1012796168335938419x("FHRSLFAOSFDJQFPTXLDIWJZRZGCPGLYIGE")?new h(this):e==s.x1012796168335938419x("VHFKNMOFSRPFVNELMTUPGT")?new m(this):e==s.x1012796168335938419x("LIHRBEQMGJAMKJSHOKPGPKKFCKWSRJKGETXGQP")?new c(this):e==s.x1012796168335938419x("CJTRXDCNCJFNQIQFILEHFLXGHK")?new g(this):e==s.x1012796168335938419x("PJFONQQEUQTEIQWNAHQOISMO")?new f(this):e==s.x1012796168335938419x("IAHJFMQEUQTEIQPOZSNTDSAOQRAK")?new d(this):e==s.x1012796168335938419x("SDBEJGOPOLBPMKUIENUJBNHHTMSEORUO")?new p(this):e==s.x1012796168335938419x("CBBOZQMEQQQEKRDPSH")?new S(!0,this):null},n.x1721113016797186854x=function(){null!==this.mResourceMgr&&(this.mResourceMgr.destroy(),this.mResourceMgr=null),null!==this.mFactoryData&&(this.mFactoryData.destroy(),this.mFactoryData=null),this.mStylesData=null,t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3552755872900086406x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1550596296120876899x.ts","./x702435451033209193x.ts","./x96971828822103706x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1550596296120876899x},function(t){r=t.x702435451033209193x},function(t){s=t.x96971828822103706x}],execute:function(){i._RF.push({},"8635fK3FO9OCJELBN4CD4A+","x3552755872900086406x",void 0),t("x3552755872900086406x",function(t){function i(e){var i;return(i=t.call(this,!1,e)||this).mFont=null,i.mText="",i.mTextView=new s,i.setNativeView(i.mTextView.getNativeView()),i.setName("_BPSBitmapTextView"),i}e(i,t);var n=i.prototype;return n.setFont=function(t){this.mFont!=t&&(this.mFont=t,this.mTextView.setFont(t),this.setSize(this.mTextView.getTextWidth(),this.mTextView.getTextHeight()))},n.getText=function(){return this.mText},n.setText=function(t){this.mText!=t&&(this.mText=t,this.mTextView.setText(t),this.setSize(this.mTextView.getTextWidth(),this.mTextView.getTextHeight()))},n.x962108131907433511x=function(e){t.prototype.x962108131907433511x.call(this,e),this.setName("_BPSBitmapTextView"),e&&(this.setFont(this.getAppSupportFactory().getResourceMgr().getBitmapFontResource(e.getStringValue(r.stringToValueKey("resource_font")))),this.setText(e.getStringValue(r.stringToValueKey("text"))))},n.x1721113016797186854x=function(){this.mFont=null,null!==this.mTextView&&(this.mTextView.destroy(),this.mTextView=null),t.prototype.x1721113016797186854x.call(this)},n.x3417002216668774979x=function(t){this.mTextView.setAlpha(t)},n.x3043966882343981070x=function(t){this.setFont(this.getAppSupportFactory().getResourceMgr().getBitmapFontResource(t.getStringValue(r.stringToValueKey("resource_font")))),this.setAlpha(t.getFloatValueWithDefault(r.stringToValueKey("alpha"),1));var e=r.stringToValueKey(t.getStringValueWithDefault(r.stringToValueKey("horizontalAlignment"),"center"));this.mTextView.setAlignment(e,s.x772630650071696289x)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x439725023118195804x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1550596296120876899x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1550596296120876899x},function(t){s=t.x702435451033209193x}],execute:function(){n._RF.push({},"474d1O0Lk5P8rzPeKdDze18","x439725023118195804x",void 0),t("x439725023118195804x",function(t){function n(e){var i;return(i=t.call(this,!0,e)||this).mLayout=n.x4567694111490595611x,i.mStride=0,i.mAutoWidth=!0,i.mAutoHeight=!0,i.mHorizontalPadding=0,i.mVerticalPadding=0,i.mAlignment=.5,i.setEnableChildrenBaseDepthOffset(!1),i.setName("_BPSContainerView"),i}e(n,t);var r=n.prototype;return r.updateChildren=function(){switch(this.mLayout){case n.x3004233032167573115x:this.distributeExternalChildrenHorizontally(this.mStride),this.mAlignment>=0&&this.setChildrenAnchorY(this.mAlignment);break;case n.x1682347651900958992x:this.distributeExternalChildrenVertically(this.mStride),this.mAlignment>=0&&this.setChildrenAnchorX(this.mAlignment)}this.mAutoWidth&&this.setWidthToChildrenBounds(this.mHorizontalPadding),this.mAutoHeight&&this.setHeightToChildrenBounds(this.mVerticalPadding)},r.x962108131907433511x=function(e){t.prototype.x962108131907433511x.call(this,e),this.setName("_BPSContainerView")},r.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},r.x3043966882343981070x=function(t){var e=t.getStringValueWithDefault(s.stringToValueKey("layout"),"none");"none"==e?this.mLayout=n.x4567694111490595611x:"horizontal"==e?this.mLayout=n.x3004233032167573115x:"vertical"==e&&(this.mLayout=n.x1682347651900958992x),this.mStride=t.getFloatValue(s.stringToValueKey("stride")),this.mAutoWidth=t.getBoolValueWithDefault(s.stringToValueKey("autoWidth"),!0),this.mAutoHeight=t.getBoolValueWithDefault(s.stringToValueKey("autoHeight"),!0),this.mHorizontalPadding=t.getFloatValue(s.stringToValueKey("horizontalPadding")),this.mVerticalPadding=t.getFloatValue(s.stringToValueKey("verticalPadding")),this.mAlignment=t.getFloatValueWithDefault(s.stringToValueKey("alignment"),-1),this.updateChildren()},r.x3018607902619851186x=function(){this.updateChildren()},r.x4257407987153827499x=function(){this.updateChildren()},i(n,null,[{key:"x4567694111490595611x",get:function(){return 1}},{key:"x3004233032167573115x",get:function(){return 2}},{key:"x1682347651900958992x",get:function(){return 3}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x130488792231225248x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x1930801154962670888x.ts","./x3890695507897055596x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x2205868517935256955x},function(t){a=t.x1930801154962670888x},function(t){o=t.x3890695507897055596x}],execute:function(){r._RF.push({},"10af3OdEKJAcLW5TgCjjbMC","x130488792231225248x",void 0),t("x130488792231225248x",function(t){function r(e,i,s,a){var x;return(x=t.call(this)||this).mGameMgrData=e.x3395266717842453812x(),x.mStateMachine=new o(n(x)),x.mStateMachine.setStateImmediate(r.x3119648372935234602x),x.mAppSupportFactory=i,x.mGameRootView=s,x.mValueChangedSource=a,a.addMessageListener(n(x)),x}e(r,t);var s=r.prototype;return s.getGameMgrData=function(){return this.mGameMgrData},s.getValueChangedSource=function(){return this.mValueChangedSource},s.getState=function(){return this.mStateMachine.getCurrentState()},s.processTimeMSEC=function(t){this.mStateMachine.processTime(t)},s.startConstruct=function(){this.getState()==r.x3119648372935234602x&&(this.x2616759320630417655x(),this.mStateMachine.setStateImmediate(r.x3140199846990054720x))},s.initializeGame=function(){this.getState()==r.x3534944098651122926x&&(this.x4455416299536776025x(),this.mStateMachine.setStateImmediate(r.x3225346889494445863x))},s.startGame=function(){this.getState()==r.x3225346889494445863x&&(this.x1679663234218210271x(),this.dispatchMessage(r.x1376601320300114653x,this,null),this.mGameRootView.setIsActive(!0),this.mStateMachine.setStateImmediate(r.x3003902224110804134x))},s.pauseGame=function(){this.getState()==r.x3003902224110804134x&&(this.dispatchMessage(r.x4521893367635912333x,this,null),this.x4098774661390088237x(),this.mGameRootView.setIsActive(!1),this.mStateMachine.setStateImmediate(r.x968731194594044803x))},s.unpauseGame=function(){this.getState()==r.x968731194594044803x&&(this.x189316337028118022x(),this.mGameRootView.setIsActive(!0),this.mStateMachine.setStateImmediate(r.x3003902224110804134x))},s.terminate=function(){switch(this.getState()){case r.x3119648372935234602x:case r.x3265934470092458605x:case r.x3403624884703842603x:return}this.dispatchMessage(r.x4008710982075431723x,this,null),this.x2757081964714131468x(),this.mGameRootView.removeAllChildren(!0),this.mGameRootView.removeFromParent(),this.mStateMachine.setStateImmediate(r.x3403624884703842603x)},s.handleDeviceControlOn=function(t,e){this.getState()==r.x3003902224110804134x&&this.x279405108737269099x(t,e)},s.handleDeviceControlOff=function(t,e){this.getState()==r.x3003902224110804134x&&this.x3851148169730548938x(t,e)},s.handleDeviceControlValues=function(t,e,i,n){this.getState()==r.x3003902224110804134x&&this.x1954221274835293899x(t,e,i,n)},s.handleDeviceControlCancelled=function(t,e){this.getState()==r.x3003902224110804134x&&this.x885415366219137194x(t,e)},s.setDoMouseButtonViaTouch=function(t){},s.getAppSupportFactory=function(){return this.mAppSupportFactory},s.getStateMachine=function(){return this.mStateMachine},s.getGameRootView=function(){return this.mGameRootView},s.x2616759320630417655x=function(){},s.x3047795151953430559x=function(){return r.x3534944098651122926x},s.x4455416299536776025x=function(){},s.x1679663234218210271x=function(){},s.x2150954409556137104x=function(t){return!1},s.x4098774661390088237x=function(){},s.x189316337028118022x=function(){},s.x2757081964714131468x=function(){},s.x279405108737269099x=function(t,e){},s.x3851148169730548938x=function(t,e){},s.x1954221274835293899x=function(t,e,i,n){},s.x885415366219137194x=function(t,e){},s.x1721113016797186854x=function(){this.mValueChangedSource.removeMessageListener(this),null!==this.mGameMgrData&&(this.mGameMgrData.destroy(),this.mGameMgrData=null),null!==this.mStateMachine&&(this.mStateMachine.destroy(),this.mStateMachine=null),this.mAppSupportFactory=null,this.mGameRootView=null,t.prototype.x1721113016797186854x.call(this)},s.x4574927063157401553x=function(e,i,n,s){switch(i){case r.x3140199846990054720x:if(e===a.x3793884777573381281x)switch(this.x3047795151953430559x()){case r.x3534944098651122926x:this.mStateMachine.setStateImmediate(r.x3534944098651122926x);break;case r.x500958470705759229x:this.mStateMachine.setStateImmediate(r.x500958470705759229x)}break;case r.x3003902224110804134x:e===a.x3793884777573381281x&&(this.x2150954409556137104x(s)||this.mStateMachine.setStateImmediate(r.x3265934470092458605x));break;case r.x3265934470092458605x:e===a.x2982972318080668761x&&this.dispatchMessage(r.x3781445421189214523x,this,null)}return t.prototype.x4574927063157401553x.call(this,e,i,n,s)},i(r,null,[{key:"x3119648372935234602x",get:function(){return 0}},{key:"x3140199846990054720x",get:function(){return 1}},{key:"x3534944098651122926x",get:function(){return 2}},{key:"x500958470705759229x",get:function(){return 3}},{key:"x3225346889494445863x",get:function(){return 4}},{key:"x3003902224110804134x",get:function(){return 5}},{key:"x968731194594044803x",get:function(){return 6}},{key:"x3265934470092458605x",get:function(){return 7}},{key:"x3403624884703842603x",get:function(){return 8}},{key:"x1376601320300114653x",get:function(){return 83445564}},{key:"x4521893367635912333x",get:function(){return 1208569424}},{key:"x3781445421189214523x",get:function(){return 248312912}},{key:"x4008710982075431723x",get:function(){return 1064191273}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x155103638225223703x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x2205868517935256955x}],execute:function(){i._RF.push({},"bf655gqQspAfaSrOuT1F8Ph","x155103638225223703x",void 0),t("x155103638225223703x",function(t){function i(e){var i;return(i=t.call(this)||this).x744299400249643761x=null,i.mHTTPRequest=null,i}e(i,t);var n=i.prototype;return n.start=function(){this.mHTTPRequest=new XMLHttpRequest;var t=this.x744299400249643761x.getMethodAsString(),e=this.x744299400249643761x.getURL();this.mHTTPRequest.open(t,e,!0),this.mHTTPRequest.timeout=1e3*this.x744299400249643761x.getTimeoutSEC();for(var i=this.x744299400249643761x.getHeaders(),n=i.getNumValues(),r=0;r<n;r++){var s=i.getValueKeyStringAtIndex(r);if("user-agent"!=s){var a=i.getStringValueAtIndex(r);this.mHTTPRequest.setRequestHeader(s,a)}}var o=this;this.mHTTPRequest.onreadystatechange=function(t){4==o.mHTTPRequest.readyState&&(o.x744299400249643761x._setResponseContent(o.mHTTPRequest.responseText,o.mHTTPRequest.getResponseHeader("content-type")),o.x744299400249643761x._setResponseStatusCode(o.mHTTPRequest.status),o.x744299400249643761x._handleComplete())},this.mHTTPRequest.send(this.x744299400249643761x.getBodyDataString())},n.cancel=function(){this.mHTTPRequest&&(this.mHTTPRequest.abort(),this.mHTTPRequest=null)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3728341078103592154x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x2205868517935256955x}],execute:function(){i._RF.push({},"e301bm1UJlHBYlTZA5w9L7H","x3728341078103592154x",void 0),t("x3728341078103592154x",function(t){function i(e){var i;return(i=t.call(this)||this).x219074904794373796x=e,i.mSceneDiv=null,i}e(i,t);var n=i.prototype;return n.getParentDiv=function(){try{return window.getGameDiv()}catch(t){return document.getElementById("GameDiv")}},n.x1264560962448768532x=function(){return this.x219074904794373796x},n.createSceneDiv=function(t,e,i){var n=document.createElement("div");return n.id=t,n.style.width=e,n.style.height=i,n.style.position="absolute",n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="center",n.style.justifyContent="center",n},n.destroy=function(){this.x3939848064135711250x()},n.enter=function(){this.mSceneDiv&&this.getParentDiv().appendChild(this.mSceneDiv),this.x4495710861925725821x()},n.exit=function(){this.x225488446312241429x(),this.mSceneDiv&&this.getParentDiv().removeChild(this.mSceneDiv)},n.suspend=function(){this.mSceneDiv.style.visibility="hidden",this.x2327941543180557982x()},n.resume=function(){this.mSceneDiv.style.visibility="visible",this.x1537504499037085896x()},n.terminate=function(){this.x3873791152225527391x()},n.processTimeMSEC=function(t){this.x3126687226570668587x(t)},n.x3939848064135711250x=function(){},n.x4495710861925725821x=function(){},n.x225488446312241429x=function(){},n.x2327941543180557982x=function(){},n.x1537504499037085896x=function(){},n.x3873791152225527391x=function(){},n.x3126687226570668587x=function(t){},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x2818285275314045168x.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"cf08311SDdL974IqIP0wnWL","x2818285275314045168x",void 0),t("x2818285275314045168x",function(){function t(t,e,i,n){this.mX=t,this.mY=e,this.mWidth=i,this.mHeight=n}var e=t.prototype;return e.getLeft=function(){return this.mX},e.getCenterX=function(){return this.mX+.5*this.mWidth},e.getRight=function(){return this.mX+this.mWidth},e.getBottom=function(){return this.mY},e.getCenterY=function(){return this.mY+.5*this.mHeight},e.getTop=function(){return this.mY+this.mHeight},e.isPointInside=function(t,e){return!(t<this.mX||t>=this.mX+this.mWidth||e<this.mY||e>=this.mY+this.mHeight)},t}()),e._RF.pop()}}})),System.register("chunks:///_virtual/x936765086372057061x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x2205868517935256955x}],execute:function(){n._RF.push({},"1b685uHJG9I8pV4uHpNp5Pq","x936765086372057061x",void 0),t("x936765086372057061x",function(t){function n(){var e;return(e=t.call(this)||this).mRefCount=0,e.mLifeStatus=n.x569866731552640204x,e.mName="",e}e(n,t);var r=n.prototype;return r.retain=function(){switch(this.mLifeStatus){case n.x569866731552640204x:return void this.mRefCount++;case n.x1124989667917749708x:case n.x1526215257294344438x:return}},r.release=function(){switch(this.mLifeStatus){case n.x569866731552640204x:return this.mRefCount,this.mRefCount--,void(this.mRefCount<=0&&(this.mLifeStatus=n.x1124989667917749708x,this.destroy()));case n.x1124989667917749708x:case n.x1526215257294344438x:return}},r.getName=function(){return this.mName},r.setName=function(t){this.mName=t,this.x3889524915008085990x(t)},r.x3889524915008085990x=function(t){},r.x1721113016797186854x=function(){this.mLifeStatus!=n.x1526215257294344438x&&(this.mLifeStatus=n.x1526215257294344438x,t.prototype.x1721113016797186854x.call(this))},i(n,null,[{key:"kBPSRetainedObjectClassId",get:function(){return 442130469}},{key:"x569866731552640204x",get:function(){return 1}},{key:"x1124989667917749708x",get:function(){return 2}},{key:"x1526215257294344438x",get:function(){return 3}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1975437464451156427x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1550596296120876899x.ts","./x702435451033209193x.ts","./x1442954324271535409x.ts","./x1046482460489005215x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1550596296120876899x},function(t){r=t.x702435451033209193x},function(t){s=t.x1442954324271535409x},function(t){a=t.x1046482460489005215x}],execute:function(){i._RF.push({},"58da3dlUfFEaoDeUlLMwHcI","x1975437464451156427x",void 0),t("x1975437464451156427x",function(t){function i(e){var i;return(i=t.call(this,!0,e)||this).mSpriteFrame=null,i.mTopLeftSprite=new a(e),i.mTopLeftSprite.setName("TopLeftSprite"),i.mTopLeftSprite.setAnchor(1,0),i.mTopLeftSprite.retain(),i.mTopSprite=new a(e),i.mTopSprite.setName("TopSprite"),i.mTopSprite.setAnchor(.5,0),i.mTopSprite.retain(),i.mTopRightSprite=new a(e),i.mTopRightSprite.setName("TopRightSprite"),i.mTopRightSprite.setAnchor(0,0),i.mTopRightSprite.retain(),i.mLeftSprite=new a(e),i.mLeftSprite.setName("LeftSprite"),i.mLeftSprite.setAnchor(1,.5),i.mLeftSprite.retain(),i.mCenterSprite=new a(e),i.mCenterSprite.setName("CenterSprite"),i.mCenterSprite.setAnchor(.5,.5),i.mCenterSprite.retain(),i.mRightSprite=new a(e),i.mRightSprite.setName("RightSprite"),i.mRightSprite.setAnchor(0,.5),i.mRightSprite.retain(),i.mBottomLeftSprite=new a(e),i.mBottomLeftSprite.setName("BottomLeftSprite"),i.mBottomLeftSprite.setAnchor(1,1),i.mBottomLeftSprite.retain(),i.mBottomSprite=new a(e),i.mBottomSprite.setName("BottomSprite"),i.mBottomSprite.setAnchor(.5,1),i.mBottomSprite.retain(),i.mBottomRightSprite=new a(e),i.mBottomRightSprite.setName("BottomRightSprite"),i.mBottomRightSprite.setAnchor(0,1),i.mBottomRightSprite.retain(),i.createInternalChildrenContainer(),i.getInternalChildrenContainer().setEnableChildrenSiblingDepthOffset(!1),i.setName("_BPSScale9Sprite"),i}e(i,t);var n=i.prototype;return n.setSpriteFrame=function(t){if(this.mSpriteFrame!=t){this.mSpriteFrame=t;var e=null,i=this.getInternalChildrenContainer(),n=0;if(t){if(t.isScale9())for(this.mLeftInset=t.getScale9LeftInset(),this.mRightInset=t.getScale9RightInset(),this.mTopInset=t.getScale9TopInset(),this.mBottomInset=t.getScale9BottomInset(),9!=i.getNumChildren()&&(i.removeAllChildren(!0),i.addChild(this.mTopLeftSprite),i.addChild(this.mTopSprite),i.addChild(this.mTopRightSprite),i.addChild(this.mLeftSprite),i.addChild(this.mCenterSprite),i.addChild(this.mRightSprite),i.addChild(this.mBottomLeftSprite),i.addChild(this.mBottomSprite),i.addChild(this.mBottomRightSprite)),n=0;n<9;n++)(e=i.getChildAtIndex(n)).setSpriteFrame(t),e.setSpriteFrameIndex(n);else this.mLeftInset=0,this.mRightInset=0,this.mTopInset=0,this.mBottomInset=0,1!=i.getNumChildren()&&(i.removeAllChildren(!0),i.addChild(this.mCenterSprite)),this.mCenterSprite.setSpriteFrame(t),this.mCenterSprite.setSpriteFrameIndex(0);this.x3803532165094435170x(this.getWidth(),this.getHeight())}else{var r=i.getNumChildren();for(n=0;n<r;n++)(e=i.getChildAtIndex(n)).setSpriteFrame(null)}}},n.x962108131907433511x=function(e){t.prototype.x962108131907433511x.call(this,e),this.setName("_BPSScale9Sprite"),e&&this.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(e.getStringValue(r.stringToValueKey("resource_texture"))))},n.x1721113016797186854x=function(){this.mSpriteFrame=null,this.mTopLeftSprite&&this.mTopLeftSprite.release(),this.mTopLeftSprite=null,this.mTopSprite&&this.mTopSprite.release(),this.mTopSprite=null,this.mTopRightSprite&&this.mTopRightSprite.release(),this.mTopRightSprite=null,this.mLeftSprite&&this.mLeftSprite.release(),this.mLeftSprite=null,this.mCenterSprite&&this.mCenterSprite.release(),this.mCenterSprite=null,this.mRightSprite&&this.mRightSprite.release(),this.mRightSprite=null,this.mBottomLeftSprite&&this.mBottomLeftSprite.release(),this.mBottomLeftSprite=null,this.mBottomSprite&&this.mBottomSprite.release(),this.mBottomSprite=null,this.mBottomRightSprite&&this.mBottomRightSprite.release(),this.mBottomRightSprite=null,t.prototype.x1721113016797186854x.call(this)},n.x3803532165094435170x=function(e,i){if(t.prototype.x3803532165094435170x.call(this,e,i),9==this.getInternalChildrenContainer().getNumChildren()){var n=.5*-e,r=.5*-i,s=e-this.mLeftInset-this.mRightInset,a=i-this.mTopInset-this.mBottomInset,o=n+this.mLeftInset,x=o+s,u=r+this.mBottomInset,c=u+a;this.mCenterSprite.setSize(s,a),this.mTopLeftSprite.setPosition(o,c),this.mTopRightSprite.setPosition(x,c),this.mBottomLeftSprite.setPosition(o,u),this.mBottomRightSprite.setPosition(x,u),this.mTopSprite.setPosition(0,c),this.mTopSprite.setSize(s,this.mTopInset),this.mLeftSprite.setPosition(o,0),this.mLeftSprite.setSize(this.mLeftInset,a),this.mRightSprite.setPosition(x,0),this.mRightSprite.setSize(this.mRightInset,a),this.mBottomSprite.setPosition(0,u),this.mBottomSprite.setSize(s,this.mBottomInset)}else this.mCenterSprite.setSize(e,i)},n.x2370511840089065695x=function(){return this.mSpriteFrame?this.mSpriteFrame.isScale9()?this.mLeftInset+this.mCenterSprite.getAutoWidth()+this.mRightInset:s.NativeSpriteFrame_getWidth(this.mSpriteFrame.getNativeSpriteFrame(0)):0},n.x2242586287672954044x=function(){return this.mSpriteFrame?this.mSpriteFrame.isScale9()?this.mBottomInset+this.mCenterSprite.getAutoHeight()+this.mTopInset:s.NativeSpriteFrame_getHeight(this.mSpriteFrame.getNativeSpriteFrame(0)):0},n.x3417002216668774979x=function(t){if(this.hasInternalChildren())for(var e=this.getInternalChildrenContainer(),i=e.getNumChildren(),n=0;n<i;n++)e.getChildAtIndex(n).setAlpha(t)},n.x3043966882343981070x=function(t){this.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValue(r.stringToValueKey("resource_texture")))),this.setAlpha(t.getFloatValueWithDefault(r.stringToValueKey("alpha"),1))},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x1413698088565076133x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x3693760142138385085x.ts","./x3890695507897055596x.ts","./x4474588899120617551x.ts","./x702435451033209193x.ts","./x1442954324271535409x.ts","./x4016911264059163956x.ts","./x1975437464451156427x.ts","./x1127813857485463346x.ts","./x1550596296120876899x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x2205868517935256955x},function(t){a=t.x3693760142138385085x},function(t){o=t.x3890695507897055596x},function(t){x=t.x4474588899120617551x},function(t){u=t.x702435451033209193x},function(t){c=t.x1442954324271535409x},function(t){l=t.x4016911264059163956x},function(t){h=t.x1975437464451156427x},function(t){m=t.x1127813857485463346x},function(t){g=t.x1550596296120876899x}],execute:function(){r._RF.push({},"5f58d0PMdtHU5jN+ZgcRVTI","x1413698088565076133x",void 0),t("x1413698088565076133x",function(t){function r(e,i,s,u){var c;(c=t.call(this)||this).mSceneName=e,c.mSceneId=i,c.x2435508341155752996x=s,c.mNativeSceneController=null,c.mDidInit=!1,c.mDeferConstruct=u.getBoolValueWithKeyStringPath("deferConstruct"),c.mDidConstruct=!1,c.mHideOnSuspend=u.getBoolValueWithKeyStringPath("hideOnSuspend"),c.mSceneParams=u.x3395266717842453812x(),c.mSceneState=r.x3069921592769395230x,c.mElapsedActiveTimeMSEC=0,c.mSceneRootView=new g(!0,s.getAppSupportFactory()),c.mSceneRootView.retain(),c.mSceneRootView.setName(e+"-rootView"),c.mDimmingView=null;var l=c.mSceneParams.getDictionary(r.x354370806946890729x);return l&&(s.isUIControlsNavigationEnabled()||l.setBoolValue(m.x3760414007627883774x,!1)),c.mUIInputMgr=new m(l,n(c)),c.mUIInputMgr.addMessageListener(n(c)),c.mTimerMgr=new x,c.mSceneMgr=null,c.mStateMachine=new o(n(c)),c.mIsInputAllowed=!1,c.mInputBlockingDelayTimerMSEC=0,c.mMessageData=new a(!1),c}e(r,t);var s=r.prototype;return s.x2210706858630359871x=function(){this.mDidInit||(this.mDidInit=!0,this.mDeferConstruct||this.construct())},s.getSceneName=function(){return this.mSceneName},s.getSceneId=function(){return this.mSceneId},s.x1546495508514513272x=function(){return this.x2435508341155752996x},s.getAppSupportFactory=function(){return this.x2435508341155752996x.getAppSupportFactory()},s.getSceneParams=function(){return this.mSceneParams},s.getNativeSceneController=function(){return this.mNativeSceneController},s.getDidConstruct=function(){return this.mDidConstruct},s.getSceneState=function(){return this.mSceneState},s.getSceneRootView=function(){return this.mSceneRootView},s.getSceneMgr=function(){return this.mSceneMgr},s.setSceneMgr=function(t){this.mSceneMgr=t},s.getElapsedActiveTimeMSEC=function(){return this.getSceneState()===r.x2896128441063749266x?this.mElapsedActiveTimeMSEC:0},s.getStateMachine=function(){return this.mStateMachine},s.processTimeMSEC=function(t){switch(this.mSceneState){case r.x2896128441063749266x:case r.x3608446599306422876x:this.mSceneState==r.x2896128441063749266x&&(this.mElapsedActiveTimeMSEC+=t,this.mInputBlockingDelayTimerMSEC>0&&(this.mInputBlockingDelayTimerMSEC-=t,this.mInputBlockingDelayTimerMSEC<=0&&(this.mInputBlockingDelayTimerMSEC=0,this.mUIInputMgr.updateAllPointerControlsState()))),this.mStateMachine.processTime(t),this.mTimerMgr.processTimeMSEC(t),this.x2064865260925868963x(t),this.mNativeSceneController&&this.mNativeSceneController.processTimeMSEC(t)}},s.enter=function(){l.isValid()&&(this.mSceneState=r.x2896128441063749266x,this.mElapsedActiveTimeMSEC=0,this.mInputBlockingDelayTimerMSEC=this.mSceneParams.getIntValue(u.stringToValueKey("inputBlockingDelayMSEC")),this.mIsInputAllowed=this.mInputBlockingDelayTimerMSEC>=0,this.mDidConstruct||this.construct(),this.mDimmingView&&this.x1546495508514513272x().getAppRootView().addChild(this.mDimmingView),this.x1546495508514513272x().getAppRootView().addChild(this.mSceneRootView),this.mUIInputMgr.manageControlsInView(this.getSceneRootView()),c.setCursorToNormal(),this.dispatchMessage(r.x2157740800996097089x,this,null),this.mSceneRootView.handleMessage(r.x2157740800996097089x,this,null,!0),this.x2040832708660789557x(),this.mSceneRootView.updateLayout(!0),this.mNativeSceneController&&this.mNativeSceneController.enter())},s.exit=function(){switch(this.mSceneState){case r.x3069921592769395230x:case r.x2553584756192588905x:return}c.setCursorToNormal(),this.mUIInputMgr.clearManagedControls(),this.mSceneState=r.x3069921592769395230x,this.dispatchMessage(r.x4051753772134109263x,this,null),this.mSceneRootView.handleMessage(r.x4051753772134109263x,this,null,!0),this.x2286393723489345176x(),this.mNativeSceneController&&this.mNativeSceneController.exit(),this.mDimmingView&&this.mDimmingView.removeFromParent(),this.mSceneRootView.removeFromParent()},s.suspend=function(){switch(this.mSceneState){case r.x3069921592769395230x:case r.x3608446599306422876x:case r.x2553584756192588905x:return}c.setCursorToNormal(),this.mUIInputMgr.cancelAllInputActions(),this.mSceneState=r.x3608446599306422876x,this.mDimmingView&&this.mDimmingView.removeFromParent(),this.mHideOnSuspend&&this.mSceneRootView.removeFromParent(),this.dispatchMessage(r.x2024075128489571141x,this,null),this.mSceneRootView.handleMessage(r.x2024075128489571141x,this,null,!0),this.x2205753240179020188x(),this.mNativeSceneController&&this.mNativeSceneController.suspend()},s.resume=function(){switch(this.mSceneState){case r.x3069921592769395230x:case r.x2896128441063749266x:case r.x2553584756192588905x:return}this.mSceneState=r.x2896128441063749266x,this.mInputBlockingDelayTimerMSEC=this.mSceneParams.getIntValue(u.stringToValueKey("inputBlockingDelayMSEC")),this.mIsInputAllowed=this.mInputBlockingDelayTimerMSEC>=0,this.mSceneRootView.removeFromParent(),this.mDimmingView&&this.x1546495508514513272x().getAppRootView().addChild(this.mDimmingView),this.x1546495508514513272x().getAppRootView().addChild(this.mSceneRootView),m.isPointerActive()&&this.mUIInputMgr.resetInputFocusControl(),c.setCursorToNormal(),c.setCursorIsVisible(!0),this.dispatchMessage(r.x3375564835510544078x,this,null),this.mSceneRootView.handleMessage(r.x3375564835510544078x,this,null,!0),this.x829844150907370379x(),this.mSceneRootView.updateLayout(!0),this.mNativeSceneController&&this.mNativeSceneController.resume()},s.terminate=function(){this.mSceneState!==r.x2553584756192588905x&&(this.x130462144329088844x(),this.exit(),this.mSceneState=r.x2553584756192588905x,this.mNativeSceneController&&this.mNativeSceneController.terminate())},s.handleDeviceControlOn=function(t,e,i,n){this.isInputAllowed()&&this.mUIInputMgr.handleDeviceControlOn(t,e,i,n)},s.handleDeviceControlOff=function(t,e,i,n){this.mUIInputMgr.handleDeviceControlOff(t,e,i,n)},s.handleDeviceControlValues=function(t,e,i,n){this.isInputAllowed()&&this.mUIInputMgr.handleDeviceControlValues(t,e,i,n)},s.handleDeviceControlCancelled=function(t,e){this.mUIInputMgr.handleDeviceControlCancelled(t,e)},s.isInputAllowed=function(){return this.mSceneState==r.x2896128441063749266x&&this.mIsInputAllowed&&this.mInputBlockingDelayTimerMSEC<=0},s.startTimer=function(t,e,i){this.mTimerMgr.startTimer(t,e,i)},s.resetTimer=function(t){this.mTimerMgr.resetTimer(t)},s.cancelTimer=function(t){this.mTimerMgr.cancelTimer(t)},s.cancelAllTimers=function(){this.mTimerMgr.cancelAllTimers()},s.getUIInputMgr=function(){return this.mUIInputMgr},s.getMessageData=function(){return this.mMessageData},s.construct=function(){if(!this.mDidConstruct){this.getAppSupportFactory().expandStyles(this.mSceneParams);var t=this.getSceneParams().getDictionaryWithKeyStringPath("backgroundDimmingViewStyle");t&&(this.mDimmingView=new h(this.getAppSupportFactory()),this.mDimmingView.retain(),this.mDimmingView.setName(this.getSceneName()+"-dimmingView"),this.mDimmingView.setStyle(t),this.mDimmingView.setSize(this.x2435508341155752996x.getWindowWidth(),this.x2435508341155752996x.getWindowHeight()));var e=this.mSceneParams.getDictionaryWithKeyString("viewHierarchy");e&&e.getBoolValueWithDefault(u.stringToValueKey("enabled"),!0)&&this.x2435508341155752996x.getAppSupportFactory().createViewHierarchyInView(e.getDictionaryWithKeyString("views"),this.getSceneRootView()),this.mNativeSceneController=this.x2854292763617429740x(),this.x1795041629124088167x(),e&&e.getBoolValueWithDefault(u.stringToValueKey("enabled"),!0)&&e.getBoolValue(u.stringToValueKey("addControlListener"))&&this.getSceneRootView().addControlListenerToHierarchy(this),this.mUIInputMgr.manageControlsInView(this.getSceneRootView()),this.mDidConstruct=!0}},s.x2854292763617429740x=function(){return null},s.x1795041629124088167x=function(){},s.x2040832708660789557x=function(){},s.x2286393723489345176x=function(){},s.x2205753240179020188x=function(){},s.x829844150907370379x=function(){},s.x130462144329088844x=function(){},s.x2064865260925868963x=function(t){},s.x1721113016797186854x=function(){this.mNativeSceneController&&(this.mNativeSceneController.destroy(),mNativeSceneController=null),null!==this.mSceneParams&&(this.mSceneParams.destroy(),this.mSceneParams=null),this.mDimmingView&&this.mDimmingView.release(),this.mDimmingView=null,this.mSceneRootView.removeFromParent(),this.mSceneRootView.removeAllChildren(!0),this.mSceneRootView&&this.mSceneRootView.release(),this.mSceneRootView=null,null!==this.mUIInputMgr&&(this.mUIInputMgr.destroy(),this.mUIInputMgr=null),null!==this.mTimerMgr&&(this.mTimerMgr.destroy(),this.mTimerMgr=null),null!==this.mStateMachine&&(this.mStateMachine.destroy(),this.mStateMachine=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),t.prototype.x1721113016797186854x.call(this)},i(r,null,[{key:"x354370806946890729x",get:function(){return 1000131251}},{key:"x2157740800996097089x",get:function(){return 1399446372}},{key:"x4051753772134109263x",get:function(){return 104433118}},{key:"x2024075128489571141x",get:function(){return 1018195328}},{key:"x3375564835510544078x",get:function(){return 2050427471}},{key:"x3069921592769395230x",get:function(){return 0}},{key:"x2896128441063749266x",get:function(){return 1}},{key:"x3608446599306422876x",get:function(){return 2}},{key:"x2553584756192588905x",get:function(){return 3}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x160249411363356178x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x3693760142138385085x.ts","./x1930801154962670888x.ts","./x3890695507897055596x.ts","./x702435451033209193x.ts","./x4016911264059163956x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x2205868517935256955x},function(t){a=t.x3693760142138385085x},function(t){o=t.x1930801154962670888x},function(t){x=t.x3890695507897055596x},function(t){u=t.x702435451033209193x},function(t){c=t.x4016911264059163956x}],execute:function(){r._RF.push({},"bad8c6rOtZAsKX2SLVGxtU6","x160249411363356178x",void 0),t("x160249411363356178x",function(t){function r(){var e;return(e=t.call(this)||this).mManagedScenes=new a(!0),e.mStateMachine=new x(n(e)),e.mPreviousSceneName="",e}e(r,t);var s=r.prototype;return s.isActive=function(){return this.getCurrentScene()},s.getManagedScene=function(t){return this.mManagedScenes.getObjectValue(u.stringToValueKey(t))},s.getManagedSceneWithId=function(t){return this.mManagedScenes.getObjectValue(t)},s.addManagedScene=function(t){t&&(t.setSceneMgr(this),this.mManagedScenes.setObjectValue(u.stringToValueKey(t.getSceneName()),t))},s.removeManagedScene=function(t){this.mManagedScenes.setObjectValue(t.getSceneId(),null)},s.initManagedScenes=function(){for(var t=this.mManagedScenes.getNumValues(),e=0;e<t;e++){var i=this.mManagedScenes.getObjectValueAtIndex(e);i&&i.x2210706858630359871x()}this.dispatchMessageToManagedScenes(r.x1612170441469018558x,this,null),this.dispatchMessage(r.x1612170441469018558x,this,null)},s.dispatchMessageToManagedScenes=function(t,e,i){for(var n=this.mManagedScenes.getNumValues(),r=0;r<n;r++){var s=this.mManagedScenes.getObjectValueAtIndex(r);s&&s.x601562840631873202x(t,e,i)}},s.getCurrentScene=function(){return this.getManagedSceneWithId(this.mStateMachine.getCurrentState())},s.getCurrentSceneElapsedTimeMSEC=function(){return this.mStateMachine.getCurrentStateElapsedTimeMSEC()},s.getSceneOnStack=function(t){return this.getManagedSceneWithId(this.mStateMachine.getStateOnStackFromTop(t))},s.getPreviousSceneId=function(){return this.mStateMachine.getPreviousState()},s.getPreviousSceneName=function(){return this.mPreviousSceneName},s.setScene=function(t){this.mStateMachine.setState(u.stringToValueKey(t))},s.pushScene=function(t){this.mStateMachine.pushState(u.stringToValueKey(t))},s.popScene=function(){this.mStateMachine.popState()},s.popScenes=function(t){this.mStateMachine.popStates(t)},s.swapScene=function(t){this.mStateMachine.swapState(u.stringToValueKey(t))},s.popToSceneThenSwapScene=function(t,e){this.mStateMachine.popToStateThenSwapState(u.stringToValueKey(t),u.stringToValueKey(e))},s.terminate=function(){var t=this.getCurrentScene();t&&t.terminate(),this.mStateMachine.setState(-1)},s.processTimeMSEC=function(t){this.mStateMachine.processTime(t)},s.x1721113016797186854x=function(){null!==this.mStateMachine&&(this.mStateMachine.destroy(),this.mStateMachine=null),null!==this.mManagedScenes&&(this.mManagedScenes.destroy(),this.mManagedScenes=null),t.prototype.x1721113016797186854x.call(this)},s.x4574927063157401553x=function(e,i,n,s){var a=this.getManagedSceneWithId(i);if(a)switch(e){case o.x2982972318080668761x:this.dispatchMessage(r.x3818065925379378581x,this,null),a.enter(),this.mStateMachine.getNumStatesOnStack()>1&&c.instance().handleUIEvent(c.x2779436841862367646x);break;case o.x3793884777573381281x:a.processTimeMSEC(s);break;case o.x4149106650117426330x:this.dispatchMessage(r.x2947551111525095742x,this,null),a.exit(),this.mPreviousSceneName=a.getSceneName();break;case o.x1833525782337335420x:this.dispatchMessage(r.x867817600976159769x,this,null),a.suspend(),this.mPreviousSceneName=a.getSceneName();break;case o.x2599724495783728129x:this.dispatchMessage(r.x2241331699232838332x,this,null),a.resume(),c.instance().handleUIEvent(c.x988729984832240756x)}return t.prototype.x4574927063157401553x.call(this,e,i,n,s)},i(r,null,[{key:"x1612170441469018558x",get:function(){return 1121494050}},{key:"x3818065925379378581x",get:function(){return 1417747258}},{key:"x2947551111525095742x",get:function(){return 723972232}},{key:"x867817600976159769x",get:function(){return 293151318}},{key:"x2241331699232838332x",get:function(){return 2126888953}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x1046482460489005215x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1550596296120876899x.ts","./x702435451033209193x.ts","./x1442954324271535409x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1550596296120876899x},function(t){r=t.x702435451033209193x},function(t){s=t.x1442954324271535409x}],execute:function(){i._RF.push({},"6e50fSsi3ZB8orDcLA7ipmB","x1046482460489005215x",void 0),t("x1046482460489005215x",function(t){function i(e){var i;return(i=t.call(this,!1,e)||this).mSpriteFrame=null,i.mSpriteFrameIndex=0,i.mNativeSprite=s.NativeSprite_createWithSpriteFrame(null),i.setNativeView(i.mNativeSprite),i.setName("_BPSSprite"),i}e(i,t);var n=i.prototype;return n.getSpriteFrame=function(){return this.mSpriteFrame},n.setSpriteFrame=function(t){if(this.mSpriteFrame!=t){this.mSpriteFrame=t;var e=this.mSpriteFrameIndex;this.mSpriteFrameIndex=-1,this.setSpriteFrameIndex(e)}},n.setSpriteFrameIndex=function(t){if(this.mSpriteFrameIndex!=t)if(this.mSpriteFrameIndex=t,this.mSpriteFrame){var e=this.mSpriteFrame.getNativeSpriteFrame(t);s.NativeSprite_setSpriteFrame(this.mNativeSprite,e,!0),this.setSize(s.NativeSpriteFrame_getWidth(e),s.NativeSpriteFrame_getHeight(e))}else s.NativeSprite_setSpriteFrame(this.mNativeSprite,null,!1)},n.x962108131907433511x=function(e){t.prototype.x962108131907433511x.call(this,e),this.setName("_BPSSprite"),e&&this.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(e.getStringValue(r.stringToValueKey("resource_texture"))))},n.x1721113016797186854x=function(){this.mNativeSprite=null,this.mSpriteFrame=null,t.prototype.x1721113016797186854x.call(this)},n.x3803532165094435170x=function(t,e){s.NativeSprite_setSize(this.mNativeSprite,t,e)},n.x2370511840089065695x=function(){if(this.mSpriteFrame){var t=this.mSpriteFrame.getNativeSpriteFrame(this.mSpriteFrameIndex);return s.NativeSpriteFrame_getWidth(t)}return 0},n.x2242586287672954044x=function(){if(this.mSpriteFrame){var t=this.mSpriteFrame.getNativeSpriteFrame(this.mSpriteFrameIndex);return s.NativeSpriteFrame_getHeight(t)}return 0},n.x3417002216668774979x=function(t){s.NativeSprite_setAlpha(this.mNativeSprite,t)},n.x3043966882343981070x=function(t){this.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValue(r.stringToValueKey("resource_texture")))),this.setAlpha(t.getFloatValueWithDefault(r.stringToValueKey("alpha"),1))},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x1888856487047269142x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x}],execute:function(){n._RF.push({},"30a1fwyA5xBObRP55YcvDjP","x1888856487047269142x",void 0),t("x1888856487047269142x",function(t){function n(e){var i;return(i=t.call(this)||this).mAchievementsComponent=e,i.mIsEnabled=!0,i.mAchievementId="",i.mAchievementDisplayName="",i.mDoProcessTime=!0,i.mStatus=n.x29331480522371931x,i}e(n,t);var r=n.prototype;return r.setParams=function(t){t&&(this.mIsEnabled=t.getBoolValueWithDefault(n.x1170515238876133688x,!0),this.mAchievementId=t.getStringValue(n.x1440269332072556090x),this.mAchievementDisplayName=t.getStringValue(n.x576489692024294350x),this.mStatus=this.mIsEnabled?n.x29331480522371931x:n.x3726752451142900625x,this.x2092887497860563669x(t))},r.getAchievementsComponent=function(){return this.mAchievementsComponent},r.isEnabled=function(){return this.mIsEnabled},r.getAchievementId=function(){return this.mAchievementId},r.getAchievementDisplayName=function(){return this.mAchievementDisplayName},r.getStatus=function(){return this.mStatus},r.handleWillPreStartGame=function(){this.x4489870146836287515x()},r.handleDidEndGame=function(){this.x875014192504693702x()},r.processTime=function(t){this.mDoProcessTime&&this.mStatus==n.x29331480522371931x&&this.x811945498404567267x(t)},r.setDoProcessTime=function(t){this.mDoProcessTime=t},r.setStatusComplete=function(){this.mStatus==n.x29331480522371931x&&(this.mStatus=n.x4357796175046631807x,this.mAchievementsComponent.handleAchievementComplete(this))},r.x2092887497860563669x=function(t){},r.x4489870146836287515x=function(){},r.x875014192504693702x=function(){},r.x811945498404567267x=function(t){},r.x1721113016797186854x=function(){this.mAchievementsComponent=null,t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x4296290225666364325x",get:function(){return 1589639874}},{key:"x1170515238876133688x",get:function(){return 488921072}},{key:"x1440269332072556090x",get:function(){return 1154405433}},{key:"x576489692024294350x",get:function(){return 986596815}},{key:"x3726752451142900625x",get:function(){return 3954863}},{key:"x29331480522371931x",get:function(){return 1840769881}},{key:"x4357796175046631807x",get:function(){return 635192876}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x4205701266739920358x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3339987402386958992x.ts","./x3693760142138385085x.ts","./x1930801154962670888x.ts","./x3461623316906106937x.ts","./x465198262610160323x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3339987402386958992x},function(t){a=t.x3693760142138385085x},function(t){o=t.x1930801154962670888x},function(t){x=t.x3461623316906106937x},function(t){u=t.x465198262610160323x}],execute:function(){r._RF.push({},"3feee0ZgUNJqZtomHQYRHhC","x4205701266739920358x",void 0),t("x4205701266739920358x",function(t){function r(e,i){var s;return(s=t.call(this,r.x2987804182516709922x,e)||this).getParams().copy(i,!1),e.addMessageListener(n(s)),s.mAchievements=new a(!0),s.mMessageData=new a(!1),s.createStandardAchievements(i.getDictionary(r.x3046781482929585394x)),s.setNextState(1,!1),s}e(r,t);var s=r.prototype;return s.manageAchievement=function(t){t&&t.isEnabled()&&this.mAchievements.setObjectValueWithKeyString(t.getAchievementId(),t)},s.handleAchievementComplete=function(t){this.mMessageData.setObjectValue(r.x3546967576087875683x,t),this.dispatchMessage(r.x3680727610590955592x,this,this.mMessageData),this.mMessageData.clearObjectValues()},s.createStandardAchievements=function(t){for(var e=t.getNumValues(),i=0;i<e;i++){var n=new u(this);n.setParams(t.getDictionaryAtIndex(i)),this.manageAchievement(n)}},s.handleWillPreStartGame=function(){for(var t=this.mAchievements.getNumValues(),e=0;e<t;e++)this.mAchievements.getObjectValueAtIndex(e).handleWillPreStartGame()},s.handleDidEndGame=function(){for(var t=this.mAchievements.getNumValues(),e=0;e<t;e++)this.mAchievements.getObjectValueAtIndex(e).handleDidEndGame()},s._processTime=function(t){for(var e=this.mAchievements.getNumValues(),i=0;i<e;i++)this.mAchievements.getObjectValueAtIndex(i).processTime(t)},s.x1721113016797186854x=function(){null!==this.mAchievements&&(this.mAchievements.destroy(),this.mAchievements=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),t.prototype.x1721113016797186854x.call(this)},s.x4498870316303653116x=function(t,e,i,n){switch(t){case o.x2580340477778594771x:return e;case o.x2982972318080668761x:return 0;case o.x3793884777573381281x:return this._processTime(n),n;case o.x4149106650117426330x:default:return 0}},s.x601562840631873202x=function(t,e,i){if(e==this.getPlayer())switch(t){case x.x2571108714608016537x:this.handleWillPreStartGame();break;case x.x56503911874966533x:this.handleDidEndGame()}},i(r,null,[{key:"x2987804182516709922x",get:function(){return 127264533}},{key:"x3046781482929585394x",get:function(){return 127264533}},{key:"x3680727610590955592x",get:function(){return 1382867146}},{key:"x3546967576087875683x",get:function(){return 114347450}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x1442954324271535409x.ts",["cc","./x3693760142138385085x.ts","./x702435451033209193x.ts","./x3807920460184414210x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.cclegacy},function(t){i=t.x3693760142138385085x},function(t){n=t.x702435451033209193x},function(t){r=t.x3807920460184414210x}],execute:function(){e._RF.push({},"6e373yjtHVA648Q5hdEq0pn","x1442954324271535409x",void 0),t("x1442954324271535409x",function(){function t(){}return t.isBrowserIE=function(){return cc.sys.browserType==cc.sys.BrowserType.IE},t.getDeviceSerialNumber=function(){return""},t.setCursorIsVisible=function(e){if(t.sIsCursorVisible!=e&&(t.sIsCursorVisible=e,!(cc.sys.browserType==cc.sys.BrowserType.IE||cc.sys.browserType==cc.sys.BrowserType.CHROME&&parseInt(cc.sys.browserVersion)<58)))try{e?"default"!=window.getGameDiv().style.cursor&&(window.getGameDiv().style.cursor="default"):"none"!=window.getGameDiv().style.cursor&&(window.getGameDiv().style.cursor="none")}catch(t){}},t.setCursorToNormal=function(){try{window.getGameDiv().style.cursor="default"}catch(t){}},t.setCursorToButton=function(){t.setCursorIsVisible(!0);try{window.getGameDiv().style.cursor="pointer"}catch(t){}},t.replaceString=function(t,e,i){return t.split(e).join(i)},t.isFilePathRemote=function(t){return n.stringStartsWith(t,"remote://")||n.stringStartsWith(t,"http://")||n.stringStartsWith(t,"https://")},t.removeFilePathExtension=function(t){return n.substringToLastIndex(t,".")},t.prepareLocalResourceFilePath=function(t){return t},t.prepareRemoteResourceFilePath=function(e){return 0==n.firstIndexInString(e,"remote://")&&(e=n.substringFromIndex(e,9)),e=t.replaceString(e,"#","%23"),(e=t.replaceString(e,"=","%3D")).indexOf("?cbid=")<=0&&(e+="?cbid="+t.getCBID()+"a"),e},t.getCBID=function(){var t="0";try{t=window.getCBID()}catch(e){t="0"}return t&&""!=t||(t="0"),t},t.getNumFilePathPermutations=function(t){var e=n.firstIndexInString(t,"{"),i=n.lastIndexInString(t,"}");if(e>0&&i>e){var r=n.substringWithRange(t,e+1,i),s=n.firstIndexInString(r,"..");if(s>0){var a=n.substringToIndex(r,s),o=n.stringToInt(a),x=n.substringFromIndex(r,s+2);return n.stringToInt(x)-o+1}return n.numItemsInStringList(r)}return 1},t.getFilePathPermutation=function(t,e){var i=n.firstIndexInString(t,"{"),r=n.lastIndexInString(t,"}");if(i>0&&r>i){var s=n.substringWithRange(t,i+1,r),a="",o=n.firstIndexInString(s,"..");if(o>0){var x=n.substringToIndex(s,o),u=n.stringToInt(x);a=n.stringFromInt(u+e,1,!1)}else a=n.stringListItemAtIndex(s,e);return n.substringToIndex(t,i)+a+n.substringFromIndex(t,r+1)}return t},t.getFilePathAddition=function(t,e){var i=n.firstIndexInString(t,"{"),r=n.lastIndexInString(t,"}");if(i>0&&r>i){var s=n.substringWithRange(t,i+1,r);return n.stringListItemAtIndex(s,e)}return""},t.NativeBitmap_createWithFile=function(t){return null},t.NativeBitmap_createWithSize=function(t,e,i){var n=document.createElement("canvas");return n.width=t,n.height=e,n},t.NativeBitmap_release=function(t){},t.NativeBitmap_getWidth=function(t){return t?t.width:0},t.NativeBitmap_getHeight=function(t){return t?t.height:0},t.NativeBitmap_hasAlpha=function(t){return!!t},t.NativeBitmap_copy=function(t,e,i,n,r,s,a,o){var x=t.getContext("2d").getImageData(e,i,n,r);s.getContext("2d").putImageData(x,a,o)},t.NativeTexture_createWithBitmap=function(t){try{var e=new cc.ImageAsset(t),i=new cc.Texture2D;return i.image=e,i.setFilters(cc.Texture2D.Filter.LINEAR,cc.Texture2D.Filter.LINEAR),i.setMipFilter(cc.Texture2D.Filter.NONE),i.setWrapMode(cc.Texture2D.WrapMode.CLAMP_TO_EDGE,cc.Texture2D.WrapMode.CLAMP_TO_EDGE,cc.Texture2D.WrapMode.CLAMP_TO_EDGE),i}catch(t){return null}},t.NativeTexture_createWithBitmapFile=function(e){if(""==e)return null;var i=t.NativeBitmap_createWithFile(e),n=t.NativeTexture_createWithBitmap(i);return t.NativeBitmap_release(i),n},t.NativeTexture_getWidth=function(t){return t?t.width:0},t.NativeTexture_getHeight=function(t){return t?t.height:0},t.getAnchoredPosition=function(t,e,i,n){return t+(i-n)*e},t.NativeView_create=function(){var t=new cc.Node;return t.name="_BPSNativeView",t.layer=cc.Layers.Enum.UI_2D,t.addComponent("cc.UITransform").setContentSize(0,0),t},t.NativeView_destroy=function(e,i){e&&t.NativeView_removeFromParent(e)},t.NativeView_setName=function(t,e){t&&(t.name=e)},t.NativeView_addChild=function(e,i){if(e&&i&&t.NativeView_getParent(i)!=e){var n=i._uiProps.uiTransformComp,r=i.BPS_hasSize?i.BPS_width:n.width,s=i.BPS_hasSize?i.BPS_height:n.height;e.addChild(i),n.setContentSize(r,s)}},t.NativeView_removeChild=function(t,e){t&&e&&t.removeChild(e)},t.NativeView_removeAllChildren=function(t){t&&t.removeAllChildren()},t.NativeView_getNumChildren=function(t){return t.children.length},t.NativeView_getChildAtIndex=function(t,e){return t.children[e]},t.NativeView_getParent=function(t){return t?t.parent:null},t.NativeView_removeFromParent=function(t){t&&t.removeFromParent()},t.NativeView_setChildrenSortingDepth=function(t,e,i,n,r){},t.NativeView_getX=function(t){return t.x},t.NativeView_getY=function(t){return t.y},t.NativeView_setPosition=function(t,e,i){t&&t.setPosition(e,i)},t.NativeView_setScale=function(t,e,i){t&&t.setScale(e,i)},t.NativeView_setRotation=function(t,e){t&&t.setRotationFromEuler(0,0,-e)},t.NativeView_setAlpha=function(t,e,i){},t.NativeView_setIsVisible=function(t,e){t&&(t.active=e)},t.NativeView_updateNativeSize=function(e){e.BPS_hasSize&&e._uiProps.uiTransformComp.setContentSize(e.BPS_width,e.BPS_height);for(var i=e.children.length,n=0;n<i;n++){var r=e.children[n];t.NativeView_updateNativeSize(r)}},t.NativeSpriteFrame_createWithTexture=function(e,i,n,r,s){if(!e)return null;var a=t.NativeTexture_getWidth(e),o=t.NativeTexture_getHeight(e);r<=0&&(r=a),s<=0&&(s=o);var x=new cc.SpriteFrame;return x.texture=e,x.setRect(new cc.rect(i,n,r,s)),x},t.NativeSpriteFrame_createWithBitmap=function(e){var i=t.NativeTexture_createWithBitmap(e);return t.NativeSpriteFrame_createWithTexture(i,0,0,0,0)},t.NativeSpriteFrame_createWithBitmapFile=function(e){var i=t.NativeTexture_createWithBitmapFile(e);return t.NativeSpriteFrame_createWithTexture(i,0,0,0,0)},t.NativeSpriteFrame_getWidth=function(t){return t?t.getRect().width:0},t.NativeSpriteFrame_getHeight=function(t){return t?t.getRect().height:0},t.NativeSprite_createWithSpriteFrame=function(e){var i=new cc.Node;i.name="_BPSNativeSprite",i.layer=cc.Layers.Enum.UI_2D;var n=i.addComponent(cc.Sprite);return i.BPS_spriteComponent=n,n.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.NativeSprite_setSpriteFrame(i,e,!0),i},t.NativeSprite_createWithTexture=function(e,i,n,r,s){var a=t.NativeSpriteFrame_createWithTexture(e,i,n,r,s);return t.NativeSprite_createWithSpriteFrame(a)},t.NativeSprite_createWithBitmap=function(e){var i=t.NativeSpriteFrame_createWithBitmap(e);return t.NativeSprite_createWithSpriteFrame(i)},t.NativeSprite_createWithBitmapFile=function(e){var i=t.NativeSpriteFrame_createWithBitmapFile(e);return t.NativeSprite_createWithSpriteFrame(i)},t.NativeSprite_setSpriteFrame=function(e,i,n){if(e.BPS_spriteComponent.spriteFrame=i,n&&i){var r=t.NativeSpriteFrame_getWidth(i),s=t.NativeSpriteFrame_getHeight(i);t.NativeSprite_setSize(e,r,s)}},t.NativeSprite_setAlpha=function(t,e){t.BPS_spriteComponent.color=new cc.Color(255,255,255,255*e)},t.NativeSprite_getWidth=function(t){return t._uiProps.uiTransformComp.width},t.NativeSprite_getHeight=function(t){return t._uiProps.uiTransformComp.height},t.NativeSprite_setSize=function(t,e,i){t&&(t.BPS_hasSize=!0,t.BPS_width=e,t.BPS_height=i,t._uiProps.uiTransformComp.setContentSize(e,i))},t.NativeSprite_setPositionWithAnchor=function(e,i,n,r,s){if(e){var a=t.NativeSprite_getWidth(e),o=t.NativeSprite_getHeight(e),x=t.getAnchoredPosition(i,a,.5,r),u=t.getAnchoredPosition(n,o,.5,s);t.NativeView_setPosition(e,x,u)}},t.NativeCropView_createInParent=function(t,e,i,n,r,s,a,o,x){var u=new cc.Node;u.name="_BPSNativeCropView",u.layer=cc.Layers.Enum.UI_2D;var c=u.addComponent("cc.UITransform");return c.setAnchorPoint(a,o),c.setContentSize(r,s),u.addComponent(cc.Mask),x.addChild(u),u},t.NativeCropView_enableOnChildren=function(t,e){},t.NativeXMLDocument_createDocumentWithString=function(t){return(new DOMParser).parseFromString(t,"text/xml")},t.NativeXMLDocument_getRootElementNode=function(t){return t.documentElement},t.NativeXMLElement_getName=function(t){return t.nodeName},t.NativeXMLElement_getAttributeValue=function(t,e){return t.attributes.getNamedItem(e).value},t.NativeXMLElement_getNumAttributes=function(t){return t.attributes.length},t.NativeXMLElement_getAttributeNameAtIndex=function(t,e){return t.attributes[e].name},t.NativeXMLElement_getStringValue=function(t){return t.firstChild?t.textContent:""},t.NativeXMLElement_getFirstElementNodeChild=function(t){for(var e=t.firstChild;null!=e&&e.nodeType!=Node.ELEMENT_NODE;)e=e.nextSibling;return e},t.NativeXMLElement_getElementNodeChildWithName=function(e,i){for(var n=t.NativeXMLElement_getFirstElementNodeChild(e);n;){if(t.NativeXMLElement_getName(n)==i)return n;n=t.NativeXMLElement_getNextElementNodeSibling(n)}return null},t.NativeXMLElement_getNextElementNodeSibling=function(t){for(var e=t.nextSibling;null!=e&&e.nodeType!=Node.ELEMENT_NODE;)e=e.nextSibling;return e},t.x628460197076463306x=function(e,s,a,o,x,u){e.setSerializationFormat(i.x567888914026673403x),a&&e.removeAllValues();for(var c,l=t.NativeXMLElement_getNumAttributes(s),h=0;h<l;h++)"key"!=(c=t.NativeXMLElement_getAttributeNameAtIndex(s,h))&&e.setAttribute(c,t.NativeXMLElement_getAttributeValue(s,c));if("dict"==t.NativeXMLElement_getName(s))for(var m=null,g=t.NativeXMLElement_getFirstElementNodeChild(s);null!=g;){var f=t.NativeXMLElement_getName(g),d=t.NativeXMLElement_getAttributeValue(g,"key"),p=n.stringToValueKey(d);if(d&&""!=d?!o&&e.hasValue(p)&&(d=d+"-"+n.stringFromInt(e.getNumValues(),1,!1)):d=n.stringFromInt(e.getNumValues(),1,!1),"dict"==f)m=new i(!0),t.x628460197076463306x(m,g,!0,o,x,u),e.insertObjectValue(p,d,e.getNumValues(),m);else switch(r.valueTypeFromString(f)){case r.x2736631188424289638x:e.insertIntValue(p,d,e.getNumValues(),n.stringToInt(t.NativeXMLElement_getStringValue(g)));break;case r.x2484114307597753098x:e.insertFloatValue(p,d,e.getNumValues(),n.stringToFloat(t.NativeXMLElement_getStringValue(g)));break;case r.x3103886056112448540x:e.insertBoolValue(p,d,e.getNumValues(),n.stringToBoolean(t.NativeXMLElement_getStringValue(g)));break;case r.x3076231396314581594x:if(x&&n.stringEndsWith(d,"-JSON")){m=new i(!0);var S=t.NativeXMLElement_getStringValue(g);m.parseJSONString(S,u,!0),e.insertObjectValue(p,d,e.getNumValues(),m)}else e.insertStringValue(p,d,e.getNumValues(),t.NativeXMLElement_getStringValue(g))}g=t.NativeXMLElement_getNextElementNodeSibling(g)}},t.x4510702022040457443x=function(e,i,n,r,s,a){if(i&&""!=i){var o=t.NativeXMLDocument_createDocumentWithString(i),x=t.NativeXMLDocument_getRootElementNode(o);t.x628460197076463306x(e,x,n,r,s,a)}},t.openURL=function(t,e){if(t&&""!=t)try{(null!=window.parent?window.parent:window).open(t,e?"_blank":"_self")}catch(t){}},t.MAPSGGDNNKNNPKZHELAHFJVGELRIMNGMITCHHORGWOFLXI=function(){var t=0,e=0;try{t=window.TGREAIGRIMZPFHREXNXJUMGJNGRPCNDK(),e=window.PCDFCJSRUMBRFNRKJOJKWNSJNMNFONFLPFTKYSBKDT()}catch(t){return!1}return e>0&&t>e&&t-e>n.nextNativeRandomIntInRange(1,10)},t}()).sIsCursorVisible=!0,e._RF.pop()}}})),System.register("chunks:///_virtual/x3026372372374902841x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3339987402386958992x.ts","./x923301222305930093x.ts","./x49008801373907804x.ts","./x3461623316906106937x.ts","./x3693760142138385085x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x4127996380524714105x.ts","./x702435451033209193x.ts","./x349179295227638153x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3339987402386958992x},function(t){a=t.x923301222305930093x},function(t){o=t.x49008801373907804x},function(t){x=t.x3461623316906106937x},function(t){u=t.x3693760142138385085x},function(t){c=t.x1930801154962670888x},function(t){l=t.x3196398007076860870x},function(t){h=t.x4127996380524714105x},function(t){m=t.x702435451033209193x},function(t){g=t.x349179295227638153x}],execute:function(){r._RF.push({},"351bdsdfr9O1aLD8cSFO1de","x3026372372374902841x",void 0),t("x3026372372374902841x",function(t){function r(e,i){var s;(s=t.call(this,r.x3907464974367750351x,e)||this).getParams().setIntValue(r.x3129728275255231106x,0),s.getParams().setIntValue(r.x397920408869262524x,3),s.getParams().setBoolValue(r.x40601823765507347x,!0),s.getParams().setBoolValue(r.x257449257466971351x,!0),s.getParams().setIntValue(r.x515694720745248919x,1e3),s.getParams().setIntValue(r.x2992588265500273030x,100),s.getParams().setIntValue(r.x2702530579227983457x,50),s.getParams().setIntValue(r.x3518357787286620088x,0),s.getParams().setIntValue(r.x522305407927567270x,1),s.getParams().setIntValue(r.x1429367311015339766x,2),s.getParams().setIntValue(r.x1286994360462107702x,4),s.getParams().setIntValue(r.x3419184156918904127x,0),s.getParams().setIntValue(r.x1792911878457244341x,2),s.getParams().setIntValue(r.x751798358032130548x,4),s.getParams().setIntValue(r.x133219957989915741x,6),s.getParams().setIntValue(r.x2957163419845396003x,0),s.getParams().setIntValue(r.x2647497220278558171x,0),s.getParams().setIntValue(r.x1485243485728610476x,10),s.getParams().copy(i,!1),e.addMessageListener(n(s)),s.getGame().addMessageListener(n(s)),s.mRNG=new h;var a=s.getParams().getIntValue(r.x3129728275255231106x);return 0==a&&(a=m.nextNativeRandomInt()),s.mRNG.setSeed(a),s.mScoreComponent=null,s.mNumKnockoutsSent=0,s.mNumKnockoutsReceived=0,s.mTargetPlayerIndex=0,s.mNumAttacksSent=0,s.mNumIncomingAttacks=0,s.mScratchRowMinosArray=new l(e.getMatrixWidth()),s.mMessageData=new u(!1),s.setNextState(1,!1),s}e(r,t);var s=r.prototype;return s.getTargetPlayerIndex=function(){return this.mTargetPlayerIndex},s.setTargetPlayerIndex=function(t){this.mTargetPlayerIndex=t},s.getTargetPlayer=function(){return this.getGame().getPlayerAtIndex(this.mTargetPlayerIndex)},s.getNumKnockoutsSent=function(){return this.mNumKnockoutsSent},s.getNumKnockoutsReceived=function(){return this.mNumKnockoutsReceived},s.getNumAttacksSent=function(){return this.mNumAttacksSent},s.getNumIncomingAttacks=function(){return this.mNumIncomingAttacks},s.processAttackCounters=function(t){if(t<=0||!this.getParams().getBoolValue(r.x257449257466971351x))return 0;for(var e=m.minInt(this.mNumIncomingAttacks,t),i=this.getParams().getIntValue(r.x3258090914215213195x),n=this.getParams().getIntValue(r.x3283409233744108768x),s=0;s<e;s++){var a=i+s*n;this.startTimer(a,this,r.x1629715913903877753x)}return this.mMessageData.setIntValue(r.x2657992839094236368x,e),this.dispatchMessage(r.x2358143868250863138x,this,this.mMessageData),e},s.sendAttacksToTargetPlayer=function(t){if(!(t<=0)){for(var e=this.getParams().getIntValue(r.x515694720745248919x),i=this.getParams().getIntValue(r.x2992588265500273030x),n=0;n<t;n++){var s=e+n*i;this.startTimer(s,this,r.x1935091420908551170x)}this.mNumAttacksSent+=t,this.mMessageData.setIntValue(r.x1969355065676404676x,t),this.dispatchMessage(r.x3543624329488895039x,this,this.mMessageData)}},s.receiveAttacks=function(t,e){if(t>0){var i=this.mNumIncomingAttacks;this.mNumIncomingAttacks+=t;var n=this.getPlayer();this.mNumIncomingAttacks=m.minInt(this.mNumIncomingAttacks,n.getMatrix().getVisibleHeight()),this.mMessageData.setIntValue(r.x3332219283751098360x,i),this.mMessageData.setIntValue(r.x512069985885670020x,t),this.dispatchMessage(r.x91939408693907281x,this,this.mMessageData)}},s.handleDidSendKnockout=function(t){this.mNumKnockoutsSent++},s.processScoreEventMessage=function(t){if(!t.getBoolValue(a.x3846704088808192491x)&&this.getParams().getBoolValue(r.x40601823765507347x)){var e=0;if(0==t.getIntValue(a.x4002130832260486610x))if(t.getBoolValue(a.x141493927620337356x))e=this.getParams().getIntValue(r.x1485243485728610476x);else{var i=t.getIntValue(a.x4021322772183539622x),n=!t.getBoolValue(a.x623771060938972829x);switch(t.getIntValue(a.x4268196375255836292x)){case m.x2088302373693961418x:if(0==t.getIntValue(a.x4002130832260486610x))switch(i){case 0:break;case 1:e=this.getParams().getIntValue(r.x3518357787286620088x);break;case 2:e=this.getParams().getIntValue(r.x522305407927567270x);break;case 3:e=this.getParams().getIntValue(r.x1429367311015339766x);break;case 4:e=n?this.getParams().getIntValue(r.x1286994360462107702x):this.getParams().getIntValue(r.x2401408867043778411x)}break;case m.x3879340559840163537x:switch(i){case 0:e=n?this.getParams().getIntValue(r.x3419184156918904127x):this.getParams().getIntValue(r.x2971939013197583234x);break;case 1:e=n?this.getParams().getIntValue(r.x1792911878457244341x):this.getParams().getIntValue(r.x3703756898540773649x);break;case 2:e=n?this.getParams().getIntValue(r.x751798358032130548x):this.getParams().getIntValue(r.x3225262800116312680x);break;case 3:e=n?this.getParams().getIntValue(r.x133219957989915741x):this.getParams().getIntValue(r.x585991666013145172x)}break;case m.x2242998426507838948x:switch(i){case 0:e=n?this.getParams().getIntValue(r.x2957163419845396003x):this.getParams().getIntValue(r.x1381110127865468262x);break;case 1:e=n?this.getParams().getIntValue(r.x2647497220278558171x):this.getParams().getIntValue(r.x4256410152744072181x)}}}switch(t.getIntValue(a.x4017599486629318019x)){case 0:break;case 1:e+=this.getParams().getIntValue(r.x3758890111052273687x);break;case 2:e+=this.getParams().getIntValue(r.x3614470445036930481x);break;case 3:e+=this.getParams().getIntValue(r.x875554404579188830x);break;case 4:e+=this.getParams().getIntValue(r.x1584111376736183154x);break;case 5:e+=this.getParams().getIntValue(r.x507922123372476591x);break;case 6:e+=this.getParams().getIntValue(r.x4124661791226260503x);break;case 7:e+=this.getParams().getIntValue(r.x2026520746318072487x);break;case 8:e+=this.getParams().getIntValue(r.x3781260445534398923x);break;case 9:e+=this.getParams().getIntValue(r.x238482397686889275x);break;default:e+=this.getParams().getIntValue(r.x3355265003785023832x)}if(e>0){var s=this.processAttackCounters(e),o=m.maxInt(e-s,0);this.sendAttacksToTargetPlayer(o)}}},s._sendAttacksToTargetPlayer=function(t){var e=this.getGame().getPlayerAtIndex(this.mTargetPlayerIndex).getComponent(r.x3907464974367750351x);e&&e.receiveAttacks(t,this)},s.processIncomingAttacks=function(){if(this.mNumIncomingAttacks>0){var t=this.getPlayer().getMatrix();t.setIsVerticalShiftEnabled(!0),t.setIsVerticalShiftUpwards(!0),t.setVerticalShiftMSECPerLine(this.getParams().getIntValue(r.x2702530579227983457x));for(var e=t.getWidth(),i=this.mRNG.nextIntInRange(0,e-1),n=null;this.mNumIncomingAttacks>0;){for(var s=0;s<e;s++)s!=i&&((n=new g).setMinoTypeId(m.x4187320764779318408x),n.setCanFall(!0),n.setIsMatchable(!0),n.setIsKillable(!0)),this.mScratchRowMinosArray.setAtIndex(s,n),n=null;t.addExternalRowBelow(this.mScratchRowMinosArray,!1),this.mNumIncomingAttacks--}this.mNumIncomingAttacks=0}},s._counterAttacksFromTargetPlayer=function(t){this.mNumIncomingAttacks-=t,this.mNumIncomingAttacks<0&&(this.mNumIncomingAttacks=0),this.dispatchMessage(r.x3827945192526708429x,this,null)},s.checkForWinByKnockouts=function(){if(!(this.getParams().getIntValue(r.x397920408869262524x)<=0)){var t=this.getPlayer();if(t.isGameActive()){for(var e=!1,i=this.getGame().getNumPlayers(),n=0;n<i;n++)if(n!=t.getPlayerIndex()&&this.getGame().getPlayerAtIndex(n).isGameActive()){e=!0;break}e||this.determineGameEndCondition()}}},s.determineGameEndCondition=function(){var t=this.getGameEndConditionForValueKey(m.stringFromValueKey(r.x1885458944088954539x),!1);t==r.x271176509498905822x&&(t=this.getGameEndConditionForValueKey(this.getParams().getStringValue(r.x898246537489241209x),!0));var e=this.getPlayer(),i=!1;switch(t){case r.x4307882867729987397x:case r.x271176509498905822x:i=!0;break;case r.x790306920451850578x:i=!1}e.tryEndGame(t,i,!1,!1)},s.getGameEndConditionForValueKey=function(t,e){for(var i=this.getPlayer(),n=this.x4217507585807386070x(t),s=e?m.x3148667442332835850x:m.x4486032239274713138x,a=this.getGame().getNumPlayers(),o=0;o<a;o++)if(o!=i.getPlayerIndex()){var x=this.getGame().getPlayerAtIndex(o).getComponent(r.x3907464974367750351x);if(x){var u=x.x4217507585807386070x(t);e?u>s&&(s=u):u<s&&(s=u)}}return e?n>s?r.x4307882867729987397x:n<s?r.x790306920451850578x:r.x271176509498905822x:n<s?r.x4307882867729987397x:n>s?r.x790306920451850578x:r.x271176509498905822x},s.x1721113016797186854x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),null!==this.mScratchRowMinosArray&&(this.mScratchRowMinosArray.destroy(),this.mScratchRowMinosArray=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),t.prototype.x1721113016797186854x.call(this)},s.x4498870316303653116x=function(e,i,n,r){switch(t.prototype.x4498870316303653116x.call(this,e,i,n,r),e){case c.x2580340477778594771x:return i;case c.x2982972318080668761x:return 0;case c.x3793884777573381281x:return this.checkForWinByKnockouts(),r;case c.x4149106650117426330x:default:return 0}},s.x601562840631873202x=function(t,e,i){if(null==e)switch(t){case r.x1935091420908551170x:this._sendAttacksToTargetPlayer(1);break;case r.x1629715913903877753x:this._counterAttacksFromTargetPlayer(1)}else if(e==this.mScoreComponent)t===a.x4563261606863935423x&&this.processScoreEventMessage(i);else if(e==this.getPlayer())switch(t){case x.x2571108714608016537x:this.mScoreComponent=this.getPlayer().getComponent(a.x2355730316075620282x),this.mScoreComponent&&this.mScoreComponent.addMessageListener(this);var n=this.getGame().getNumPlayers();this.mTargetPlayerIndex=m.loopClampedInt(this.getPlayer().getPlayerIndex()+1,0,n-1);break;case x.x1368156971866977203x:switch(this.getPlayer().getCurrentState()){case x.x2202293818172776902x:if(this.getParams().getIntValue(r.x397920408869262524x)>0){var s=this.mNumKnockoutsReceived<this.getParams().getIntValue(r.x397920408869262524x)-1;this.getPlayer().getParams().setBoolValue(x.x3547030710720434372x,!s)}else this.getPlayer().getParams().setBoolValue(x.x3547030710720434372x,!1);break;case x.x226737526530541234x:this.getPlayer().didHoldLivePiece()||this.processIncomingAttacks()}break;case x.x3953910861833633539x:if(this.getParams().getIntValue(r.x397920408869262524x)>0){this.mNumKnockoutsReceived++,this.dispatchMessage(r.x4223748992722980124x,this,null);var u=this.getGame().getPlayerAtIndex(this.mTargetPlayerIndex).getComponent(r.x3907464974367750351x);u&&u.handleDidSendKnockout(this)}}else if(e==this.getGame()&&t===o.x1837688871124046825x&&this.getGame().getCurrentState()===o.x3265934470092458605x)switch(this.getPlayer().getGameEndCondition()){case x.x2830093544984712018x:this.determineGameEndCondition();break;case x.x4593350295173720350x:this.getPlayer().tryEndGame(r.x790306920451850578x,!1,!1,!1)}},s.x4217507585807386070x=function(e){switch(m.getFirstValueKeyInPath(e)){case r.x1885458944088954539x:return this.mNumKnockoutsReceived;case r.x4250729449451724860x:return this.mNumAttacksSent;default:return t.prototype.x4217507585807386070x.call(this,e)}},i(r,null,[{key:"x3907464974367750351x",get:function(){return 1407820777}},{key:"x3129728275255231106x",get:function(){return 1326329515}},{key:"x397920408869262524x",get:function(){return 733934483}},{key:"x40601823765507347x",get:function(){return 1340508739}},{key:"x257449257466971351x",get:function(){return 1148246755}},{key:"x515694720745248919x",get:function(){return 209527342}},{key:"x2992588265500273030x",get:function(){return 1168031694}},{key:"x3258090914215213195x",get:function(){return 394352516}},{key:"x3283409233744108768x",get:function(){return 581268984}},{key:"x2702530579227983457x",get:function(){return 1875430827}},{key:"x3518357787286620088x",get:function(){return 1667761981}},{key:"x522305407927567270x",get:function(){return 1905391174}},{key:"x1429367311015339766x",get:function(){return 2024814419}},{key:"x1286994360462107702x",get:function(){return 108231374}},{key:"x3419184156918904127x",get:function(){return 558190913}},{key:"x1792911878457244341x",get:function(){return 495642761}},{key:"x751798358032130548x",get:function(){return 733271954}},{key:"x133219957989915741x",get:function(){return 852695199}},{key:"x2957163419845396003x",get:function(){return 1041732138}},{key:"x2647497220278558171x",get:function(){return 135281650}},{key:"x2401408867043778411x",get:function(){return 1218714679}},{key:"x2971939013197583234x",get:function(){return 340313496}},{key:"x3703756898540773649x",get:function(){return 414673504}},{key:"x3225262800116312680x",get:function(){return 652302697}},{key:"x585991666013145172x",get:function(){return 771725942}},{key:"x1381110127865468262x",get:function(){return 2122010497}},{key:"x4256410152744072181x",get:function(){return 2124383945}},{key:"x3758890111052273687x",get:function(){return 1731334040}},{key:"x3614470445036930481x",get:function(){return 1731334041}},{key:"x875554404579188830x",get:function(){return 1731334042}},{key:"x1584111376736183154x",get:function(){return 1731334043}},{key:"x507922123372476591x",get:function(){return 1731334044}},{key:"x4124661791226260503x",get:function(){return 1731334045}},{key:"x2026520746318072487x",get:function(){return 1731334046}},{key:"x3781260445534398923x",get:function(){return 1731334047}},{key:"x238482397686889275x",get:function(){return 1731334048}},{key:"x3355265003785023832x",get:function(){return 1961481880}},{key:"x1485243485728610476x",get:function(){return 819475413}},{key:"x898246537489241209x",get:function(){return 684088683}},{key:"x1885458944088954539x",get:function(){return 1961612933}},{key:"x4250729449451724860x",get:function(){return 1776651374}},{key:"x1935091420908551170x",get:function(){return 20997154}},{key:"x3543624329488895039x",get:function(){return 1698913865}},{key:"x1969355065676404676x",get:function(){return 1242594070}},{key:"x91939408693907281x",get:function(){return 1984616578}},{key:"x3332219283751098360x",get:function(){return 1890401191}},{key:"x512069985885670020x",get:function(){return 377548320}},{key:"x4223748992722980124x",get:function(){return 1573404451}},{key:"x2358143868250863138x",get:function(){return 659830313}},{key:"x2657992839094236368x",get:function(){return 1242594070}},{key:"x3827945192526708429x",get:function(){return 177575496}},{key:"x1629715913903877753x",get:function(){return 1679029435}},{key:"x4307882867729987397x",get:function(){return 216547830}},{key:"x790306920451850578x",get:function(){return 1868055812}},{key:"x271176509498905822x",get:function(){return 1619815028}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x3640972015535810230x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x1442954324271535409x.ts","./x3693760142138385085x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x},function(t){r=t.x1442954324271535409x},function(t){s=t.x3693760142138385085x}],execute:function(){i._RF.push({},"2e4baG2+6dDrbS8ZDI/Ivtj","x3640972015535810230x",void 0),t("x3640972015535810230x",function(t){function i(e,i,n,s,a,o,x,u,c){var l;return(l=t.call(this)||this).mCharId=e,l.mNativeSpriteFrame=a>0&&o>0?r.NativeSpriteFrame_createWithTexture(i,n,s,a,o):null,l.mXOffset=x,l.mYOffset=u,l.mXAdvance=c,l.mKernings=null,l}e(i,t);var n=i.prototype;return n.getNativeSpriteFrame=function(){return this.mNativeSpriteFrame},n.getXOffset=function(){return this.mXOffset},n.getYOffset=function(){return this.mYOffset},n.getXAdvance=function(){return this.mXAdvance},n.addKerning=function(t,e){this.mKernings||(this.mKernings=new s(!0)),this.mKernings.setIntValue(t,e)},n.getKerning=function(t){return t>0&&this.mKernings?this.mKernings.getIntValue(t):0},n.x1721113016797186854x=function(){this.mNativeSpriteFrame=null,null!==this.mKernings&&(this.mKernings.destroy(),this.mKernings=null),t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x1084482300746541296x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x850700817827885953x.ts","./x1442954324271535409x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x3640972015535810230x.ts","./x3375026250715268596x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x850700817827885953x},function(t){s=t.x1442954324271535409x},function(t){a=t.x3196398007076860870x},function(t){o=t.x702435451033209193x},function(t){x=t.x3640972015535810230x},function(t){u=t.x3375026250715268596x}],execute:function(){n._RF.push({},"8f140zlMyBLWpq7a+rrw0Hh","x1084482300746541296x",void 0),t("x1084482300746541296x",function(t){function n(e,i,n,r,s){var a;return(a=t.call(this,e,i,n,r)||this).mFilePath=s,a.mNativeTextureResourceId=0,a.mDataStringResourceId=0,a.mChars=null,a.mMaxCharId=-1,a.mLineHeight=0,a.mBaseline=0,a}e(n,t),n.x1802428022661735748x=function(t){return o.stringToHash32("1262240242-"+t)};var r=n.prototype;return r.getBitmapFontChar=function(t){var e=0;switch(t){case-87:case-82:case-94:e=256+~~t;break;default:e=this.getMappedCharId(~~t)}return e<=this.mMaxCharId?this.mChars.getAtIndex(e):null},r.getLineHeight=function(){return this.mLineHeight},r.getMappedCharId=function(t){return 8482===t?n.x4273759424006417211x:t},r.parseFontData=function(){null!==this.mChars&&(this.mChars.destroy(),this.mChars=null);var t=this.getResourceMgr().getText(this.getResourceName(),"<?xml"),e=s.NativeXMLDocument_createDocumentWithString(t),i=s.NativeXMLDocument_getRootElementNode(e),n=s.NativeXMLElement_getElementNodeChildWithName(i,"common");this.mLineHeight=o.stringToInt(s.NativeXMLElement_getAttributeValue(n,"lineHeight")),this.mBaseline=o.stringToInt(s.NativeXMLElement_getAttributeValue(n,"base")),this.mMaxCharId=-1;for(var r=s.NativeXMLElement_getElementNodeChildWithName(i,"chars"),u=s.NativeXMLElement_getFirstElementNodeChild(r),c=0;u;)c=this.getMappedCharId(o.stringToInt(s.NativeXMLElement_getAttributeValue(u,"id"))),this.mMaxCharId=o.maxInt(c,this.mMaxCharId),u=s.NativeXMLElement_getNextElementNodeSibling(u);this.mChars=new a(this.mMaxCharId+1);var l=this.getResourceMgr().getNativeTexture(this.getResourceName());for(u=s.NativeXMLElement_getFirstElementNodeChild(r);u;){c=this.getMappedCharId(o.stringToInt(s.NativeXMLElement_getAttributeValue(u,"id")));var h=o.stringToInt(s.NativeXMLElement_getAttributeValue(u,"x")),m=o.stringToInt(s.NativeXMLElement_getAttributeValue(u,"y")),g=o.stringToInt(s.NativeXMLElement_getAttributeValue(u,"width")),f=o.stringToInt(s.NativeXMLElement_getAttributeValue(u,"height")),d=o.stringToInt(s.NativeXMLElement_getAttributeValue(u,"xoffset")),p=o.stringToInt(s.NativeXMLElement_getAttributeValue(u,"yoffset")),S=o.stringToInt(s.NativeXMLElement_getAttributeValue(u,"xadvance")),y=new x(c,l,h,m,g,f,d,p,S);this.mChars.setAtIndex(c,y),u=s.NativeXMLElement_getNextElementNodeSibling(u)}var P=s.NativeXMLElement_getElementNodeChildWithName(i,"kernings");if(P)for(var I=s.NativeXMLElement_getFirstElementNodeChild(P);I;){var v=o.stringToInt(s.NativeXMLElement_getAttributeValue(I,"first")),M=o.stringToInt(s.NativeXMLElement_getAttributeValue(I,"second")),V=this.mChars.getAtIndex(M);if(V){var T=o.stringToInt(s.NativeXMLElement_getAttributeValue(I,"amount"));V.addKerning(v,T)}I=s.NativeXMLElement_getNextElementNodeSibling(I)}},r.x1721113016797186854x=function(){this.mChars&&this.mChars.destroyAll(),null!==this.mChars&&(this.mChars.destroy(),this.mChars=null),t.prototype.x1721113016797186854x.call(this)},r.x2249892239750456702x=function(){this.mNativeTextureResourceId=this.getResourceMgr().addNativeTextureResource(this.getResourceName(),this.getResourceGroupName(),this.mFilePath+".png"),this.mDataStringResourceId=this.getResourceMgr().addTextResource(this.getResourceName(),this.getResourceGroupName(),this.mFilePath+".xml")},r.x1937515428629277026x=function(){},r.x485164082923534672x=function(){switch(this.getResourceMgr().getResourceStateWithId(this.mNativeTextureResourceId)){case u.x435844797934444114x:return u.x435844797934444114x;case u.x816060623491963128x:break;case u.x4409586630981676627x:case u.x170763479412772967x:case u.x2810067176957391831x:default:return u.x2810067176957391831x}switch(this.getResourceMgr().getResourceStateWithId(this.mDataStringResourceId)){case u.x435844797934444114x:return u.x435844797934444114x;case u.x816060623491963128x:break;case u.x4409586630981676627x:case u.x170763479412772967x:case u.x2810067176957391831x:default:return u.x2810067176957391831x}return this.parseFontData(),this.mChars.getNumObjects()>0?u.x816060623491963128x:u.x2810067176957391831x},i(n,null,[{key:"x4273759424006417211x",get:function(){return 162}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x96971828822103706x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4037811246765908194x.ts","./x1442954324271535409x.ts","./x702435451033209193x.ts","./x2344101397586251857x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x4037811246765908194x},function(t){s=t.x1442954324271535409x},function(t){a=t.x702435451033209193x},function(t){o=t.x2344101397586251857x}],execute:function(){n._RF.push({},"3f441XSVoxFPYFQA9qSTmkI","x96971828822103706x",void 0),t("x96971828822103706x",function(t){function n(){var e;(e=t.call(this)||this).mLineWidths=new Array,e.mNativeLineViewsPool=new o(o.x3654770894156347609x),e.mNativeCharSpritesPool=new o(o.x3654770894156347609x),e.mFont=null,e.mText="",e.mHorizontalAlignment=n.x4356678992040163203x,e.mVerticalAlignment=n.x772630650071696289x,e.mIntegerMinNumDigits=1,e.mIntegerInsertCommas=!0,e.mTextWidth=0,e.mTextHeight=0,e.mStartAnimatorsOnTextChanged=!1;var i=s.NativeView_create();return s.NativeView_setName(i,"x96971828822103706x"),e.setNativeView(i),e}e(n,t),n.createWithParams=function(t,e,i){var r=new n;return r.setParams(t,e,i),r};var r=n.prototype;return r.setFont=function(t){this.mFont!=t&&(this.mFont=t,this.updateText())},r.getText=function(){return this.mText},r.setText=function(t){this.mText!=t&&(this.mText=t,this.updateText(),this.mStartAnimatorsOnTextChanged&&this.startAnimators())},r.setTextWithInteger=function(t){this.setText(a.stringFromInt(t,this.mIntegerMinNumDigits,this.mIntegerInsertCommas))},r.setAlignment=function(t,e){this.mHorizontalAlignment==t&&this.mVerticalAlignment==e||(this.mHorizontalAlignment=t,this.mVerticalAlignment=e,this.updateText())},r.getTextWidth=function(){return this.mTextWidth},r.getTextHeight=function(){return this.mTextHeight},r.updateText=function(){for(var t=this.getNativeView(),e=null,i=null;s.NativeView_getNumChildren(t)>0;){for(e=s.NativeView_getChildAtIndex(t,s.NativeView_getNumChildren(t)-1);s.NativeView_getNumChildren(e)>0;)i=s.NativeView_getChildAtIndex(e,s.NativeView_getNumChildren(e)-1),this.mNativeCharSpritesPool.recycleObject(i),s.NativeView_removeFromParent(i),i=null;this.mNativeLineViewsPool.recycleObject(e),s.NativeView_removeFromParent(e),e=null}if(this.mLineWidths.length=0,this.mTextWidth=0,this.mTextHeight=0,""!=this.mText&&this.mFont){var r=-1,o=-1,x=0;e=null;for(var u=-1,c=this.mFont.getLineHeight(),l=this.mText.length,h=0;h<l;h++){var m=0==h,g=!1;switch(r=this.mText.charCodeAt(h)){case 10:case 13:g=!0,m=!0;break;case 92:h<l-1&&110==this.mText.charCodeAt(h+1)&&(g=!0,m=!0,h++);break;case-62:h++,r=this.mText.charCodeAt(h);break;case-30:h++,h++,r=this.mText.charCodeAt(h)}if(m&&(u++,this.mLineWidths.push(0),e=this.getLineView(),s.NativeView_addChild(t,e),s.NativeView_setPosition(e,0,0),o=-1,x=0),!g){var f=this.mFont.getBitmapFontChar(r);if(f){var d=f.getKerning(o),p=f.getNativeSpriteFrame();if(p){i=this.getCharSprite(),s.NativeView_addChild(e,i),s.NativeSprite_setSpriteFrame(i,p,!0);var S=x+f.getXOffset()+d,y=c-f.getYOffset();s.NativeSprite_setPositionWithAnchor(i,S,y,0,1)}x+=d+f.getXAdvance(),this.mLineWidths[u]=x,this.mTextWidth=a.maxInt(this.mTextWidth,x),o=r}}}var P=s.NativeView_getNumChildren(t);this.mTextHeight=c*P;var I=0;switch(this.mVerticalAlignment){case n.x1234220631447720832x:I=this.mTextHeight;break;case n.x772630650071696289x:I=this.mTextHeight/2;break;case n.x1863542760500830224x:I=0}for(I-=c,u=0;u<P;u++){e=s.NativeView_getChildAtIndex(t,u);var v=0;switch(this.mHorizontalAlignment){case n.x2317940586526603961x:v=0;break;case n.x4356678992040163203x:v=-this.mLineWidths[u]/2;break;case n.x2004929415186813661x:v=-this.mLineWidths[u]}s.NativeView_setPosition(e,v,I),I-=c}}},r.getLineView=function(){if(this.mNativeLineViewsPool.getNumAvailableObjects()>0)return this.mNativeLineViewsPool.getAvailableObject();var t=s.NativeView_create();return s.NativeView_setName(t,"lineView"),t},r.getCharSprite=function(){if(this.mNativeCharSpritesPool.getNumAvailableObjects()>0)return this.mNativeCharSpritesPool.getAvailableObject();var t=s.NativeSprite_createWithSpriteFrame(null);return s.NativeView_setName(t,"charSprite"),t},r.x1721113016797186854x=function(){null!==this.mNativeLineViewsPool&&(this.mNativeLineViewsPool.destroy(),this.mNativeLineViewsPool=null),null!==this.mNativeCharSpritesPool&&(this.mNativeCharSpritesPool.destroy(),this.mNativeCharSpritesPool=null),this.mFont=null,t.prototype.x1721113016797186854x.call(this)},r.x3167505010554309161x=function(t,e){var i=t.getDictionary(n.x3105900003667316283x);if(i){i.hasValue(n.x4006386135701289217x)&&this.setFont(e.getBitmapFontResource(i.getStringValue(n.x4006386135701289217x)));var r=i.hasValue(n.x313931489302530002x)?i.getStringValueAsHash32(n.x313931489302530002x):this.mHorizontalAlignment,s=i.hasValue(n.x906869827537395312x)?i.getStringValueAsHash32(n.x906869827537395312x):this.mVerticalAlignment;this.setAlignment(r,s),this.mIntegerMinNumDigits=i.getIntValueWithDefault(n.x3765798929873683746x,1),this.mIntegerInsertCommas=i.getBoolValueWithDefault(n.x2511157383063788382x,!0),this.setText(i.getStringValueWithDefault(n.x4378148544694889238x,this.mText)),this.mStartAnimatorsOnTextChanged=i.getBoolValueWithDefault(n.x4495436184765230489x,!1)}},r.x3932003368878528254x=function(){return this.mTextWidth*this.getScaleX()},r.x3461043678756308731x=function(){return this.mTextHeight*this.getScaleY()},i(n,null,[{key:"x3672660699248449352x",get:function(){return 358876528}},{key:"x3105900003667316283x",get:function(){return 358876528}},{key:"x4006386135701289217x",get:function(){return 1043560079}},{key:"x313931489302530002x",get:function(){return 1181577422}},{key:"x906869827537395312x",get:function(){return 1224786460}},{key:"x3765798929873683746x",get:function(){return 363286695}},{key:"x2511157383063788382x",get:function(){return 1553616228}},{key:"x4378148544694889238x",get:function(){return 474344798}},{key:"x4495436184765230489x",get:function(){return 657867085}},{key:"x2317940586526603961x",get:function(){return 670917368}},{key:"x4356678992040163203x",get:function(){return 1654102790}},{key:"x2004929415186813661x",get:function(){return 208332043}},{key:"x1234220631447720832x",get:function(){return 182048444}},{key:"x772630650071696289x",get:function(){return 1654102790}},{key:"x1863542760500830224x",get:function(){return 333986564}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x4346984045395543271x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x702435451033209193x.ts","./x3461623316906106937x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x702435451033209193x},function(t){a=t.x3461623316906106937x}],execute:function(){n._RF.push({},"2f435VSd51DNpHymTrXXdPn","x4346984045395543271x",void 0),t("x4346984045395543271x",function(t){function n(e,i){var a;return(a=t.call(this,n.x2858504716076101221x,r.x3700981341653593902x,e,s.x1012796168335938419x(n.x1902960440326634340x),i)||this).mCurrentRadialXStep=0,a.mCurrentRadialYStep=0,a.mRadialStepTimerMSEC=0,a}e(n,t);var o=n.prototype;return o.processState_active=function(t){var e=this.getPlayer().getMatrix(),i=this.getActivationMatrixX(),n=this.getActivationMatrixY();if(this.mCurrentRadialXStep<11&&(this.mRadialStepTimerMSEC-=t,this.mRadialStepTimerMSEC<=0)){for(var s=i-this.mCurrentRadialXStep,a=i+this.mCurrentRadialXStep,o=0==this.mCurrentRadialXStep?1:2,x=!1,u=0;u<o;u++)for(var c=n-this.mCurrentRadialYStep,l=n+this.mCurrentRadialYStep,h=0==this.mCurrentRadialYStep?1:2,m=0;m<h;m++){var g=0==u?s:a,f=0==m?c:l;e.getMinoAt(g,f)&&(x=!0,this.mCurrentRadialXStep<=0&&this.mCurrentRadialYStep<=0?e.killMino(e.getMinoAt(g,f),500,!0):e.shatterMino(e.getMinoAt(g,f),500))}this.mCurrentRadialYStep++,this.mCurrentRadialYStep>=3&&(this.mCurrentRadialYStep=0,this.mCurrentRadialXStep++),x?this.mRadialStepTimerMSEC+=20:this.mRadialStepTimerMSEC=0}this.mCurrentRadialXStep>=11&&(e.popDestabilize(),e.popMovementDisabled(),this.setNextState(r.x2345423266559458465x,!1))},o.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},o.x4048123437206285000x=function(){var t=this.getPlayer(),e=t.getMatrix();return(t.getCurrentState()===a.x226737526530541234x||t.getNextState()===a.x226737526530541234x)&&e.isStable()},o.x1762492116522425354x=function(){this.mCurrentRadialXStep=0,this.mCurrentRadialYStep=0,this.mRadialStepTimerMSEC=0;var t=this.getPlayer().getMatrix();t.pushDestabilize(),t.pushMovementDisabled(),this.setCurrentState(r.x1169698474296864278x,0)},o.x4498870316303653116x=function(e,i,n,s){return i===r.x1169698474296864278x&&e===x1930801154962670888x.x3793884777573381281x?(this.processState_active(s),s):t.prototype.x4498870316303653116x.call(this,e,i,n,s)},i(n,null,[{key:"x2858504716076101221x",get:function(){return 181583955}},{key:"x1902960440326634340x",get:function(){return""}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x2747170617694901082x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x702435451033209193x}],execute:function(){n._RF.push({},"275d3fXnXpDl6UzNdixvzCT","x2747170617694901082x",void 0),t("x2747170617694901082x",function(t){function n(e,i){var a;return(a=t.call(this,n.x3042298351027012197x,r.x3700981341653593902x,e,s.x1012796168335938419x(n.x1902960440326634340x),i)||this).mBonusTimeSEC=0,a}e(n,t);var a=n.prototype;return a.getBonusTimeSEC=function(){return this.mBonusTimeSEC},a.setBonusTimeSEC=function(t){this.mBonusTimeSEC=t},a.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},a.x4048123437206285000x=function(){return!0},a.x1762492116522425354x=function(){this.getPlayer().addRemainingTimeMSEC(1e3*this.mBonusTimeSEC),this.setCurrentState(r.x2345423266559458465x,0)},i(n,null,[{key:"x3042298351027012197x",get:function(){return 738431195}},{key:"x1902960440326634340x",get:function(){return""}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x2437089924124280920x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3807920460184414210x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x3807920460184414210x},function(t){r=t.x702435451033209193x}],execute:function(){i._RF.push({},"c392dgbrMdISJbQ3DEMOaiq","x2437089924124280920x",void 0),t("x2437089924124280920x",function(t){function i(){var e;return(e=t.call(this,n.x3103886056112448540x)||this).mValue=!1,e}e(i,t),i.getAvailableInstance=function(){i.sPool||(i.sPool=new Array);var t=null;return i.sPool.length>0?(t=i.sPool[i.sPool.length-1],i.sPool.pop()):t=new i,t},i.recycleAvailableInstance=function(t){i.sPool||(i.sPool=new Array),t.recycle(),i.sPool.push(t)},i.destroyPool=function(){if(i.sPool){for(var t=i.sPool.length,e=0;e<t;e++){var n=i.sPool[e];null!==n&&(n.destroy(),n=null)}null!==i.sPool&&(i.sPool=null)}};var s=i.prototype;return s.getValue=function(){return this.mValue},s.setValue=function(t){this.mValue=t},s.x2241532792834576709x=function(){return t.prototype.x2241532792834576709x.call(this),this.mValue=!1,!0},s.x1721113016797186854x=function(){this.mValue=!1,t.prototype.x1721113016797186854x.call(this)},s.setValueWithInt=function(t){this.mValue=0!=t},s.setValueWithFloat=function(t){this.mValue=0!=t},s.setValueWithBool=function(t){this.mValue=t},s.setValueWithString=function(t){this.mValue="true"==r.stringToLowerCase(t)},s.toInt=function(){return this.mValue?1:0},s.toFloat=function(){return this.mValue?1:0},s.toBool=function(){return this.mValue},s.toString=function(){return r.stringFromBoolean(this.mValue)},i}(n)).sPool=null,i._RF.pop()}}})),System.register("chunks:///_virtual/x4410614962435777365x.ts",["cc","./x1232577566642415821x.ts","./x702435451033209193x.ts","./x2437089924124280920x.ts","./x3037628190612628063x.ts","./x285024029791125910x.ts","./x2891067215419038046x.ts","./x1819685683784665247x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.cclegacy},function(t){i=t.x1232577566642415821x},function(t){n=t.x702435451033209193x},function(t){r=t.x2437089924124280920x},function(t){s=t.x3037628190612628063x},function(t){a=t.x285024029791125910x},function(t){o=t.x2891067215419038046x},function(t){x=t.x1819685683784665247x}],execute:function(){e._RF.push({},"d1d5eSzDHlNM4mi2677cc6T","x4410614962435777365x",void 0),t("x4410614962435777365x",function(){function t(){}return t.doStaticInit=function(){t.sDidStaticInit||(n.doStaticInit(),i.doStaticInit(),t.sDidStaticInit=!0)},t.doStaticDestroy=function(e){t.sDidStaticInit&&(r.destroyPool(),s.destroyPool(),a.destroyPool(),o.destroyPool(),x.destroyPool(),i.doStaticDestroy(),n.doStaticDestroy(e),t.sDidStaticInit=!1)},t}()).sDidStaticInit=!1,e._RF.pop()}}})),System.register("chunks:///_virtual/x3693760142138385085x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x2437089924124280920x.ts","./x3037628190612628063x.ts","./x285024029791125910x.ts","./x2891067215419038046x.ts","./x1819685683784665247x.ts","./x3807920460184414210x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x},function(t){s=t.x3196398007076860870x},function(t){a=t.x702435451033209193x},function(t){o=t.x2437089924124280920x},function(t){x=t.x3037628190612628063x},function(t){u=t.x285024029791125910x},function(t){c=t.x2891067215419038046x},function(t){l=t.x1819685683784665247x},function(t){h=t.x3807920460184414210x}],execute:function(){n._RF.push({},"d50e46g6odFsZZ8rZCGiHb2","x3693760142138385085x",void 0),t("x3693760142138385085x",function(t){function n(e){var i;return(i=t.call(this)||this).mSerializationFormat=n.x4475824223520149914x,i.mAttributes=null,i.mValues=new s(0),i.mIsOwnerOfObjectValues=e,i}e(n,t),n.x2358484234690742862x=function(t){return t&&t.x687444878156563588x()==n.x1032926804605718405x?t:null},n.newDictionaryWithJSONString=function(t,e){var i=n.createValue(h.x2234935847743629855x);n.parseJSONDictionaryValue(t,0,i,e,"");var r=i.getValue();return i.setIsObjectOwner(!1),i.setValue(null,!1),n.recycleValue(i),r},n.reportJSONParsingError=function(t,e){},n.parseJSONWhitespace=function(t,e){for(var i=e,n=t.length,r=!1;!r;)switch(t.charCodeAt(i)){case 32:case 9:case 10:case 13:r=++i>=n;break;default:r=!0}return i-e},n.parseJSONValue=function(t,e,i,r,s,a){r.setValue(null,!1);var o=i,x=0,u=e.length;if((o+=n.parseJSONWhitespace(e,o))>=u)return 0;var c=null;switch(e.charCodeAt(o)){case 123:c=n.createValue(h.x2234935847743629855x),x=n.parseJSONDictionaryValue(e,o,c,s,a);break;case 91:c=n.createValue(h.x2234935847743629855x),x=n.parseJSONArrayValue(e,o,c,s);break;case 110:c=n.createValue(h.x2234935847743629855x),x=n.parseJSONNullValue(e,o,c);break;case 34:c=n.createValue(h.x3076231396314581594x),x=n.parseJSONStringValue(e,o,c);break;case 102:case 116:c=n.createValue(h.x3103886056112448540x),x=n.parseJSONBoolValue(e,o,c);break;case 45:case 46:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:switch(t){case 105:c=n.createValue(h.x2736631188424289638x),x=n.parseJSONIntValue(e,o,c);break;case 102:c=n.createValue(h.x2484114307597753098x),x=n.parseJSONFloatValue(e,o,c);break;default:c=n.createValue(h.x2736631188424289638x),0==(x=n.parseJSONIntValue(e,o,c))&&(n.recycleValue(c),c=n.createValue(h.x2484114307597753098x),x=n.parseJSONFloatValue(e,o,c))}}return x>0?(r.setValue(c,!1),(o+=x)-i):(n.reportJSONParsingError(e,i),c&&n.recycleValue(c),0)},n.parseJSONDictionaryValue=function(t,e,i,r,s){var o=t.length;if(e>=o)return 0;for(var x=n.x2358484234690742862x(i.getValue()),u=!x,c=n.createValue(h.x3076231396314581594x),l=n.createValue(h.x2234935847743629855x),m=e,g=0,f=n.x3121025301661489120x;f!=n.x3997508068211219104x;)switch(f){case n.x3121025301661489120x:(m+=n.parseJSONWhitespace(t,m))<o&&123===t.charCodeAt(m)?(m++,x||(x=new n(!0)),x.setAttributesWithString(s),f=n.x1824280531441234709x):f=n.x1627415180441281470x;break;case n.x1824280531441234709x:var d="";if((m+=n.parseJSONWhitespace(t,m))<o)switch(t.charCodeAt(m)){case 125:m++,f=n.x3997508068211219104x;break;case 34:if((g=n.parseJSONStringValue(t,m,c))>0){d=c.getValue();var p=a.firstIndexInString(d,"~"),S="";p>0&&(S=a.substringFromIndex(d,p),d=a.substringToIndex(d,p));var y=a.firstIndexInString(d,"@"),P=0;if(y>0&&(P=d.charCodeAt(y+1),d=a.substringToIndex(d,y)),m+=g,(m+=n.parseJSONWhitespace(t,m))<o)if(58===t.charCodeAt(m))if(m++,(m+=n.parseJSONWhitespace(t,m))<o)if((g=n.parseJSONValue(P,t,m,l,r,S))>0){var I=l.getValue();if(r?I.setKeyString(d):I.setKey(a.stringToValueKey(d),!1),x.pushBackValue(I),m+=g,(m+=n.parseJSONWhitespace(t,m))<o)switch(t.charCodeAt(m)){case 125:m++,f=n.x3997508068211219104x;break;case 44:m++;break;default:f=n.x1627415180441281470x}else f=n.x1627415180441281470x}else f=n.x1627415180441281470x;else f=n.x1627415180441281470x;else f=n.x1627415180441281470x;else f=n.x1627415180441281470x}else f=n.x1627415180441281470x;break;default:f=n.x1627415180441281470x}else f=n.x1627415180441281470x;c.setValue(""),l.setValue(null,!1);break;case n.x1627415180441281470x:u&&null!==x&&(x.destroy(),x=null),f=n.x3997508068211219104x}return n.recycleValue(c),n.recycleValue(l),i.setValue(x,!0),x?(x.ensureUniqueKeys(),m-e):0},n.parseJSONArrayValue=function(t,e,i,r){i.setValue(null,!0);var s=t.length;if(e>=s)return 0;for(var a=null,o=n.createValue(h.x2234935847743629855x),x=e,u=0,c=n.x3121025301661489120x;c!=n.x3997508068211219104x;)switch(c){case n.x3121025301661489120x:(x+=n.parseJSONWhitespace(t,x))<s&&91===t.charCodeAt(x)?(x++,(a=new n(!0)).setSerializationFormat(n.x751723499013597514x),c=n.x1603283395694363703x):c=n.x1627415180441281470x;break;case n.x1603283395694363703x:if((x+=n.parseJSONWhitespace(t,x))<s)if(93===t.charCodeAt(x))x++,c=n.x3997508068211219104x;else if((u=n.parseJSONValue(0,t,x,o,r,""))>0){var l=o.getValue();if(a.pushBackValue(l),x+=u,(x+=n.parseJSONWhitespace(t,x))<s)switch(t.charCodeAt(x)){case 93:x++,c=n.x3997508068211219104x;break;case 44:x++;break;default:c=n.x1627415180441281470x}else c=n.x1627415180441281470x}else c=n.x1627415180441281470x;else c=n.x1627415180441281470x;o.setValue(null,!1);break;case n.x1627415180441281470x:null!==a&&(a.destroy(),a=null),c=n.x3997508068211219104x}return n.recycleValue(o),i.setValue(a,!0),a?x-e:0},n.parseJSONNullValue=function(t,e,i){i.setValue(null,!0);var n=e,r=t.length;return 110===t.charCodeAt(n)&&r-n>=4&&117==t.charCodeAt(n+1)&&108==t.charCodeAt(n+2)&&108==t.charCodeAt(n+3)?4:0},n.parseJSONIntValue=function(t,e,i){i.setValue(0);for(var n=e,r=t.length,s=!1;!s;){switch(t.charCodeAt(n)){case 45:if(n!=e)return 0;n++;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:n++;break;case 125:case 93:case 44:case 32:case 9:case 10:case 13:s=!0;break;default:return 0}n>=r-1&&(s=!0)}var o=a.substringWithRange(t,e,n),x=a.stringToInt(o);return i.setValue(x),n-e},n.parseJSONFloatValue=function(t,e,i){i.setValue(0);for(var n=e,r=t.length,s=!1,o=!1;!o;){switch(t.charCodeAt(n)){case 45:if(n!=e)return 0;n++;break;case 46:if(s)return 0;n++,s=!0;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:n++;break;case 125:case 93:case 44:case 32:case 9:case 10:case 13:o=!0;break;default:return 0}n>=r-1&&(o=!0)}var x=a.substringWithRange(t,e,n),u=a.stringToFloat(x);return i.setValue(u),n-e},n.parseJSONBoolValue=function(t,e,i){i.setValue(!1);var n=e,r=t.length;switch(t.charCodeAt(n)){case 102:return r-n>=5&&97==t.charCodeAt(n+1)&&108==t.charCodeAt(n+2)&&115==t.charCodeAt(n+3)&&101==t.charCodeAt(n+4)?(i.setValue(!1),5):0;case 116:return r-n>=4&&114==t.charCodeAt(n+1)&&117==t.charCodeAt(n+2)&&101==t.charCodeAt(n+3)?(i.setValue(!0),4):0;default:return 0}},n.parseJSONStringValue=function(t,e,i){if(i.setValue(""),34!=t.charCodeAt(e))return 0;for(var n=e+1,r=n,s=t.length,o=!1;!o;){switch(t.charCodeAt(r)){case 34:o=!0;break;case 92:r+=2;break;default:r++}if(r>=s)return 0}var x=a.substringWithRange(t,n,r);return i.setValue(x),r+1-e},n.createValue=function(t){switch(t){case h.x2736631188424289638x:return u.getAvailableInstance();case h.x2484114307597753098x:return x.getAvailableInstance();case h.x3103886056112448540x:return o.getAvailableInstance();case h.x3076231396314581594x:return l.getAvailableInstance();case h.x2234935847743629855x:return c.getAvailableInstance();default:return null}},n.recycleValue=function(t){if(t)switch(t.recycle(),t.getValueType()){case h.x2736631188424289638x:u.recycleAvailableInstance(t);break;case h.x2484114307597753098x:x.recycleAvailableInstance(t);break;case h.x3103886056112448540x:o.recycleAvailableInstance(t);break;case h.x3076231396314581594x:l.recycleAvailableInstance(t);break;case h.x2234935847743629855x:c.recycleAvailableInstance(t)}};var r=n.prototype;return r.copy=function(t,e){if(t&&t!=this){this.copyAttributes(t,e),(e||this.isKeylessArray()||t.isKeylessArray())&&this.removeAllValues(),this.setSerializationFormat(t.mSerializationFormat);for(var i=t.getNumValues(),r=0;r<i;r++){var s=t.getValueAtIndexWithType(r,0),a=s.getKey(),o=s.getValueType(),x=null;0!=a?x=this.getValueWithType(s.getKey(),o,!0):(x=n.createValue(o),this.pushBackValue(x)),x.setKeyString(s.getKeyString()),this.copyValue(x,s,e)}}},r.x3395266717842453812x=function(){var t=new n(this.mIsOwnerOfObjectValues);return t.copy(this,!0),t},r.synchronizeWithSource=function(t,e,i,r){if(this!=t){var s,o=0;if(e)for(o=0;o<this.getNumValues();)s=this.getValueAtIndex(o),t.hasValue(s.getKey())?o++:this.removeValue(s.getKey());this.copyAttributes(t,!0);var x=t.getNumValues();for(o=0;o<x;o++){var u=t.getValueAtIndex(o),c=u.getKey();if(s=this.getValue(c),i||!s||s.getValueType()!=u.getValueType())s=this.getValueWithType(c,u.getValueType(),!0),this.copyValue(s,u,!0);else if(u.getValueType()==h.x2234935847743629855x){var l=u,m=n.x2358484234690742862x(l.getValue());if(m){var g=s,f=n.x2358484234690742862x(g.getValue());f?f!=m&&f.synchronizeWithSource(m,e,i,r):this.copyValue(s,u,!0)}}s&&s.setKeyString(u.getKeyString())}if(r)for(var d,p,S=a.minInt(this.getNumValues(),t.getNumValues()),y=0;y<S;y++){var P=(d=t.getValueAtIndex(y)).getKey();if((p=this.getValueAtIndex(y)).getKey()!=P)for(var I=0;I<S;I++)if((d=this.getValueAtIndex(I)).getKey()==P){this.mValues.setAtIndex(y,d),this.mValues.setAtIndex(I,p);break}}}},r.getAttribute=function(t){if(!this.mAttributes)return"";for(var e=~~(this.mAttributes.length/2),i=0;i<e;i++)if(this.mAttributes[2*i]==t)return this.mAttributes[2*i+1];return""},r.setAttribute=function(t,e){this.mAttributes||(this.mAttributes=new Array);for(var i=~~(this.mAttributes.length/2),n=0;n<i;n++)if(this.mAttributes[2*n]==t)return void(this.mAttributes[2*n+1]=e);this.mAttributes.push(t),this.mAttributes.push(e)},r.getAttributesAsString=function(){if(!this.mAttributes)return"";for(var t="",e=this.mAttributes.length/2,i=0;i<e;i++)t+="~"+this.mAttributes[2*i]+"-"+this.mAttributes[2*i+1];return t},r.setAttributesWithString=function(t){for(var e=a.getNumParamsInString(t),i=0;i<e;i++){var n=a.getParamNameInStringAtIndex(t,i),r=a.getParamValueFromString(t,n);this.setAttribute(n,r)}},r.isKeylessArray=function(){if(this.mSerializationFormat==n.x751723499013597514x)return!0;var t=this.mValues.getNumObjects();if(0==t)return!1;for(var e=0;e<t;e++)if(0!=this.getValueAtIndexWithType(e,0).getKey())return!1;return!0},r.hasValue=function(t){return this.getValueWithType(t,0,!1)},r.hasValueWithKeyString=function(t){return this.getValueWithType(a.stringToValueKey(t),0,!1)},r.getValue=function(t){return this.getValueWithType(t,0,!1)},r.getValueWithKeyString=function(t){return this.getValueWithType(a.stringToValueKey(t),0,!1)},r.getValueWithKeyStringPath=function(t){for(var e,i=this,n=a.firstIndexInString(t,".");n>=0&&i;)e=a.substringToIndex(t,n),t=a.substringFromIndex(t,n+1),i=i.getDictionary(a.stringToValueKey(e)),n=a.firstIndexInString(t,".");return i?i.getValue(a.stringToValueKey(t)):null},r.getValueType=function(t){var e=this.getValueWithType(t,0,!1);return e?e.getValueType():0},r.getNumValues=function(){return this.mValues.getNumObjects()},r.getValueAtIndex=function(t){return this.getValueAtIndexWithType(t,0)},r.getValueKeyAtIndex=function(t){var e=this.getValueAtIndexWithType(t,0);return e?e.getKey():0},r.getValueKeyStringAtIndex=function(t){var e=this.getValueAtIndexWithType(t,0);return e?e.getKeyString():""},r.getValueTypeAtIndex=function(t){var e=this.getValueAtIndexWithType(t,0);return e?e.getValueType():0},r.pushBackValue=function(t){this.mValues.pushBack(t)},r.getValueIndex=function(t){var e=this.getValue(t);return e?this.mValues.getObjectIndex(e):-1},r.setValueIndex=function(t,e){var i=this.getValue(t);i&&this.mValues.setObjectIndex(i,e)},r.insertValueWithKeyStringPath=function(t,e){for(var i=this,r=null,s=a.firstIndexInString(t,".");s>=0;){var o=a.substringToIndex(t,s);t=a.substringFromIndex(t,s+1),(r=i.getDictionary(a.stringToValueKey(o)))||(r=new n(!0),i.insertObjectValue(a.stringToValueKey(o),o,999999,r)),i=r,r=null,s=a.firstIndexInString(t,".")}if(i){var x=i.getValueWithType(a.stringToValueKey(t),e,!0);return x.setKeyString(t),x}return null},r.copyValueAndType=function(t,e){var i=this.getValueWithType(t,e.getValueType(),!0);this.copyValue(i,e,!0)},r.ensureUniqueKeys=function(){for(var t=this.mValues.getNumObjects(),e=0;e<t;e++){var i=this.getValueKeyStringAtIndex(e);if(i&&""!=i)for(var n=e+1;n<t;n++){var r=this.getValueKeyStringAtIndex(n);if(r==i)for(var s=1;s<=t;s++){var o=r+"-"+a.stringFromInt(s,1,!1);if(!this.hasValueWithKeyString(o)){this.getValueAtIndex(n).setKeyString(o);break}}}}},r.clearAllKeyStrings=function(){for(var t=this.mValues.getNumObjects(),e=0;e<t;e++){var i=this.getValueAtIndexWithType(e,0);if(i.setKeyString(""),i.getValueType()===h.x2234935847743629855x){var r=i.getValue(),s=n.x2358484234690742862x(r);s&&s.clearAllKeyStrings()}}},r.resetAllKeyStringsToKeyValue=function(){for(var t=this.mValues.getNumObjects(),e=0;e<t;e++){var i=this.getValueAtIndexWithType(e,0);if(i.setKey(i.getKey(),!0),i.getValueType()===h.x2234935847743629855x){var r=i.getValue(),s=n.x2358484234690742862x(r);s&&s.resetAllKeyStringsToKeyValue()}}},r.removeValue=function(t){var e=this.getValue(t);e&&(this.mValues.removeObject(e),n.recycleValue(e))},r.removeValueAtIndex=function(t){var e=this.getValueAtIndex(t);e&&(this.mValues.removeObject(e),n.recycleValue(e))},r.removeAllValues=function(){for(var t=this.mValues.getNumObjects(),e=0;e<t;e++)n.recycleValue(this.getValueAtIndexWithType(e,0));this.mValues.removeAll()},r.getIntValue=function(t){var e=this.getValueWithType(t,h.x2736631188424289638x,!1);return e?e.getValue():0},r.getIntValueWithDefault=function(t,e){var i=this.getValueWithType(t,h.x2736631188424289638x,!1);return i?i.getValue():e},r.getIntValueWithKeyStringPath=function(t){var e=this.getValueWithKeyStringPath(t);return e?e.getValue():0},r.setIntValue=function(t,e){this.getValueWithType(t,h.x2736631188424289638x,!0).setValue(e)},r.setIntValueWithKeyString=function(t,e){this.setIntValue(a.stringToValueKey(t),e)},r.setIntValueWithKeyStringPath=function(t,e){var i=this.getValueWithKeyStringPath(t);i&&i.setValue(e)},r.getIntValueAtIndex=function(t){var e=this.getValueAtIndexWithType(t,h.x2736631188424289638x);return e?e.getValue():0},r.setIntValueAtIndex=function(t,e){this.getValueAtIndexWithType(t,h.x2736631188424289638x).setValue(e)},r.pushBackIntValue=function(t){var e=n.createValue(h.x2736631188424289638x);e.setValue(t),this.mValues.pushBack(e)},r.insertIntValue=function(t,e,i,n){this.setIntValue(t,n),this.getValue(t).setKeyString(e),this.setValueIndex(t,i)},r.removeIntValue=function(t,e){for(var i=0,n=this.mValues.getNumObjects(),r=0;r<n;r++){if(e>=0&&i>=e)return;var s=this.getValueAtIndexWithType(r,0);s.getValueType()===h.x2736631188424289638x&&s.getValue()==t&&(this.removeValueAtIndex(r),r--,n=this.mValues.getNumObjects(),i++)}},r.getFloatValue=function(t){var e=this.getValueWithType(t,h.x2484114307597753098x,!1);return e?e.getValue():0},r.getFloatValueWithDefault=function(t,e){var i=this.getValueWithType(t,h.x2484114307597753098x,!1);return i?i.getValue():e},r.getFloatValueWithKeyStringPath=function(t){var e=this.getValueWithKeyStringPath(t);return e?e.getValue():0},r.setFloatValue=function(t,e){this.getValueWithType(t,h.x2484114307597753098x,!0).setValue(e)},r.setFloatValueWithKeyString=function(t,e){this.setFloatValue(a.stringToValueKey(t),e)},r.setFloatValueWithKeyStringPath=function(t,e){var i=this.getValueWithKeyStringPath(t);i&&i.setValue(e)},r.getFloatValueAtIndex=function(t){var e=this.getValueAtIndexWithType(t,h.x2484114307597753098x);return e?e.getValue():0},r.setFloatValueAtIndex=function(t,e){this.getValueAtIndexWithType(t,h.x2484114307597753098x).setValue(e)},r.pushBackFloatValue=function(t){var e=n.createValue(h.x2484114307597753098x);e.setValue(t),this.mValues.pushBack(e)},r.insertFloatValue=function(t,e,i,n){this.setFloatValue(t,n),this.getValue(t).setKeyString(e),this.setValueIndex(t,i)},r.getBoolValue=function(t){var e=this.getValueWithType(t,h.x3103886056112448540x,!1);return!!e&&e.getValue()},r.getBoolValueWithDefault=function(t,e){var i=this.getValueWithType(t,h.x3103886056112448540x,!1);return i?i.getValue():e},r.getBoolValueWithKeyStringPath=function(t){var e=this.getValueWithKeyStringPath(t);return!!e&&e.getValue()},r.setBoolValue=function(t,e){this.getValueWithType(t,h.x3103886056112448540x,!0).setValue(e)},r.setBoolValueWithKeyString=function(t,e){this.setBoolValue(a.stringToValueKey(t),e)},r.setBoolValueWithKeyStringPath=function(t,e){var i=this.getValueWithKeyStringPath(t);i&&i.setValue(e)},r.getBoolValueAtIndex=function(t){var e=this.getValueAtIndexWithType(t,h.x3103886056112448540x);return!!e&&e.getValue()},r.setBoolValueAtIndex=function(t,e){this.getValueAtIndexWithType(t,h.x3103886056112448540x).setValue(e)},r.pushBackBoolValue=function(t){var e=n.createValue(h.x3103886056112448540x);e.setValue(t),this.mValues.pushBack(e)},r.insertBoolValue=function(t,e,i,n){this.setBoolValue(t,n),this.getValue(t).setKeyString(e),this.setValueIndex(t,i)},r.getStringValue=function(t){var e=this.getValueWithType(t,h.x3076231396314581594x,!1);return e?e.getValue():""},r.getStringValueWithDefault=function(t,e){var i=this.getValueWithType(t,h.x3076231396314581594x,!1);return i?i.getValue():e},r.getStringValueWithKeyStringPath=function(t){var e=this.getValueWithKeyStringPath(t);return e?e.getValue():""},r.getStringValueAsHash32=function(t){return a.stringToHash32(this.getStringValue(t))},r.setStringValue=function(t,e){this.getValueWithType(t,h.x3076231396314581594x,!0).setValue(e)},r.setStringValueWithKeyString=function(t,e){this.setStringValue(a.stringToValueKey(t),e)},r.setStringValueWithKeyStringPath=function(t,e){var i=this.getValueWithKeyStringPath(t);i&&i.setValue(e)},r.getStringValueAtIndex=function(t){var e=this.getValueAtIndexWithType(t,h.x3076231396314581594x);return e?e.getValue():""},r.setStringValueAtIndex=function(t,e){this.getValueAtIndexWithType(t,h.x3076231396314581594x).setValue(e)},r.pushBackStringValue=function(t){var e=n.createValue(h.x3076231396314581594x);e.setValue(t),this.mValues.pushBack(e)},r.insertStringValue=function(t,e,i,n){0==t&&(t=a.stringToValueKey(e)),this.setStringValue(t,n),this.getValue(t).setKeyString(e),this.setValueIndex(t,i)},r.setIsOwnerOfObjectValues=function(t){this.mIsOwnerOfObjectValues=t;for(var e=null,i=this.mValues.getNumObjects(),n=0;n<i;n++)(e=this.mValues.getAtIndex(n)).getValueType()===h.x2234935847743629855x&&e.setIsObjectOwner(t)},r.getObjectValue=function(t){var e=this.getValueWithType(t,h.x2234935847743629855x,!1);return e?e.getValue():null},r.getObjectValueWithKeyStringPath=function(t){var e=this.getValueWithKeyStringPath(t);return e?e.getValue():null},r.setObjectValue=function(t,e){this.getValueWithType(t,h.x2234935847743629855x,!0).setValue(e,this.mIsOwnerOfObjectValues)},r.setObjectValueWithKeyString=function(t,e){this.setObjectValue(a.stringToValueKey(t),e)},r.setObjectValueWithKeyStringPath=function(t,e){var i=this.getValueWithKeyStringPath(t);i&&i.setValue(e,this.mIsOwnerOfObjectValues)},r.getObjectValueAtIndex=function(t){var e=this.getValueAtIndexWithType(t,h.x2234935847743629855x);return e?e.getValue():null},r.setObjectValueAtIndex=function(t,e){this.getValueAtIndexWithType(t,h.x2234935847743629855x).setValue(e,this.mIsOwnerOfObjectValues)},r.pushBackObjectValue=function(t){var e=n.createValue(h.x2234935847743629855x);e.setValue(t,this.mIsOwnerOfObjectValues),this.mValues.pushBack(e)},r.insertObjectValue=function(t,e,i,n){this.setObjectValue(t,n),this.getValue(t).setKeyString(e),this.setValueIndex(t,i)},r.insertObjectValueAtIndex=function(t,e){var i=n.createValue(h.x2234935847743629855x);i.setValue(e,this.mIsOwnerOfObjectValues),this.mValues.insertAtIndex(t,i)},r.clearObjectValues=function(){for(var t=null,e=this.mValues.getNumObjects(),i=0;i<e;i++)(t=this.getValueAtIndexWithType(i,0)).getValueType()===h.x2234935847743629855x&&t.setValue(null,this.mIsOwnerOfObjectValues)},r.createDictionary=function(t,e,i,r){var s=new n(r);return this.insertObjectValue(t,e,i,s),s},r.getDictionary=function(t){return this.getObjectValue(t)},r.getDictionary2=function(t,e){var i=this.getDictionary(t);return i?i.getDictionary(e):null},r.getDictionary3=function(t,e,i){var n=this.getDictionary(t);return n?n.getDictionary2(e,i):null},r.getDictionary4=function(t,e,i,n){var r=this.getDictionary(t);return r?r.getDictionary3(e,i,n):null},r.getDictionaryAtIndex=function(t){return this.getObjectValueAtIndex(t)},r.getDictionaryWithKeyString=function(t){return this.getDictionary(a.stringToValueKey(t))},r.getDictionaryWithKeyStringPath=function(t){var e=this.getValueWithKeyStringPath(t);return e?n.x2358484234690742862x(e.getValue()):null},r.setIntValueInDictionaries=function(t,e){for(var i=this.mValues.getNumObjects(),r=0;r<i;r++){var s=this.getValueAtIndexWithType(r,0);if(s.getValueType()===h.x2234935847743629855x){var a=s.getValue(),o=n.x2358484234690742862x(a);o&&o.setIntValue(t,e)}}},r.setFloatValueInDictionaries=function(t,e){for(var i=this.mValues.getNumObjects(),r=0;r<i;r++){var s=this.getValueAtIndexWithType(r,0);if(s.getValueType()===h.x2234935847743629855x){var a=s.getValue(),o=n.x2358484234690742862x(a);o&&o.setFloatValue(t,e)}}},r.setBoolValueInDictionaries=function(t,e){for(var i=this.mValues.getNumObjects(),r=0;r<i;r++){var s=this.getValueAtIndexWithType(r,0);if(s.getValueType()===h.x2234935847743629855x){var a=s.getValue(),o=n.x2358484234690742862x(a);o&&o.setBoolValue(t,e)}}},r.setStringValueInDictionaries=function(t,e){for(var i=this.mValues.getNumObjects(),r=0;r<i;r++){var s=this.getValueAtIndexWithType(r,0);if(s.getValueType()===h.x2234935847743629855x){var a=s.getValue(),o=n.x2358484234690742862x(a);o&&o.setStringValue(t,e)}}},r.processPlatformValues=function(t){var e;t=a.stringToLowerCase(t);for(var i=0;i<this.getNumValues();)if((e=this.getValueAtIndex(i)).getValueType()===h.x2234935847743629855x){var r=e.getValue(),s=n.x2358484234690742862x(r);if(s){var o=e.getKeyString(),x=s.getAttribute("platforms");if(x&&""!=x&&!a.doesStringListContainItem(x,t,!0))this.removeValue(e.getKey());else if(a.stringEndsWith(o,"-platforms")){var u=a.substringToIndex(o,a.lastIndexInString(o,"-platforms")),c=this.getValueWithKeyString(u);if(c)for(var l=s,m=l.getNumValues(),g=0;g<m;g++){var f=l.getValueAtIndex(g);a.doesStringListContainItem(f.getKeyString(),t,!0)&&this.copyValue(c,f,!0)}this.removeValue(e.getKey())}else s.processPlatformValues(t),i++}else i++}else i++},r.insertParamsIntoStrings=function(t,e){if(t)for(var i,r=this.getNumValues(),s=0;s<r;s++)switch((i=this.getValueAtIndex(s)).getValueType()){case h.x3076231396314581594x:for(var o=i.getValue(),x=a.firstIndexInString(o,"#{"),u=a.firstIndexInString(o,"}");x>=0&&u>x;){var c=a.substringFromIndexWithLength(o,x+2,u-x-2),l=t.getValueWithKeyStringPath(c);if(l&&l.getValueType()==h.x3076231396314581594x||e){var m="";m=l&&l.getValueType()==h.x3076231396314581594x?l.getValue():"UNKNOWN_PARAM",o=a.substringToIndex(o,x)+m+a.substringFromIndex(o,u+1),x=a.firstIndexInString(o,"#{"),u=a.firstIndexInString(o,"}")}else x=a.nextIndexInString(o,"#{",u+1),u=a.nextIndexInString(o,"}",u+1)}i.setValue(o);break;case h.x2234935847743629855x:var g=i.getValue(),f=n.x2358484234690742862x(g);f&&f!=t&&f.insertParamsIntoStrings(t,e)}},r.regexReplaceKeys=function(t,e){for(var i=this.getNumValues(),r=0;r<i;r++){var s=this.getValueAtIndex(r),o=a.regexReplaceString(s.getKeyString(),t,e);if(s.setKeyString(o),s.getValueType()===h.x2234935847743629855x){var x=s.getValue(),u=n.x2358484234690742862x(x);u&&u.regexReplaceKeys(t,e)}}},r.regexReplaceStringValues=function(t,e){for(var i=this.getNumValues(),r=0;r<i;r++){var s=this.getValueAtIndex(r);switch(s.getValueType()){case h.x3076231396314581594x:var o=s;o.setValue(a.regexReplaceString(o.getValue(),t,e));break;case h.x2234935847743629855x:var x=s.getValue(),u=n.x2358484234690742862x(x);u&&u.regexReplaceStringValues(t,e)}}},r.setSerializationFormat=function(t){this.mSerializationFormat=t},r.parseJSONString=function(t,e,i){i&&this.removeAllValues(),this.setSerializationFormat(n.x4475824223520149914x);var r=n.createValue(h.x2234935847743629855x);r.setValue(this,!1),n.parseJSONDictionaryValue(t,0,r,e,""),r.setIsObjectOwner(!1),r.setValue(null,!1),n.recycleValue(r)},r.toJSONString=function(t,e,i){var r=null;t?r=t:(r=a.getStringBuilder()).setString(""),r.appendString(this.isKeylessArray()?"[":"{");var s=this.mValues.getNumObjects();i>=0&&s>0&&r.appendString("\n");for(var o=null,x=0,u=0;u<s;u++){var c=this.getValueAtIndexWithType(u,0);if(i>=0)for(x=0;x<i+1;x++)r.appendString("\t");if(!this.isKeylessArray()){var l=c.getKeyString();if(e)switch(c.getValueType()){case h.x2736631188424289638x:l+="@i";break;case h.x2484114307597753098x:l+="@f"}c.getValueType()===h.x2234935847743629855x&&(o=n.x2358484234690742862x(c.getValue()))&&(l+=o.getAttributesAsString()),r.appendString('"'),r.appendString(l),r.appendString('":'),i>=0&&r.appendString(" ")}switch(c.getValueType()){case h.x2736631188424289638x:r.appendInt(c.getValue(),1,!1);break;case h.x2484114307597753098x:r.appendFloat(c.getValue());break;case h.x3103886056112448540x:r.appendBoolean(c.getValue());break;case h.x3076231396314581594x:r.appendString('"'),r.appendString(c.getValue()),r.appendString('"');break;case h.x2234935847743629855x:(o=n.x2358484234690742862x(c.getValue()))?o.toJSONString(r,e,i>=0?i+1:-1):r.appendString("null")}u<s-1&&r.appendString(","),i>=0&&r.appendString("\n")}if(i>=0&&s>0)for(x=0;x<i;x++)r.appendString("\t");return r.appendString(this.isKeylessArray()?"]":"}"),r.getString()},r.toXMLString_DEPRECATED=function(t,e){var i=a.stringWithTabs(e)+'<dict key="'+t+'"',n=0;if(this.mAttributes){var r=~~(this.mAttributes.length/2);for(n=0;n<r;n++){var s=this.mAttributes[2*n];"key"!=s&&(i+=" "+s+'="'+this.mAttributes[2*n+1]+'"')}}i+=">",e>=0&&(i+="\n");var o=this.getNumValues();for(n=0;n<o;n++)i+=this.getValueXMLString(this.getValueAtIndex(n),e>=0?e+1:-1);return i+=a.stringWithTabs(e)+"</dict>",e>=0&&(i+="\n"),i},r.generateValuesHash32v2=function(){for(var t="",e=this.getNumValues(),i=0;i<e;i++)t+=this.getValueAtIndex(i).toString();return a.stringToHash32V2(t)},r.copyAttributes=function(t,e){e&&this.mAttributes&&(this.mAttributes.length=0);var i=t.mAttributes;if(i)for(var n=~~(i.length/2),r=0;r<n;r++){var s=i[2*r],a=i[2*r+1];this.setAttribute(s,a)}},r.getValueWithType=function(t,e,i){for(var r=null,s=this.mValues.getNumObjects(),a=0;a<s;a++)if((r=this.getValueAtIndexWithType(a,0)).getKey()==t)return 0!=e&&r.getValueType()!=e&&i&&(n.recycleValue(r),(r=n.createValue(e)).setKey(t,!1),this.mValues.setAtIndex(a,r)),r;return i?((r=n.createValue(e)).setKey(t,!1),this.mValues.pushBack(r),r):null},r.getValueAtIndexWithType=function(t,e){var i=this.mValues.getAtIndex(t);if(0!=e&&i&&i.getValueType()!=e){var r=i.getKey(),s=i.getKeyString();n.recycleValue(i),(i=n.createValue(e)).setKey(r,!1),i.setKeyString(s),this.mValues.setAtIndex(t,i)}return i},r.copyValue=function(t,e,i){if(t.getValueType()==e.getValueType())switch(e.getValueType()){case h.x2736631188424289638x:case h.x2484114307597753098x:case h.x3103886056112448540x:case h.x3076231396314581594x:t.setValue(e.getValue());break;case h.x2234935847743629855x:var r=e.getValue();if(r&&r.x687444878156563588x()==n.x1032926804605718405x){var s=n.x2358484234690742862x(t.getValue());s||(s=new n(!0),t.setValue(s,!0));var a=r;s.copy(a,i)}}},r.getValueXMLString=function(t,e){var i="",r=t.getValueType(),s=h.valueTypeToString(r),o=t.getKeyString();switch(r){case h.x2736631188424289638x:case h.x2484114307597753098x:case h.x3103886056112448540x:i=a.stringWithTabs(e)+"<"+s+' key="'+o+'">'+t.toString()+"</"+s+">",e>=0&&(i+="\n");break;case h.x3076231396314581594x:var x=t.toString();x=a.regexReplaceString(x,"<","&lt;"),x=a.regexReplaceString(x,">","&gt;"),i=a.stringWithTabs(e)+"<"+s+' key="'+o+'">'+x+"</"+s+">",e>=0&&(i+="\n");break;case h.x2234935847743629855x:var u=t,c=n.x2358484234690742862x(u.getValue());if(c){s="dict";var l=e>=0?e:-1;switch(this.mSerializationFormat){case n.x4475824223520149914x:case n.x751723499013597514x:var m=e>=0?e+1:-1,g=c.toJSONString(null,!0,m);i=a.stringWithTabs(l)+'<string key="'+o+'">\n'+(a.stringWithTabs(m)+g)+"\n"+a.stringWithTabs(l)+"</string>";break;case n.x567888914026673403x:i=c.toXMLString_DEPRECATED(o,e)}l>=0&&(i+="\n")}}return i},r.x687444878156563588x=function(){return n.x1032926804605718405x},r.x2241532792834576709x=function(){return null!==this.mAttributes&&(this.mAttributes=null),this.removeAllValues(),this.setIsOwnerOfObjectValues(!1),t.prototype.x2241532792834576709x.call(this),!0},r.x1721113016797186854x=function(){null!==this.mAttributes&&(this.mAttributes=null),this.removeAllValues(),null!==this.mValues&&(this.mValues.destroy(),this.mValues=null),t.prototype.x1721113016797186854x.call(this)},r.x4217507585807386070x=function(t){return this.getIntValue(a.stringToValueKey(t))},i(n,null,[{key:"x1032926804605718405x",get:function(){return 1781925722}},{key:"x4475824223520149914x",get:function(){return 1}},{key:"x751723499013597514x",get:function(){return 2}},{key:"x567888914026673403x",get:function(){return 3}},{key:"x3121025301661489120x",get:function(){return 0}},{key:"x1824280531441234709x",get:function(){return 1}},{key:"x1603283395694363703x",get:function(){return 2}},{key:"x1627415180441281470x",get:function(){return 3}},{key:"x3997508068211219104x",get:function(){return 4}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1479493434950596026x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3339987402386958992x.ts","./x3693760142138385085x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x923301222305930093x.ts","./x4480444526479763272x.ts","./x349179295227638153x.ts","./x3482684588425346520x.ts","./x4127996380524714105x.ts","./x285024029791125910x.ts","./x3461623316906106937x.ts","./x2747170617694901082x.ts","./x1238458550837138019x.ts","./x1898681029348292370x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g,f,d,p,S,y;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3339987402386958992x},function(t){a=t.x3693760142138385085x},function(t){o=t.x1930801154962670888x},function(t){x=t.x3196398007076860870x},function(t){u=t.x702435451033209193x},function(t){c=t.x923301222305930093x},function(t){l=t.x4480444526479763272x},function(t){h=t.x349179295227638153x},function(t){m=t.x3482684588425346520x},function(t){g=t.x4127996380524714105x},function(t){f=t.x285024029791125910x},function(t){d=t.x3461623316906106937x},function(t){p=t.x2747170617694901082x},function(t){S=t.x1238458550837138019x},function(t){y=t.x1898681029348292370x}],execute:function(){r._RF.push({},"2748dQRatFHKaVK+9in/qaW","x1479493434950596026x",void 0),t("x1479493434950596026x",function(t){function r(e,i){var s;s=t.call(this,r.x2324817043947020368x,e)||this,r.x175312307560870182x(s.getParams(),!1),s.getParams().copy(i,!1),e.addMessageListener(n(s)),s.mRNG=new g;var a=s.getParams().getIntValueWithDefault(r.x4416729344951181480x,0);0==a&&(a=u.nextNativeRandomInt()),s.mRNG.setSeed(a);var o=e.getMatrixWidth(),c=e.getMatrixHeight();s.mScratchRowXValuesPool=new x(o);for(var l=0;l<o;l++){var h=new f;h.setValue(l),s.mScratchRowXValuesPool.setAtIndex(l,h)}s.mScratchRowXValuesArray=new x(0),s.mScratchRowXValuesArray.reserveCapacity(o),s.mScratchRowMinosArray=new x(o),s.mScratchRectMinosArray=new x(0),s.mScratchRectMinosArray.reserveCapacity(o*c),s.mBottomRowDepth=0,s.mCurrentMinHolesPerLineFXPT=u.FXPTFromInt(s.getParams().getDictionary(r.x4066701920235634606x).getIntValue(r.x4555790178667905754x)),s.mCurrentMaxHolesPerLineFXPT=u.FXPTFromInt(s.getParams().getDictionary(r.x4066701920235634606x).getIntValue(r.x4151222103570908805x)),s.mDeepestLineClear=0;var m=null;return m=s.getParams().getDictionary2(r.x1915346033656917677x,r.x3983266260077420004x),s.mBonusTimeGem_doSpawnByDepth=m.getBoolValue(r.x725362112422785663x)&&m.getDictionary(r.x1543645193681296141x).getBoolValue(r.x1464013488732171192x),s.mBonusTimeGem_bonusTimeSECPerGem=m.getIntValue(r.x1451775417912397579x),s.mBonusTimeGem_doSpawnByDepth?(s.mBonusTimeGem_spawnByDepth_currentGemDistance=m.getDictionary(r.x1543645193681296141x).getIntValue(r.x4573405978096744540x),s.mBonusTimeGem_spawnByDepth_nextGemDepth=-s.mBonusTimeGem_spawnByDepth_currentGemDistance,s.mBonusTimeGem_spawnByDepth_depthIncrement=m.getDictionary(r.x1543645193681296141x).getIntValue(r.x3558897722859914424x)):(s.mBonusTimeGem_spawnByDepth_currentGemDistance=0,s.mBonusTimeGem_spawnByDepth_nextGemDepth=0,s.mBonusTimeGem_spawnByDepth_depthIncrement=0),m=s.getParams().getDictionary2(r.x1915346033656917677x,r.x1430477764614285686x),s.mScoreMultiplierGem_doSpawnByDepth=m.getBoolValue(r.x1464983827111247569x)&&m.getDictionary(r.x4296510023737151688x).getBoolValue(r.x3905659981370173124x),s.mScoreMultiplierGem_doSpawnByDepth?(s.mScoreMultiplierGem_spawnByDepth_currentGemDistance=m.getDictionary(r.x4296510023737151688x).getIntValue(r.x1323532741581010911x),s.mScoreMultiplierGem_spawnByDepth_nextGemDepth=-s.mScoreMultiplierGem_spawnByDepth_currentGemDistance,s.mScoreMultiplierGem_spawnByDepth_depthIncrement=m.getDictionary(r.x4296510023737151688x).getIntValue(r.x441817634193843907x)):(s.mScoreMultiplierGem_spawnByDepth_currentGemDistance=0,s.mScoreMultiplierGem_spawnByDepth_nextGemDepth=0,s.mScoreMultiplierGem_spawnByDepth_depthIncrement=0),s.mScoreMultiplierGem_doSpawnByTSpin=m.getBoolValue(r.x1464983827111247569x)&&m.getDictionary(r.x343289537352284626x).getBoolValue(r.x3929674031482339535x),s.mScoreMultiplierGem_doSpawnByTSpin?s.mScoreMultiplierGem_spawnByTSpin_multiplierEqualsLinesCleared=m.getDictionary(r.x343289537352284626x).getBoolValue(r.x4055030593837534167x):s.mScoreMultiplierGem_spawnByTSpin_multiplierEqualsLinesCleared=!1,s.mOvertimeShatterMinos=new x(o*c),s.mOvertimeShatterRemainingShatterMinos=0,s.setNextState(r.x3605411226328119362x,!1),s}e(r,t),r.x470180895008581634x=function(t){var e=new a(!0);return r.x175312307560870182x(e,t),e},r.x175312307560870182x=function(t,e){t.parseJSONString(u.x1012796168335938419x("VHXGIKVCWOTCWJDHUPBQTPPLAPPCQONMKIVLIEVGVPFPIMAJNLJPGMHPXKIPORHMULIITLTTMQVTVIBJGFDJBOWKXNPKDIYJUFVJSFDJQBRNOLNCOGOPXJLSQOTKHTTGWOGLTOVKMOAMQGHKGGPJTSNKLOIDWHCUQHCNPFAIOEKCLKUGXIZPWDXLUHRFOBPFSIDQPJIHBFVQOEZIWEWIFCOGBIOENDGOMBDKAGBKYPLOYGJOWGSDUJLFDUCHCTPGOSDFWOILVIJPTTWLWTQILFICYMQMMEJAKELQIEHBINFBGNDBDKJUHILNDSCKAQREXQWSWQAOGGXNZPHNFRGIGFMTCKZKJEUKIDUPTLPHSGTOGLROOKPOMQZMMLIIMPKHSSGHFNVKQTKMPSZPXTNPYNSPQRIQTKHPZHRTZOWGHJLCRJWAWMDKSBDFUNRJCNPJANPKLHLNHKINYEDNTQQFOKCTCKRSHIDNNJYFCPELYJGDFIGPULMJHPDDELBHCLZGWETAKPXHUDUIGHALDNDIAIUEJGNQHMLPIGMDYMSEHLXINMBIJDKHXCZGRCKFKNXJGCHOECFKSGDKCBDPZLSSWKQGKKBSZDHHVTGGKTWGGKBFNKZPLEZLSTAHJTWGDSFQFJWOKTCQETMKBHAEXLKNVGSBUFGCRPCKEJBBSNZAANXAUCLPYNHOFPUFQBRFOLRKOCZJMCNOKCKPIPZSEPLTFMOQBIRSFMBIMLZDAQXDALHIUAFISASNPTBLBPVRQNWPOMVLOTMNVROGCOWMSETMQIRMOILGOJLFMJJFKJGCWQCPOFQJBSRNRRALVJWQLGAPALVNDIGKSMPICHPDAHRPOLZOKAVDMMSEFPFMPPVGQEWKUIJMYHHLWNRJBITEHJRPKIDMDFYDZKRDJLABAFYAIEVGSCTGWNDBUJRFSJOQYGOKKRTKHGAIQGASWGITTGYSNDMMZHTIDMNPAIXDIHFDCBTJGMDEEQBECQYEKJWQGEIQPEJMFISJPLQOTJOFSJZEVGQMWJJCKOHCIOVMIFFBGPDLOODCDPYEQRIPZHYOGRAPSRGOJSCRNOAMSIKMZCPPWCTIWHXPLMVPSLTPQLNJQMMJBQZLVPMIBUTQDJDMFFTQYERQXOGSJGYPVKXOXJHNWKTGEKBGCKPCSJDNMDXGAUUMXOLGWJTFQDRLEIPLOCPGQOZOTJIEIILLIHJLGHDFENLEEIBEBJBIWKVNVJLIKDJIRQWMMQMGVEJNCJQNLGUKHCBHLGHCSFPBQFRNEKLHOOLCMKZGJLVJBIRKTSALQGQKZDYIXEEUZHDUKHIIXCXGUMRASIVPSDTPADRLIMLFNNBULQHTQMEITDPNZOTIBFQIREKPVIIKSFAOHBHNEBBDSPFOCKDOAGXBYFVLXLJGJTDGFSMGGOCQRQMNNQQPZSPLCSUNJITLGERPEEHLOIBBMIZAANLQAIKMLRJNFRWNVQPDXQPTPKCOLDMLXNLKLOEGTGTOSFTJQFRJOBPNMLLCMGNOKKKPVNTLFUILXOPJBPNKNONQSMNLTHKLXQSNDQCHDEUMQIBMOIZLMETFWIJFUIREENYBJIPFMBNFONBKOILEICJKWGHKFCJJDFZHILWGPILSHEXMXJRNTTSETIQDELSCCGTOAQPDQPXCOPVCNLJHQEJMTQVLBIZKXGEFONMEJFUCFFMUHIHKKRMCFNBBCJZEAJZJAOXFUBVFSBDFWICLMGVSJGSSOFOJHFFTYOWSQJLSMGTRLPFITSTHBPDSELTQRELQUOILWOSGVQAFXJSLOTMQEUNPBQXHUJXMUIVMSITMQENAOONFAOMBMNJBKNHLEDHKIOGKQNDGASCQAHLKYGJKWCXOKNTDEHHUBNEPSGDKQCXDYLLIWLVCWGWPSOWMCIQMFPHLMPBLGICRKIOMLIXLLUQIBMYGOJCBMEDNAJBNVCHBYJVFWJTFDKFFVGBKZFUJAGKJXOIMPIOTTGNPUKAMPGLEEIBEMHJDKHLPIHHEIQEFTTBIKOUGSKNQTENMXIIMYTHHZPEFGIHFLJOQUSJMLIJGOSYNJHGCJIRENSHLWRYCHONBEKLBIDJPMOJKKOHGUCEHYPPOJHOSOGXSIGROFFRTTPNTKOYSPLNHOFOJXNKFUBZFXMMJIBJNGBHNOAHESLFOCKNNZKNRRELQPUYKUNUGTMZQKMTQVHDPBTFJSNUJWNLESQBOYESHRQOLIQCMZJSBOHNLKHLLIDTKGNDJGIDEOHERPPBTRJTHIRQLMQWMWOLIPJRNGIXLWDFLVBMKTGIDHHWNIKTNSEPCQKDHPKLGMKBSVGKHGDHHEDHCIKFGGKDQMIEH"),e,!0)};var s=r.prototype;return s.getDeepestLineClear=function(){return this.mDeepestLineClear},s.updateVisibleMatrixRows=function(){var t=this.getPlayer().getMatrix(),e=t.getHighestMinoYWithMinoTypeId(u.x4187320764779318408x),i=this.getParams().getIntValue(r.x1095767583390481869x);if(e>=i)return 0;t.setIsVerticalShiftEnabled(!0),t.setIsVerticalShiftUpwards(!0),t.setVerticalShiftMSECPerLine(this.getParams().getIntValue(r.x1864979631059987589x));var n=i-1-e;return this.insertMatrixRows(n),n},s.insertMatrixRows=function(t){for(var e=this.getPlayer().getMatrix(),i=u.FXPTFromInt(this.getParams().getDictionary(r.x4066701920235634606x).getIntValue(r.x2514644822472053285x)),n=u.FXPTFromInt(this.getParams().getDictionary(r.x4066701920235634606x).getIntValue(r.x2570637365281805279x)),s=this.getParams().getDictionary(r.x4066701920235634606x).getIntValue(r.x572690516996916015x),a=0;a<t;a++)this.mBottomRowDepth--,this.createMatrixRow(this.mScratchRowMinosArray,u.FXPTToInt(this.mCurrentMinHolesPerLineFXPT),u.FXPTToInt(this.mCurrentMaxHolesPerLineFXPT)),this.spawnGemsByDepth(this.mScratchRowMinosArray),e.addExternalRowBelow(this.mScratchRowMinosArray,!1),this.mCurrentMinHolesPerLineFXPT=u.minInt(this.mCurrentMinHolesPerLineFXPT+s,i),this.mCurrentMaxHolesPerLineFXPT=u.minInt(this.mCurrentMaxHolesPerLineFXPT+s,n)},s.createMatrixRow=function(t,e,i){t.setAllToNull();var n=this.getPlayer().getMatrix().getWidth(),r=0,s=0;for(this.mScratchRowXValuesArray.removeAll(),r=0;r<n;r++)this.mScratchRowXValuesArray.pushBack(this.mScratchRowXValuesPool.getAtIndex(r));var a=this.mRNG.nextIntInRange(e,i);for(r=0;r<a;r++){var o=this.mScratchRowXValuesArray.getNumObjects();if(o<=0)break;var x=this.mRNG.nextIntInRange(0,o-1);this.mScratchRowXValuesArray.removeAtIndex(x)}var c=this.mScratchRowXValuesArray.getNumObjects();for(r=0;r<c;r++){var l=new h;l.setMinoTypeId(u.x4187320764779318408x),l.setCanFall(!1),l.setIsMatchable(!0),l.setIsKillable(!0),s=this.mScratchRowXValuesArray.getAtIndex(r).getValue(),t.setAtIndex(s,l)}for(r=0;r<n-1;r++){var m=t.getAtIndex(r),g=t.getAtIndex(r+1);m&&g&&(m.setIsStuckInDirection(u.x4374508417979542563x,!0),g.setIsStuckInDirection(u.x1751838633768770123x,!0))}this.mScratchRowXValuesArray.removeAll()},s.spawnGemsByDepth=function(t){var e=null;if(this.mBonusTimeGem_doSpawnByDepth&&this.mBottomRowDepth<=this.mBonusTimeGem_spawnByDepth_nextGemDepth&&(e=this.getGemTargetMinoInRowMinosArray(t))){var i=new p(this.getPlayer(),null);i.setBonusTimeSEC(this.mBonusTimeGem_bonusTimeSECPerGem),e.attachPlayerAction(i,m.x253878322846485755x),this.mBonusTimeGem_spawnByDepth_currentGemDistance+=this.mBonusTimeGem_spawnByDepth_depthIncrement,this.mBonusTimeGem_spawnByDepth_nextGemDepth=this.mBottomRowDepth-this.mBonusTimeGem_spawnByDepth_currentGemDistance}if(this.mScoreMultiplierGem_doSpawnByDepth&&this.mBottomRowDepth<=this.mScoreMultiplierGem_spawnByDepth_nextGemDepth&&(e=this.getGemTargetMinoInRowMinosArray(t))){var n=new S(this.getPlayer(),null);e.attachPlayerAction(n,m.x253878322846485755x),this.mScoreMultiplierGem_spawnByDepth_currentGemDistance+=this.mScoreMultiplierGem_spawnByDepth_depthIncrement,this.mScoreMultiplierGem_spawnByDepth_nextGemDepth=this.mBottomRowDepth-this.mScoreMultiplierGem_spawnByDepth_currentGemDistance}},s.getGemTargetMinoInRowMinosArray=function(t){for(var e=t.getNumObjects(),i=0;i<e;i++){var n=this.mRNG.nextIntInRange(0,e-1),r=t.getAtIndex(n);if(r&&!r.getMinoPlayerActionItem())return r}return null},s.getGemTargetMinoInPatternMatches=function(t){for(var e=t.getNumObjects(),i=0;i<e;i++)for(var n=t.getAtIndex(i),r=n.getNumObjects(),s=0;s<r;s++){var a=this.mRNG.nextIntInRange(0,r-1),o=n.getAtIndex(a);if(o&&!o.getMinoPlayerActionItem())return o}return null},s.handleMessageScoreEvent=function(t,e){if(!e.getBoolValue(c.x3846704088808192491x)){var i=e.getIntValue(c.x4002130832260486610x)>0,n=e.getIntValue(c.x4021322772183539622x),r=!i&&4==n,s=!i&&e.getIntValue(c.x4268196375255836292x)==u.x3879340559840163537x,a=e.getObjectValue(c.x3527621570082328501x),o=null;if(r){if(o=this.getGemTargetMinoInPatternMatches(a)){var x=new y(this.getPlayer(),null);o.attachPlayerAction(x,m.x253878322846485755x),o.getMinoPlayerActionItem().preActivate(),this.getPlayer().dispatchActionSpawnedMessage(x)}if(o=this.getGemTargetMinoInPatternMatches(a)){var l=new p(this.getPlayer(),null);l.setBonusTimeSEC(this.mBonusTimeGem_bonusTimeSECPerGem),o.attachPlayerAction(l,m.x253878322846485755x),this.getPlayer().dispatchActionSpawnedMessage(l)}}if(this.mScoreMultiplierGem_doSpawnByTSpin&&s&&n>0&&(o=this.getGemTargetMinoInPatternMatches(a))){var h=new S(this.getPlayer(),null);this.mScoreMultiplierGem_spawnByTSpin_multiplierEqualsLinesCleared&&h.setMultiplierIncrement(n),o.attachPlayerAction(h,m.x253878322846485755x),this.getPlayer().dispatchActionSpawnedMessage(h)}}},s.handleMessageMatrixWillKillMinos=function(t,e){var i=e.getObjectValue(l.x2887911627436040628x),n=u.x4486032239274713138x,r=i.getNumObjects(),s=0;for(s=0;s<r;s++)(o=i.getAtIndex(s)).getY()<n&&(n=o.getY());this.updateDeepestLineClear(n),this.mScratchRectMinosArray.removeAll();var a=t;if(a.getMinosInRect(0,n,a.getWidth(),a.getHeight(),this.mScratchRectMinosArray)>0)for(r=this.mScratchRectMinosArray.getNumObjects(),s=0;s<r;s++){var o;0==(o=this.mScratchRectMinosArray.getAtIndex(s)).getMinoTypeId()&&o.setCanFall(!0)}this.mScratchRectMinosArray.removeAll()},s.updateDeepestLineClear=function(t){var e=this.mBottomRowDepth+t;e<this.mDeepestLineClear&&(this.mDeepestLineClear=e,this.dispatchMessage(r.x3783621890406384418x,this,null))},s.tryState_overtimeShatter=function(){if(this.getParams().getDictionary(r.x2980504062198302731x).getBoolValue(r.x3473571134159175823x)){switch(this.getCurrentState()){case r.x3625601517283391088x:case r.x2875023659590595570x:return}var t=this.getPlayer();if(!(t.getRemainingTimeMSEC()>0)){this.mOvertimeShatterMinos.removeAll();var e=t.getMatrix();if(e.getMinosWithLogicalStates(!0,!1,!1,this.mOvertimeShatterMinos),0==this.mOvertimeShatterMinos.getNumObjects())return this.mOvertimeShatterMinos.removeAll(),e.getMinosWithLogicalStates(!0,!1,!0,this.mOvertimeShatterMinos),e.killMinos(this.mOvertimeShatterMinos,this.getParams().getDictionary(r.x2980504062198302731x).getIntValue(r.x4121846180318983162x),!1),this.mOvertimeShatterMinos.removeAll(),this.setNextState(r.x2875023659590595570x,!1),void this.dispatchMessage(r.x1532189069174808298x,this,null);this.mOvertimeShatterMinos.removeAll(),e.getMinosWithLogicalStates(!0,!1,!0,this.mOvertimeShatterMinos),this.mOvertimeShatterRemainingShatterMinos=this.getParams().getDictionary(r.x2980504062198302731x).getIntValue(r.x792169718195340716x),this.mOvertimeShatterRemainingShatterMinos<0&&(this.mOvertimeShatterRemainingShatterMinos=u.x4486032239274713138x),this.mOvertimeShatterMinoTimerMSEC=0,e.pushDestabilize(),e.pushMovementDisabled(),this.setNextState(r.x3625601517283391088x,!1),this.dispatchMessage(r.x1492987459186948972x,this,null)}}},s.processState_overtimeShatter=function(t,e){var i=this.getPlayer().getMatrix();if(this.mOvertimeShatterMinos.getNumObjects()>0&&(this.mOvertimeShatterMinoTimerMSEC-=e,this.mOvertimeShatterMinoTimerMSEC<=0)){var n=this.mOvertimeShatterMinos.getAtIndex(0);this.mOvertimeShatterMinos.popFront();var s=n.getX()%2==n.getY()%2;this.mOvertimeShatterRemainingShatterMinos<=0||s&&this.getParams().getDictionary(r.x2980504062198302731x).getBoolValue(r.x25044827360490242x)?i.killMino(n,this.getParams().getDictionary(r.x2980504062198302731x).getIntValue(r.x4121846180318983162x),!1):(i.shatterMino(n,this.getParams().getDictionary(r.x2980504062198302731x).getIntValue(r.x4121846180318983162x)),this.mOvertimeShatterRemainingShatterMinos--),this.mOvertimeShatterMinoTimerMSEC+=this.getParams().getDictionary(r.x2980504062198302731x).getIntValue(r.x3997269311998249337x)}0==this.mOvertimeShatterMinos.getNumObjects()&&(i.popDestabilize(),i.popMovementDisabled(),this.setNextState(r.x3605411226328119362x,!1))},s.x1721113016797186854x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),this.mScratchRowXValuesPool.destroyAll(),null!==this.mScratchRowXValuesPool&&(this.mScratchRowXValuesPool.destroy(),this.mScratchRowXValuesPool=null),null!==this.mScratchRowXValuesArray&&(this.mScratchRowXValuesArray.destroy(),this.mScratchRowXValuesArray=null),null!==this.mScratchRowMinosArray&&(this.mScratchRowMinosArray.destroy(),this.mScratchRowMinosArray=null),null!==this.mScratchRectMinosArray&&(this.mScratchRectMinosArray.destroy(),this.mScratchRectMinosArray=null),null!==this.mOvertimeShatterMinos&&(this.mOvertimeShatterMinos.destroy(),this.mOvertimeShatterMinos=null),t.prototype.x1721113016797186854x.call(this)},s.x3130238479305540278x=function(t){switch(this.getCurrentState()){case r.x3625601517283391088x:return!1;case r.x2875023659590595570x:return this.getPlayer().getMatrix().isStable()}switch(this.getNextState()){case r.x3625601517283391088x:case r.x2875023659590595570x:return!1}return!0},s.x4498870316303653116x=function(t,e,i,n){if(e===r.x3625601517283391088x)switch(t){case o.x2580340477778594771x:return e;case o.x2982972318080668761x:return 0;case o.x3793884777573381281x:return this.processState_overtimeShatter(i,n),n;case o.x4149106650117426330x:default:return 0}switch(t){case o.x2580340477778594771x:return e;case o.x2982972318080668761x:return 0;case o.x3793884777573381281x:return n;case o.x4149106650117426330x:default:return 0}},s.x601562840631873202x=function(t,e,i){var n=this.getPlayer();switch(t){case d.x2571108714608016537x:this.updateVisibleMatrixRows();var r=this.getPlayer().getComponent(c.x2355730316075620282x);r&&r.addMessageListener(this);break;case d.x1368156971866977203x:n.getCurrentState()===d.x226737526530541234x&&0==this.updateVisibleMatrixRows()&&this.tryState_overtimeShatter();break;case c.x4563261606863935423x:this.handleMessageScoreEvent(e,i);break;case l.x514256904659133837x:this.handleMessageMatrixWillKillMinos(e,i)}},s.x3385998454822718298x=function(e){return e===r.x3825102026130958775x?this.mDeepestLineClear:t.prototype.x3385998454822718298x.call(this,e)},i(r,null,[{key:"x2324817043947020368x",get:function(){return 1456907436}},{key:"x1095767583390481869x",get:function(){return 201879645}},{key:"x1864979631059987589x",get:function(){return 1677866407}},{key:"x4416729344951181480x",get:function(){return 1326329515}},{key:"x4066701920235634606x",get:function(){return 442583038}},{key:"x4555790178667905754x",get:function(){return 1705016127}},{key:"x4151222103570908805x",get:function(){return 1324385105}},{key:"x2514644822472053285x",get:function(){return 682803334}},{key:"x2570637365281805279x",get:function(){return 302172312}},{key:"x572690516996916015x",get:function(){return 844877831}},{key:"x1915346033656917677x",get:function(){return 1063407861}},{key:"x3983266260077420004x",get:function(){return 255545595}},{key:"x725362112422785663x",get:function(){return 488921072}},{key:"x1451775417912397579x",get:function(){return 2049395848}},{key:"x1543645193681296141x",get:function(){return 1909525154}},{key:"x1464013488732171192x",get:function(){return 488921072}},{key:"x4573405978096744540x",get:function(){return 1716727888}},{key:"x3558897722859914424x",get:function(){return 1621274749}},{key:"x1430477764614285686x",get:function(){return 257226498}},{key:"x1464983827111247569x",get:function(){return 488921072}},{key:"x4296510023737151688x",get:function(){return 1909525154}},{key:"x3905659981370173124x",get:function(){return 488921072}},{key:"x1323532741581010911x",get:function(){return 1716727888}},{key:"x441817634193843907x",get:function(){return 1621274749}},{key:"x343289537352284626x",get:function(){return 1796295317}},{key:"x3929674031482339535x",get:function(){return 488921072}},{key:"x4055030593837534167x",get:function(){return 2008831518}},{key:"x2980504062198302731x",get:function(){return 1973534055}},{key:"x3473571134159175823x",get:function(){return 488921072}},{key:"x25044827360490242x",get:function(){return 2065803595}},{key:"x792169718195340716x",get:function(){return 538441619}},{key:"x4121846180318983162x",get:function(){return 293602281}},{key:"x3997269311998249337x",get:function(){return 1683915436}},{key:"x3825102026130958775x",get:function(){return 163171728}},{key:"x3605411226328119362x",get:function(){return 1}},{key:"x3625601517283391088x",get:function(){return 2}},{key:"x2875023659590595570x",get:function(){return 3}},{key:"x3783621890406384418x",get:function(){return 515125559}},{key:"x1492987459186948972x",get:function(){return 592463333}},{key:"x1532189069174808298x",get:function(){return 1356501270}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x3513548718171000876x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x1930801154962670888x.ts","./x702435451033209193x.ts","./x3461623316906106937x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x1930801154962670888x},function(t){a=t.x702435451033209193x},function(t){o=t.x3461623316906106937x}],execute:function(){n._RF.push({},"5c443+a6qlJGL06gc7KXl92","x3513548718171000876x",void 0),t("x3513548718171000876x",function(t){function n(e,i){var s;return(s=t.call(this,n.x2113334628118377893x,r.x3700981341653593902x,e,a.x1012796168335938419x(n.x1902960440326634340x),i)||this).mDurationTimerMSEC=0,s}e(n,t);var x=n.prototype;return x.isSpeedUp=function(){return this.getParams().getIntValue(n.x617034482725778042x)<a.x3167629350924187699x},x.processState_active=function(t){this.mDurationTimerMSEC-=t,this.mDurationTimerMSEC<=0&&(this.getPlayer().getControlComponent().x3633925409096558838x().x3715222810119513877x(a.x3167629350924187699x),this.setNextState(r.x2345423266559458465x,!1))},x.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},x.x4048123437206285000x=function(){var t=this.getPlayer(),e=t.getMatrix();return(t.getCurrentState()===o.x226737526530541234x||t.getNextState()===o.x226737526530541234x)&&e.isStable()},x.x1762492116522425354x=function(){this.getPlayer().getControlComponent().x3633925409096558838x().x3715222810119513877x(this.getParams().getIntValue(n.x617034482725778042x)),this.mDurationTimerMSEC=1e3*this.getParams().getIntValue(n.x4352215321458329814x),this.setCurrentState(r.x1169698474296864278x,0)},x.x4498870316303653116x=function(e,i,n,a){return i===r.x1169698474296864278x&&e===s.x3793884777573381281x?(this.processState_active(a),a):t.prototype.x4498870316303653116x.call(this,e,i,n,a)},i(n,null,[{key:"x2113334628118377893x",get:function(){return 817904891}},{key:"x4352215321458329814x",get:function(){return 1806937772}},{key:"x617034482725778042x",get:function(){return 1469809549}},{key:"x1902960440326634340x",get:function(){return"EELTZCZKLIKOYKSIELKIKLNHNLNSWNRLJBIGJNXFXNQJFGHNDCHNBJRMOIYLQIBGTJYFYIWRRIPMISCGBRAFJNMEZFKDVPAJAFGIVPUBGOIG"}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1119179591842280899x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x3461623316906106937x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x1930801154962670888x},function(t){a=t.x3196398007076860870x},function(t){o=t.x702435451033209193x},function(t){x=t.x3461623316906106937x}],execute:function(){n._RF.push({},"88520/CzwlNdqbNsYN/gZZ0","x1119179591842280899x",void 0),t("x1119179591842280899x",function(t){function n(e,i){var s;return(s=t.call(this,n.x3194209701878920299x,r.x3700981341653593902x,e,o.x1012796168335938419x(n.x1902960440326634340x),i)||this).mAnimationTimeMSEC=0,s.mScratchMinosArray=new a(0),s}e(n,t);var u=n.prototype;return u.processState_active=function(t){var e=this.getPlayer().getMatrix(),i=e.getHighestMinoY();this.mScratchMinosArray.removeAll(),e.getMinosInRect(0,0,e.getWidth(),i+1,this.mScratchMinosArray);var n=this.mScratchMinosArray.getNumObjects(),s=0,a=null,x=this.getCurrentStateElapsedTimeMSEC();if(x<this.mAnimationTimeMSEC){var u=o.FXPTGetLerpFactor(o.FXPTFromInt(x),0,o.FXPTFromInt(this.mAnimationTimeMSEC));for(s=0;s<n;s++){a=this.mScratchMinosArray.getAtIndex(s);var c=o.FXPTFromInt(a.getY()),l=o.FXPTFromInt(i-a.getY());if(c!=l){var h=o.FXPTLerp(c,l,u);a.setVisualAnimationOffsetY_FXPT(h-c)}}}else e.invertMinosY(this.mScratchMinosArray,i),e.setMinosVisualAnimationOffsetY_FXPT(0),e.popDestabilize(),e.popMovementDisabled(),this.setNextState(r.x2345423266559458465x,!1);this.mScratchMinosArray.removeAll()},u.x1721113016797186854x=function(){null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x1721113016797186854x.call(this)},u.x4048123437206285000x=function(){var t=this.getPlayer(),e=t.getMatrix();return(t.getCurrentState()===x.x226737526530541234x||t.getNextState()===x.x226737526530541234x)&&e.isStable()},u.x1762492116522425354x=function(){var t=this.getPlayer().getMatrix(),e=t.getHighestMinoY()+1;if(e>1){t.pushDestabilize(),t.pushMovementDisabled();var i=~~(e/2);this.mAnimationTimeMSEC=i*this.getParams().getIntValue(n.x4286775755482149854x),this.setCurrentState(r.x1169698474296864278x,0)}else this.setNextState(r.x2345423266559458465x,!1)},u.x4498870316303653116x=function(e,i,n,a){return i===r.x1169698474296864278x&&e===s.x3793884777573381281x?(this.processState_active(a),a):t.prototype.x4498870316303653116x.call(this,e,i,n,a)},i(n,null,[{key:"x3194209701878920299x",get:function(){return 1131402206}},{key:"x4286775755482149854x",get:function(){return 773412769}},{key:"x1902960440326634340x",get:function(){return"SEHJJIVAXITODLVIQRBNFRTHAMAUNPPNQJJNRPJIXQOLOKTGEJNMWHVLLGKLHMZIXHICUK"}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3037628190612628063x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3807920460184414210x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x3807920460184414210x},function(t){r=t.x702435451033209193x}],execute:function(){i._RF.push({},"374785blSNFS7msny3gwwmY","x3037628190612628063x",void 0),t("x3037628190612628063x",function(t){function i(){var e;return(e=t.call(this,n.x2484114307597753098x)||this).mValue=0,e}e(i,t),i.getAvailableInstance=function(){i.sPool||(i.sPool=new Array);var t=null;return i.sPool.length>0?(t=i.sPool[i.sPool.length-1],i.sPool.pop()):t=new i,t},i.recycleAvailableInstance=function(t){i.sPool||(i.sPool=new Array),t.recycle(),i.sPool.push(t)},i.destroyPool=function(){if(i.sPool){for(var t=i.sPool.length,e=0;e<t;e++){var n=i.sPool[e];null!==n&&(n.destroy(),n=null)}null!==i.sPool&&(i.sPool=null)}};var s=i.prototype;return s.getValue=function(){return this.mValue},s.setValue=function(t){this.mValue=t},s.x2241532792834576709x=function(){return t.prototype.x2241532792834576709x.call(this),this.mValue=0,!0},s.x1721113016797186854x=function(){this.mValue=0,t.prototype.x1721113016797186854x.call(this)},s.setValueWithInt=function(t){this.mValue=t},s.setValueWithFloat=function(t){this.mValue=t},s.setValueWithBool=function(t){this.mValue=t?1:0},s.setValueWithString=function(t){this.mValue=r.stringToFloat(t)},s.toInt=function(){return~~this.mValue},s.toFloat=function(){return this.mValue},s.toBool=function(){return 0!=this.mValue},s.toString=function(){return r.stringFromFloat(this.mValue)},i}(n)).sPool=null,i._RF.pop()}}})),System.register("chunks:///_virtual/x4177071645687641537x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x3461623316906106937x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x1930801154962670888x},function(t){a=t.x3196398007076860870x},function(t){o=t.x702435451033209193x},function(t){x=t.x3461623316906106937x}],execute:function(){n._RF.push({},"2d5d7OzfuRDZpm2PcteLhSO","x4177071645687641537x",void 0),t("x4177071645687641537x",function(t){function n(e,i){var s;return(s=t.call(this,n.x2808148533898659766x,r.x3700981341653593902x,e,o.x1012796168335938419x(n.x1902960440326634340x),i)||this).mAnimationTimeMSEC=0,s.mScratchMinosArray=new a(0),s}e(n,t);var u=n.prototype;return u.processState_active=function(t){var e=this.getPlayer().getMatrix(),i=e.getWidth(),n=e.getHighestMinoY();this.mScratchMinosArray.removeAll(),e.getMinosInRect(0,0,e.getWidth(),n+1,this.mScratchMinosArray);var s=this.mScratchMinosArray.getNumObjects(),a=0,x=null,u=this.getCurrentStateElapsedTimeMSEC();if(u<this.mAnimationTimeMSEC){var c=o.FXPTGetLerpFactor(o.FXPTFromInt(u),0,o.FXPTFromInt(this.mAnimationTimeMSEC));for(a=0;a<s;a++){x=this.mScratchMinosArray.getAtIndex(a);var l=o.FXPTFromInt(x.getX()),h=o.FXPTFromInt(i-x.getX());if(l!=h){var m=o.FXPTLerp(l,h,c);x.setVisualAnimationOffsetX_FXPT(m-l)}}}else e.invertMinosX(this.mScratchMinosArray,i-1),e.setMinosVisualAnimationOffsetX_FXPT(0),e.popDestabilize(),e.popMovementDisabled(),this.setNextState(r.x2345423266559458465x,!1);this.mScratchMinosArray.removeAll()},u.x1721113016797186854x=function(){null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x1721113016797186854x.call(this)},u.x4048123437206285000x=function(){var t=this.getPlayer(),e=t.getMatrix();return(t.getCurrentState()===x.x226737526530541234x||t.getNextState()===x.x226737526530541234x)&&e.isStable()},u.x1762492116522425354x=function(){var t=this.getPlayer().getMatrix(),e=t.getWidth();if(e>1){t.pushDestabilize(),t.pushMovementDisabled();var i=~~(e/2);this.mAnimationTimeMSEC=i*this.getParams().getIntValue(n.x4122007666047099210x),this.setCurrentState(r.x1169698474296864278x,0)}else this.setNextState(r.x2345423266559458465x,!1)},u.x4498870316303653116x=function(e,i,n,a){return i===r.x1169698474296864278x&&e===s.x3793884777573381281x?(this.processState_active(a),a):t.prototype.x4498870316303653116x.call(this,e,i,n,a)},i(n,null,[{key:"x2808148533898659766x",get:function(){return 1131795800}},{key:"x4122007666047099210x",get:function(){return 1963181943}},{key:"x1902960440326634340x",get:function(){return"CIPTNCDLAHBLYGFEYHVDWHTDEHVPTHBILERHMQHHRQFHSEIRPDBNCJFMNSFHFKHEKJEFOJJMXIBLERNEMQCDDHACWGOCDPZGCOZBAOXBYJVFSDVKWOFL"}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x2498168056815666929x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x940197673366484397x.ts","./x3693760142138385085x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x940197673366484397x},function(t){s=t.x3693760142138385085x},function(t){a=t.x3196398007076860870x},function(t){o=t.x702435451033209193x}],execute:function(){n._RF.push({},"9c367ApzdpFZpTXo8fdFwpC","x2498168056815666929x",void 0),t("x2498168056815666929x",function(t){function n(){var e;return(e=t.call(this,0,null)||this).mParams=new s(!0),e.mPlayers=new a(0),e}e(n,t);var r=n.prototype;return r.getParams=function(){return this.mParams},r.addPlayer=function(t){this.mPlayers.pushBack(t)},r.getPlayer=function(t){for(var e=this.mPlayers.getNumObjects(),i=0;i<e;i++){var n=this.mPlayers.getAtIndex(i);if(n.getPlayerId()==t)return n}return null},r.getNumPlayers=function(){return this.mPlayers.getNumObjects()},r.getPlayerAtIndex=function(t){return this.mPlayers.getAtIndex(t)},r.x1721113016797186854x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),this.mPlayers.destroyAll(),null!==this.mPlayers&&(this.mPlayers.destroy(),this.mPlayers=null),t.prototype.x1721113016797186854x.call(this)},r.x3807633800690357000x=function(e){switch(o.getFirstValueKeyInPath(e)){case n.x4316749494163871337x:return this.x3807633800690357000x(o.chompToNextItemInPath(e));case n.x756517595622576540x:e=o.chompToNextItemInPath(e);var i=o.getFirstValueKeyInPath(e),r=this.getPlayerAtIndex(i);return r?r.x3807633800690357000x(o.chompToNextItemInPath(e)):null;default:return t.prototype.x3807633800690357000x.call(this,e)}},i(n,null,[{key:"x4316749494163871337x",get:function(){return 1030361827}},{key:"x756517595622576540x",get:function(){return 1331375329}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1721469586937880116x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3339987402386958992x.ts","./x3461623316906106937x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x349179295227638153x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3339987402386958992x},function(t){a=t.x3461623316906106937x},function(t){o=t.x1930801154962670888x},function(t){x=t.x3196398007076860870x},function(t){u=t.x702435451033209193x},function(t){c=t.x349179295227638153x}],execute:function(){r._RF.push({},"540f28I0I1LpINLexZfJnR/","x1721469586937880116x",void 0),t("x1721469586937880116x",function(t){function r(e,i){var s;(s=t.call(this,r.x4448482365337022494x,e)||this).getParams().copy(i,!1),e.addMessageListener(n(s));var a=s.getPlayer().getMatrix();return s.mNumMatrixCells=a.getWidth()*a.getVisibleHeight(),s.mMinoInsertionStepIndex=0,s.mMinoInsertionDelayMSEC=s.getParams().getIntValue(r.x3880255211417297588x),s.mMinoInsertionStepTimerMSEC=-1,s.setNextState(1,!1),s}e(r,t);var s=r.prototype;return s.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},s.x4370941190603982559x=function(t){return t!==a.x1204455106380534249x||!!this.getPlayer().didCompleteGameSuccessfully()||this.mMinoInsertionStepIndex>=this.mNumMatrixCells},s.x4498870316303653116x=function(t,e,i,n){var r=this.getPlayer().getMatrix();switch(t){case o.x2580340477778594771x:return e;case o.x2982972318080668761x:return 0;case o.x3793884777573381281x:if(this.mMinoInsertionStepTimerMSEC>0){var s=r.getWidth();for(this.mMinoInsertionStepTimerMSEC-=n;this.mMinoInsertionStepTimerMSEC<=0&&this.mMinoInsertionStepIndex<this.mNumMatrixCells;){var a=u.computeXFromGridIndex(this.mMinoInsertionStepIndex,s),x=u.computeYFromGridIndex(this.mMinoInsertionStepIndex,s),l=new c;r.insertMinoAt(l,a,x),l.setIsMatchable(!1),l.setIsKillable(!1),l.setMinoTypeId(u.x4187320764779318408x),l.setLogicalState(c.x244013038850211387x),this.mMinoInsertionStepTimerMSEC+=this.mMinoInsertionDelayMSEC,this.mMinoInsertionStepIndex++}}return n;case o.x4149106650117426330x:default:return 0}},s.x601562840631873202x=function(t,e,i){var n=this.getPlayer();if(t===a.x1368156971866977203x&&n.getCurrentState()===a.x1204455106380534249x&&!this.getPlayer().didCompleteGameSuccessfully()){this.mMinoInsertionStepIndex=0,this.mMinoInsertionStepTimerMSEC=this.mMinoInsertionDelayMSEC;var r=n.getMatrix(),s=new x(r.getWidth()*r.getHeight());r.getMinosInRect(0,0,r.getWidth(),r.getHeight(),s),r.killMinos(s,300,!1)}},i(r,null,[{key:"x4448482365337022494x",get:function(){return 1253789930}},{key:"x3880255211417297588x",get:function(){return 188301958}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x84946173450627179x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x4127996380524714105x.ts","./x702435451033209193x.ts","./x3461623316906106937x.ts","./x349179295227638153x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x1930801154962670888x},function(t){a=t.x3196398007076860870x},function(t){o=t.x4127996380524714105x},function(t){x=t.x702435451033209193x},function(t){u=t.x3461623316906106937x},function(t){c=t.x349179295227638153x}],execute:function(){n._RF.push({},"46facSJQqRArYnEXtoFg/jP","x84946173450627179x",void 0),t("x84946173450627179x",function(t){function n(e,i){var s;return(s=t.call(this,n.x3814876417137536124x,r.x3700981341653593902x,e,x.x1012796168335938419x(n.x1902960440326634340x),i)||this).mRNG=new o,s.mScratchRowMinosArray=new a(e.getMatrixWidth()),s}e(n,t);var l=n.prototype;return l.setRNGSeed=function(t){0==t&&(t=x.nextNativeRandomInt()),this.mRNG.setSeed(t)},l.processState_active=function(t){this.setNextState(r.x2345423266559458465x,!1)},l.x1721113016797186854x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),null!==this.mScratchRowMinosArray&&(this.mScratchRowMinosArray.destroy(),this.mScratchRowMinosArray=null),t.prototype.x1721113016797186854x.call(this)},l.x4048123437206285000x=function(){var t=this.getPlayer(),e=t.getMatrix();return(t.getCurrentState()===u.x226737526530541234x||t.getNextState()===u.x226737526530541234x)&&e.isStable()},l.x1762492116522425354x=function(){var t=this.getPlayer().getMatrix();t.setIsVerticalShiftEnabled(!0),t.setIsVerticalShiftUpwards(!0),t.setVerticalShiftMSECPerLine(this.getParams().getIntValue(n.x2296380574461633202x));for(var e=t.getWidth(),i=this.getParams().getIntValue(n.x1610530291342911466x),s=i,a=0,o=null,u=this.getParams().getIntValue(n.x668658767497190139x),l=0;l<u;l++){s>=i&&(a=this.mRNG.nextIntInRange(0,e-1));for(var h=0;h<e;h++){if(o=null,h!=a){o=new c;var m=this.mRNG.nextIntInRange(x.x3417271268866532404x,x.x941492048183429145x);o.setMinoTypeId(m),o.setCanFall(!0),o.setIsMatchable(!0),o.setIsKillable(!0)}this.mScratchRowMinosArray.setAtIndex(h,o)}t.addExternalRowBelow(this.mScratchRowMinosArray,!1),--s<=0&&(s=i)}this.setCurrentState(r.x1169698474296864278x,0)},l.x4498870316303653116x=function(e,i,n,a){return i===r.x1169698474296864278x&&e===s.x3793884777573381281x?(this.processState_active(a),a):t.prototype.x4498870316303653116x.call(this,e,i,n,a)},i(n,null,[{key:"x3814876417137536124x",get:function(){return 1629821348}},{key:"x668658767497190139x",get:function(){return 1036987522}},{key:"x2296380574461633202x",get:function(){return 1677866407}},{key:"x1610530291342911466x",get:function(){return 594403564}},{key:"x1902960440326634340x",get:function(){return"IHTTRCHLGCHGECPPCIFPCDDPKCBLXHSICQFTRKFTKLTHVDNROOWHOELHZTYHHHCEPBKOZBSIEFPIMOPNMJNNKFHBIFFBGPEDHSBGKSNEZNDFQSAPDTPKGSSKOQROAKJNJGFTZGGNURIEAQWQHOSQYEYQFEOKRMNIOMRPEMPPMLJJGBZIKMHIHNVHQTCSNHRMSEBMPECRVLQIDGMPVJVNSJDNQPNLQKNGYJLCMOVG"}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x96643384256507270x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x940197673366484397x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x940197673366484397x},function(t){a=t.x3693760142138385085x},function(t){o=t.x702435451033209193x}],execute:function(){r._RF.push({},"4351ahTd2ZBv6BwKKPCY1av","x96643384256507270x",void 0),t("x96643384256507270x",function(t){function r(){var e;return(e=t.call(this,0,null)||this).mConnectionId=0,e.mURL="",e.mMethod=r.x3378367048982486485x,e.mHeaders=new a(!0),e.mUserAgent="UA",e.mContentType=r.x3069089089747639100x,e.mBodyDataString="",e.mTimeoutSEC=60,e.mUserData=new a(!0),e.mResponseStatusCode=0,e.mResponseContentString="",e.mResponseContentJSONValues=null,e.mNativeConnection=null,e.mNativeConnection=new x155103638225223703x,e.mNativeConnection.x744299400249643761x=n(e),e}e(r,t);var s=r.prototype;return s.getConnectionId=function(){return this.mConnectionId},s.setConnectionId=function(t){this.mConnectionId=t},s.getURL=function(){return this.mURL},s.setURL=function(t){this.mURL=t},s.getMethod=function(){return this.mMethod},s.getMethodAsString=function(){switch(this.mMethod){case r.x3378367048982486485x:return"GET";case r.x2671201337483763243x:return"POST";case r.x3965301103333446651x:return"PUT";case r.x3067770242339310481x:return"DELETE";default:return"UNKNOWN"}},s.setMethod=function(t){this.mMethod=t},s.getHeaders=function(){return this.mHeaders},s.setHeader=function(t,e){this.mHeaders.hasValueWithKeyString(t)?this.mHeaders.setStringValue(o.stringToValueKey(t),e):this.mHeaders.insertStringValue(o.stringToValueKey(t),t,999999,e)},s.setHeaders=function(t){this.mHeaders.copy(t,!1)},s.setUserAgent=function(t){this.mUserAgent=t},s.setContentType=function(t){this.mContentType=t},s.getBodyDataString=function(){return this.mBodyDataString},s.setBodyDataString=function(t){this.mBodyDataString=t},s.getTimeoutSEC=function(){return this.mTimeoutSEC},s.setTimeoutSEC=function(t){this.mTimeoutSEC=t},s.getUserData=function(){return this.mUserData},s.setUserData=function(t){this.mUserData.copy(t,!0)},s.start=function(){switch(this.setHeader("user-agent",this.mUserAgent),this.mContentType){case r.x3069089089747639100x:this.setHeader("content-type","text/plain");break;case r.x3528997920241265476x:this.setHeader("content-type","application/x-www-form-urlencoded");break;case r.x1056387364389688191x:this.setHeader("content-type","application/json")}this.mNativeConnection.start(),this.setCurrentState(r.x692812491855950259x,0)},s.isActive=function(){return this.getCurrentState()==r.x692812491855950259x},s.cancel=function(){this.isActive()&&(this.dispatchMessage(r.x945211266404523862x,this,null),this._cancel(),this.setCurrentState(r.x4163703673799675971x,0))},s.getResponseStatusCode=function(){return this.mResponseStatusCode},s.getResponseContentString=function(){return this.mResponseContentString},s.getResponseContentJSONValues=function(){return this.mResponseContentJSONValues},s._setResponseStatusCode=function(t){this.mResponseStatusCode=t},s._setResponseContent=function(t,e){this.mResponseContentString=t,e=o.stringToLowerCase(e),o.firstIndexInString(e,"application/json")>=0&&(this.mResponseContentJSONValues||(this.mResponseContentJSONValues=new a(!0)),this.mResponseContentJSONValues.parseJSONString(t,!0,!0))},s._handleComplete=function(){this.dispatchMessage(r.x104618610829602972x,this,null),this.setCurrentState(r.x964834887917470544x,0)},s._handleError=function(){this.dispatchMessage(r.x287497854434251211x,this,null),this._cancel(),this.setCurrentState(r.x3868051390054743005x,0)},s._handleTimeout=function(){this.dispatchMessage(r.x4457048527104173133x,this,null),this._cancel(),this.setCurrentState(r.x4112336647829871713x,0)},s._cancel=function(){this.isActive()&&this.mNativeConnection.cancel()},s.x1721113016797186854x=function(){this.cancel(),null!==this.mHeaders&&(this.mHeaders.destroy(),this.mHeaders=null),null!==this.mUserData&&(this.mUserData.destroy(),this.mUserData=null),null!==this.mResponseContentJSONValues&&(this.mResponseContentJSONValues.destroy(),this.mResponseContentJSONValues=null),this.mNativeConnection=null,t.prototype.x1721113016797186854x.call(this)},i(r,null,[{key:"x3378367048982486485x",get:function(){return 1}},{key:"x2671201337483763243x",get:function(){return 2}},{key:"x3965301103333446651x",get:function(){return 3}},{key:"x3067770242339310481x",get:function(){return 4}},{key:"x3069089089747639100x",get:function(){return 1}},{key:"x3528997920241265476x",get:function(){return 2}},{key:"x1056387364389688191x",get:function(){return 3}},{key:"x3119648372935234602x",get:function(){return 0}},{key:"x692812491855950259x",get:function(){return 1}},{key:"x964834887917470544x",get:function(){return 2}},{key:"x3868051390054743005x",get:function(){return 3}},{key:"x4112336647829871713x",get:function(){return 4}},{key:"x4163703673799675971x",get:function(){return 5}},{key:"x104618610829602972x",get:function(){return 175631823}},{key:"x287497854434251211x",get:function(){return 1927557074}},{key:"x4457048527104173133x",get:function(){return 1869624493}},{key:"x945211266404523862x",get:function(){return 848129115}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x997865770037528931x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x3196398007076860870x.ts","./x96643384256507270x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x2205868517935256955x},function(t){r=t.x3196398007076860870x},function(t){s=t.x96643384256507270x}],execute:function(){i._RF.push({},"87d7f9ve3lOBIBuZz5gyik9","x997865770037528931x",void 0),t("x997865770037528931x",function(t){function i(){var e;return(e=t.call(this)||this).mConnections=new r(0),e}e(i,t);var n=i.prototype;return n.performConnection=function(t,e,i,n,r,a,o){var x=new s;return x.setConnectionId(t),x.setURL(e),x.setMethod(i),x.setContentType(n),x.setBodyDataString(r),x.setHeaders(a),x.setUserData(o),x.addMessageListener(this),x.start(),this.mConnections.pushBack(x),x},n.processConnections=function(){for(var t=this.mConnections.getNumObjects(),e=0;e<t;e++){var i=this.mConnections.getAtIndex(e);i.isActive()||(this.mConnections.removeAtIndex(e),null!==i&&(i.destroy(),i=null),e--,t--)}},n.x1721113016797186854x=function(){this.mConnections.destroyAll(),null!==this.mConnections&&(this.mConnections.destroy(),this.mConnections=null),t.prototype.x1721113016797186854x.call(this)},n.x601562840631873202x=function(t,e,i){this.dispatchMessage(t,e,i)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x2467934360613379352x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x}],execute:function(){i._RF.push({},"2840aSGGutDxphzQ8riWbPy","x2467934360613379352x",void 0),t("x2467934360613379352x",function(t){function i(e){var i;return(i=t.call(this)||this).mInputActionId=e,i.mIsEnabled=!0,i.mIsOn=!1,i.mValueA=0,i.mValueB=0,i}return e(i,t),i.prototype.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x1232577566642415821x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x3693760142138385085x.ts","./x2467934360613379352x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x2205868517935256955x},function(t){s=t.x3693760142138385085x},function(t){a=t.x2467934360613379352x},function(t){o=t.x702435451033209193x}],execute:function(){n._RF.push({},"c3ef6xRg91NhJLY+g9N0blO","x1232577566642415821x",void 0);var x=739987583,u=739987584,c=739987585,l=739987586,h=739987587,m=739987588,g=739987589,f=739987590,d=739987591,p=739987592,S=739987600,y=739987601,P=739987602,I=739987603,v=739987604,M=739987605,V=739987606,T=739987607,C=739987608,A=739987609,F=739987610,D=739987611,k=739987612,L=739987613,w=739987614,N=739987615,b=739987616,E=739987617,R=739987618,B=739987619,_=739987620,O=739987621,G=739987622,X=739987623,K=739987624,W=739987625,H=137421765,Y=2125951293,J=774354564,Q=1796919290,U=2098654220,j=1322667516,Z=1922382582,z=2093113866,q=384995107,$=2000046994,tt=726521052,et=2097373780,it=2097373781,nt=2097373782,rt=2097373783,st=2097373784,at=2097373785,ot=2097373786,xt=2097373787,ut=2097373788,ct=2097373789,lt=726521053,ht=726521054,mt=726521055,gt=726521056,ft=726521057,dt=726521058,pt=726521059,St=726521060,yt=1681624191,Pt=1133374708,It=570139856,vt=2035637035,Mt=2035637036,Vt=2035637037,Tt=2035637038,Ct=2035637039,At=2035637040,Ft=2035637041,Dt=2035637042,kt=2035637043,Lt=2035637044,wt=1347855368,Nt=1886517388,bt=1318582238,Et=1887467595,Rt=1122334857,Bt=1505866911,_t=2028120689,Ot=896907184,Gt=1052809631,Xt=605049734,Kt=1409178018,Wt=1618494875,Ht=1913060914,Yt=2101407179,Jt=22617345,Qt=1673680990,Ut=1174617885,jt=481755936,Zt=624865713,zt=1534491596,qt=360823509,$t=68700004,te=1420672445,ee=t("x1232577566642415821x",function(t){function n(e){var i;return(i=t.call(this)||this).mDelegate=e,i.mInputActions=new s(!0),i.mDevices=new s(!0),i}e(n,t),n.doStaticInit=function(){if(!n.sDidStaticInit){for(n.sDidStaticInit=!0,n.sKeyboardControlIndicesToControlIds=new Array,n.sKeyboardControlIndicesToControlIds.length=0;n.sKeyboardControlIndicesToControlIds.length<n.x3472572377318353041x;)n.sKeyboardControlIndicesToControlIds.push(0);for(var t=0;t<n.x3472572377318353041x;t++)n.sKeyboardControlIndicesToControlIds[t]=n._convertKeyboardControlIndexToControlId(t);for(n.sNativeKeyCodesToKeyboardControlIds=new Array,n.sNativeKeyCodesToKeyboardControlIds.length=0;n.sNativeKeyCodesToKeyboardControlIds.length<n.x923416604573041613x;)n.sNativeKeyCodesToKeyboardControlIds.push(0);for(t=0;t<n.x923416604573041613x;t++)n.sNativeKeyCodesToKeyboardControlIds[t]=n._convertNativeKeyCodeToBPSKeyboardControlId(t);for(n.sGamePointerControlIndicesToControlIds=new Array,n.sGamePointerControlIndicesToControlIds.length=0;n.sGamePointerControlIndicesToControlIds.length<n.x215537827046144920x;)n.sGamePointerControlIndicesToControlIds.push(0);for(t=0;t<n.x215537827046144920x;t++)n.sGamePointerControlIndicesToControlIds[t]=n._convertGamePointerControlIndexToControlId(t)}},n.doStaticDestroy=function(){n.sDidStaticInit&&(null!==n.sKeyboardControlIndicesToControlIds&&(n.sKeyboardControlIndicesToControlIds=null),null!==n.sNativeKeyCodesToKeyboardControlIds&&(n.sNativeKeyCodesToKeyboardControlIds=null),null!==n.sGamePointerControlIndicesToControlIds&&(n.sGamePointerControlIndicesToControlIds=null),n.sDidStaticInit=!1)},n.getDeviceControlString=function(t,e){var i=n.convertDeviceIdToString(t),r=o.stringFromValueKey(e);switch(t){case n.x4234934191319707258x:r=n.convertKeyboardControlIdToString(e);break;case n.x273326733444963739x:r=n.convertGamepadControlIdToString(e);break;default:r=o.stringFromValueKey(e)}return o.concatStrings3(i,".",r)},n.getDeviceIdFromDeviceControlString=function(t){var e=o.getFirstItemInPath(t);return o.stringToValueKey(e)},n.getControlIdFromDeviceControlString=function(t){var e=o.chompToNextItemInPath(t);return o.stringToValueKey(e)},n.convertDeviceIdToString=function(t){switch(t){case n.x4234934191319707258x:return"Keyboard";case n.x273326733444963739x:return"Gamepad";case n.x682881226454308741x:return"Mouse";case n.x2073925366050221825x:return"GamePointer";default:return o.stringFromValueKey(t)}},n.areDeviceControlStringsEquivalent=function(t,e){var i=n.getDeviceIdFromDeviceControlString(t),r=n.getControlIdFromDeviceControlString(t),s=n.getDeviceIdFromDeviceControlString(e),a=n.getControlIdFromDeviceControlString(e);return i==s&&r==a},n.getDisplayNameForDeviceControl=function(t,e){switch(t){case n.x4234934191319707258x:return n.getDisplayNameForKeyboardControl(e);case n.x273326733444963739x:return n.getDisplayNameForGamepadControl(e);default:return""}},n.getDisplayNameForDeviceControlString=function(t){var e=n.getDeviceIdFromDeviceControlString(t),i=n.getControlIdFromDeviceControlString(t);return n.getDisplayNameForDeviceControl(e,i)},n.getKeyboardDeviceControlString=function(t){return n.getDeviceControlString(n.x4234934191319707258x,t)},n.convertKeyboardControlIndexToControlId=function(t){return n.sKeyboardControlIndicesToControlIds[t]},n.x1949208661576763641x=function(t){return n.sNativeKeyCodesToKeyboardControlIds[t]},n.convertKeyboardControlIdToString=function(t){switch(t){case n.x992081673697843142x:return"0";case n.x4137667042015229936x:return"1";case n.x3166259824982304410x:return"2";case n.x295672863306859057x:return"3";case n.x4058009700644969771x:return"4";case n.x243634011104355615x:return"5";case n.x3875289523950710868x:return"6";case n.x4586318111129041629x:return"7";case n.x295911371707054494x:return"8";case n.x3307491986329300218x:return"9";case n.x3876061861717003272x:return"A";case n.x4130288926223336442x:return"B";case n.x4045304976290217061x:return"C";case n.x4306663750381161180x:return"D";case n.x351348661065060070x:return"E";case n.x3546670009611877616x:return"F";case n.x3518189868387330771x:return"G";case n.x3472247642683161678x:return"H";case n.x1589967796828629893x:return"I";case n.x1450234258462415695x:return"J";case n.x4372801013943444757x:return"K";case n.x1596719285288138110x:return"L";case n.x1117447082698883466x:return"M";case n.x942344508038349692x:return"N";case n.x2759073950490062642x:return"O";case n.x2262582809124470834x:return"P";case n.x2618126106976587944x:return"Q";case n.x2448456103495877846x:return"R";case n.x2918229955451999466x:return"S";case n.x597141836270278847x:return"T";case n.x4483406633727307299x:return"U";case n.x585370031414159978x:return"V";case n.x795000924306787655x:return"W";case n.x155388971030520977x:return"X";case n.x3934420675221937652x:return"Y";case n.x2509339878574813410x:return"Z";case n.x1017149409865682492x:return"Backslash";case n.x4095808646050091333x:return"CapsLock";case n.x3505687995365768766x:return"Comma";case n.x3189638070160912558x:return"Command";case n.x3912928419477802895x:return"Control";case n.x3365840888754725140x:return"Delete";case n.x1860907962812433353x:return"DownArrow";case n.x169729158537416947x:return"End";case n.x3095136884172779577x:return"Equal";case n.x4535460003535727211x:return"Escape";case n.x70061170236791832x:return"F1";case n.x4031410753412007025x:return"F10";case n.x1244819273291890971x:return"F11";case n.x2866798600900202759x:return"F12";case n.x40515957548868356x:return"F13";case n.x1748749560011125531x:return"F14";case n.x3332211375253941619x:return"F15";case n.x308948998468821954x:return"F16";case n.x414370291611311705x:return"F17";case n.x2427692976631428300x:return"F18";case n.x2831355526359801080x:return"F19";case n.x3224532446429496123x:return"F2";case n.x3723932039062875353x:return"F20";case n.x3384550708656121444x:return"F3";case n.x3123734261814456156x:return"F4";case n.x2470701558953138400x:return"F5";case n.x1958222195274716614x:return"F6";case n.x2112174171826192062x:return"F7";case n.x2230948598181141414x:return"F8";case n.x1237545971538916453x:return"F9";case n.x3302157648094692363x:return"ForwardDelete";case n.x3982998028145153961x:return"Function";case n.x3353877542323077168x:return"Grave";case n.x3421938574504043937x:return"Help";case n.x1617773085087027036x:return"Home";case n.x1660491234011765265x:return"Keypad0";case n.x850877077738234989x:return"Keypad1";case n.x4162559269428649578x:return"Keypad2";case n.x3663111324206466281x:return"Keypad3";case n.x1032723284943578139x:return"Keypad4";case n.x2221116345568617948x:return"Keypad5";case n.x594216321137719587x:return"Keypad6";case n.x695295342512794861x:return"Keypad7";case n.x1456572335152558566x:return"Keypad8";case n.x2553053187146613067x:return"Keypad9";case n.x1036968105948898022x:return"KeypadClear";case n.x3779856119429324344x:return"KeypadDecimal";case n.x1021405442892737109x:return"KeypadDivide";case n.x2982772486876334107x:return"KeypadEnter";case n.x3834419726427572319x:return"KeypadEquals";case n.x2883763133364064728x:return"KeypadMinus";case n.x2247479109331279687x:return"KeypadMultiply";case n.x1337633184734450409x:return"KeypadPlus";case n.x1597228462527623109x:return"LeftArrow";case n.x4089995708993910907x:return"LeftBracket";case n.x26965816789075739x:return"Minus";case n.x1587130066642907510x:return"Mute";case n.x3008834620827307504x:return"Option";case n.x1891594255122051184x:return"PageDown";case n.x4107415019658010283x:return"PageUp";case n.x734324484053395648x:return"Period";case n.x1043599643341599240x:return"Quote";case n.x617777370107070199x:return"Return";case n.x3108845472590638251x:return"RightArrow";case n.x2120523507858700363x:return"RightBracket";case n.x3003374785708649933x:return"RightControl";case n.x419587337870523297x:return"RightOption";case n.x2304199208383988064x:return"RightShift";case n.x3144543733662467667x:return"Semicolon";case n.x4545491362221477607x:return"Shift";case n.x3905508164296482015x:return"Slash";case n.x996033665766562016x:return"Space";case n.x312990791788936675x:return"Tab";case n.x1807416947540734653x:return"UpArrow";case n.x930737637454298914x:return"VolumeDown";case n.x2548259929131283080x:return"VolumeUp";default:return o.stringFromValueKey(t)}},n.getDisplayNameForKeyboardControl=function(t){switch(t){case n.x992081673697843142x:return"0";case n.x4137667042015229936x:return"1";case n.x3166259824982304410x:return"2";case n.x295672863306859057x:return"3";case n.x4058009700644969771x:return"4";case n.x243634011104355615x:return"5";case n.x3875289523950710868x:return"6";case n.x4586318111129041629x:return"7";case n.x295911371707054494x:return"8";case n.x3307491986329300218x:return"9";case n.x3876061861717003272x:return"A";case n.x4130288926223336442x:return"B";case n.x4045304976290217061x:return"C";case n.x4306663750381161180x:return"D";case n.x351348661065060070x:return"E";case n.x3546670009611877616x:return"F";case n.x3518189868387330771x:return"G";case n.x3472247642683161678x:return"H";case n.x1589967796828629893x:return"I";case n.x1450234258462415695x:return"J";case n.x4372801013943444757x:return"K";case n.x1596719285288138110x:return"L";case n.x1117447082698883466x:return"M";case n.x942344508038349692x:return"N";case n.x2759073950490062642x:return"O";case n.x2262582809124470834x:return"P";case n.x2618126106976587944x:return"Q";case n.x2448456103495877846x:return"R";case n.x2918229955451999466x:return"S";case n.x597141836270278847x:return"T";case n.x4483406633727307299x:return"U";case n.x585370031414159978x:return"V";case n.x795000924306787655x:return"W";case n.x155388971030520977x:return"X";case n.x3934420675221937652x:return"Y";case n.x2509339878574813410x:return"Z";case n.x1017149409865682492x:return"BACKSLASH";case n.x4095808646050091333x:return"CAPS LOCK";case n.x3505687995365768766x:return"COMMA";case n.x3189638070160912558x:return"COMMAND";case n.x3912928419477802895x:return"CONTROL";case n.x3365840888754725140x:return"DELETE";case n.x1860907962812433353x:return"DOWN ARROW";case n.x169729158537416947x:return"END";case n.x3095136884172779577x:return"EQUAL";case n.x4535460003535727211x:return"ESCAPE";case n.x70061170236791832x:return"F1";case n.x4031410753412007025x:return"F10";case n.x1244819273291890971x:return"F11";case n.x2866798600900202759x:return"F12";case n.x40515957548868356x:return"F13";case n.x1748749560011125531x:return"F14";case n.x3332211375253941619x:return"F15";case n.x308948998468821954x:return"F16";case n.x414370291611311705x:return"F17";case n.x2427692976631428300x:return"F18";case n.x2831355526359801080x:return"F19";case n.x3224532446429496123x:return"F2";case n.x3723932039062875353x:return"F20";case n.x3384550708656121444x:return"F3";case n.x3123734261814456156x:return"F4";case n.x2470701558953138400x:return"F5";case n.x1958222195274716614x:return"F6";case n.x2112174171826192062x:return"F7";case n.x2230948598181141414x:return"F8";case n.x1237545971538916453x:return"F9";case n.x3302157648094692363x:return"FORWARD DELETE";case n.x3982998028145153961x:return"FUNCTION";case n.x3353877542323077168x:return"BACKQUOTE";case n.x3421938574504043937x:return"HELP";case n.x1617773085087027036x:return"HOME";case n.x1660491234011765265x:return"KEYPAD 0";case n.x850877077738234989x:return"KEYPAD 1";case n.x4162559269428649578x:return"KEYPAD 2";case n.x3663111324206466281x:return"KEYPAD 3";case n.x1032723284943578139x:return"KEYPAD 4";case n.x2221116345568617948x:return"KEYPAD 5";case n.x594216321137719587x:return"KEYPAD 6";case n.x695295342512794861x:return"KEYPAD 7";case n.x1456572335152558566x:return"KEYPAD 8";case n.x2553053187146613067x:return"KEYPAD 9";case n.x1036968105948898022x:return"KEYPAD CLEAR";case n.x3779856119429324344x:return"KEYPAD DECIMAL";case n.x1021405442892737109x:return"KEYPAD DIVIDE";case n.x2982772486876334107x:return"KEYPAD ENTER";case n.x3834419726427572319x:return"KEYPAD EQUALS";case n.x2883763133364064728x:return"KEYPAD MINUS";case n.x2247479109331279687x:return"KEYPAD MULTIPLY";case n.x1337633184734450409x:return"KEYPAD PLUS";case n.x1597228462527623109x:return"LEFT ARROW";case n.x4089995708993910907x:return"LEFT BRACKET";case n.x26965816789075739x:return"MINUS";case n.x1587130066642907510x:return"MUTE";case n.x3008834620827307504x:return"OPTION";case n.x1891594255122051184x:return"PAGE DOWN";case n.x4107415019658010283x:return"PAGE UP";case n.x734324484053395648x:return"PERIOD";case n.x1043599643341599240x:return"QUOTE";case n.x617777370107070199x:return"RETURN";case n.x3108845472590638251x:return"RIGHT ARROW";case n.x2120523507858700363x:return"RIGHT BRACKET";case n.x3003374785708649933x:return"RIGHT CONTROL";case n.x419587337870523297x:return"RIGHT OPTION";case n.x2304199208383988064x:return"RIGHT SHIFT";case n.x3144543733662467667x:return"SEMICOLON";case n.x4545491362221477607x:return"SHIFT";case n.x3905508164296482015x:return"SLASH";case n.x996033665766562016x:return"SPACE";case n.x312990791788936675x:return"TAB";case n.x1807416947540734653x:return"UP ARROW";case n.x930737637454298914x:return"VOLUME DOWN";case n.x2548259929131283080x:return"VOLUME UP";default:return""}},n.isAlphanumericKeyboardControlId=function(t){switch(t){case n.x992081673697843142x:case n.x4137667042015229936x:case n.x3166259824982304410x:case n.x295672863306859057x:case n.x4058009700644969771x:case n.x243634011104355615x:case n.x3875289523950710868x:case n.x4586318111129041629x:case n.x295911371707054494x:case n.x3307491986329300218x:case n.x3876061861717003272x:case n.x4130288926223336442x:case n.x4045304976290217061x:case n.x4306663750381161180x:case n.x351348661065060070x:case n.x3546670009611877616x:case n.x3518189868387330771x:case n.x3472247642683161678x:case n.x1589967796828629893x:case n.x1450234258462415695x:case n.x4372801013943444757x:case n.x1596719285288138110x:case n.x1117447082698883466x:case n.x942344508038349692x:case n.x2759073950490062642x:case n.x2262582809124470834x:case n.x2618126106976587944x:case n.x2448456103495877846x:case n.x2918229955451999466x:case n.x597141836270278847x:case n.x4483406633727307299x:case n.x585370031414159978x:case n.x795000924306787655x:case n.x155388971030520977x:case n.x3934420675221937652x:case n.x2509339878574813410x:return!0;default:return!1}},n.convertMouseControlIdToControlIndex=function(t){switch(t){case n.x2537312111073578457x:return n.x2630077880114777475x;case n.x931823227208707668x:return n.x2433134023997591944x;default:return-1}},n.isMouseHoverEnabled=function(){return n.sIsMouseHoverEnabled},n.setIsMouseHoverEnabled=function(t){n.sIsMouseHoverEnabled=t},n.isTouchInputEnabled=function(){return n.sIsTouchInputEnabled},n.setIsTouchInputEnabled=function(t){n.sIsTouchInputEnabled=t},n.convertGamepadControlIdToString=function(t){switch(t){case n.x429680799316670294x:return"DPadLeft";case n.x1617120287850231413x:return"DPadRight";case n.x3612342849729475857x:return"DPadUp";case n.x674794962460818490x:return"DPadDown";case n.x1964685071244168591x:return"NorthButton";case n.x1172661380578722777x:return"EastButton";case n.x1751605661018021058x:return"SouthButton";case n.x815445134815189490x:return"WestButton";case n.x616372607885885994x:return"LeftShoulder";case n.x523422764887646034x:return"RightShoulder";case n.x1484181786099900418x:return"StartButton";case n.x4394725857222336585x:return"SelectButton";default:return o.stringFromValueKey(t)}},n.getDisplayNameForGamepadControl=function(t){switch(t){case n.x429680799316670294x:return"DPAD LEFT";case n.x1617120287850231413x:return"DPAD RIGHT";case n.x3612342849729475857x:return"DPAD UP";case n.x674794962460818490x:return"DPAD DOWN";case n.x1964685071244168591x:return"NORTH BUTTON";case n.x1172661380578722777x:return"EAST BUTTON";case n.x1751605661018021058x:return"SOUTH BUTTON";case n.x815445134815189490x:return"WEST BUTTON";case n.x616372607885885994x:return"LEFT SHOULDER";case n.x523422764887646034x:return"RIGHT SHOULDER";case n.x1484181786099900418x:return"START BUTTON";case n.x4394725857222336585x:return"SELECT BUTTON";default:return""}},n.getGamePointerDeviceControlString=function(t){return n.getDeviceControlString(n.x2073925366050221825x,t)},n.convertGamePointerControlIndexToControlId=function(t){return n.sGamePointerControlIndicesToControlIds[t]},n.x898889263061140814x=function(t){if(t>n.x680754584005535221x)return t;switch(t){case n.x1275955595150600672x:return n.x3876061861717003272x;case n.x3974568811221758904x:return n.x2918229955451999466x;case n.x2580201500972708076x:return n.x4306663750381161180x;case n.x604822732240731758x:return n.x3546670009611877616x;case n.x1380712712450345018x:return n.x3472247642683161678x;case n.x1614344561340598366x:return n.x3518189868387330771x;case n.x93727987381044648x:return n.x2509339878574813410x;case n.x1663349577987118331x:return n.x155388971030520977x;case n.x2909134764892461964x:return n.x4045304976290217061x;case n.x2838482270916319892x:return n.x585370031414159978x;case n.x4423212395054350526x:return n.x4130288926223336442x;case n.x855822248164058941x:return n.x2618126106976587944x;case n.x2560944882951960571x:return n.x795000924306787655x;case n.x3643325276850594190x:return n.x351348661065060070x;case n.x1026295773840093141x:return n.x2448456103495877846x;case n.x1955270721139716356x:return n.x3934420675221937652x;case n.x2222098535095298015x:return n.x597141836270278847x;case n.x497197433434825972x:return n.x4137667042015229936x;case n.x3853301491648601287x:return n.x3166259824982304410x;case n.x620339034450255938x:return n.x295672863306859057x;case n.x2186060153795490288x:return n.x4058009700644969771x;case n.x3256536804296166135x:return n.x3875289523950710868x;case n.x1072603738214932613x:return n.x243634011104355615x;case n.x2296334094709959585x:return n.x3095136884172779577x;case n.x558575008416719078x:return n.x3307491986329300218x;case n.x1076777019097565499x:return n.x4586318111129041629x;case n.x1577479241103692509x:return n.x26965816789075739x;case n.x4081606096650846023x:return n.x295911371707054494x;case n.x3557995619239884202x:return n.x992081673697843142x;case n.x1162851463953338839x:return n.x2120523507858700363x;case n.x3682509255933984635x:return n.x2759073950490062642x;case n.x99527848029779691x:return n.x4483406633727307299x;case n.x1102606760178091192x:return n.x4089995708993910907x;case n.x2202022435327245978x:return n.x1589967796828629893x;case n.x3159155020646988198x:return n.x2262582809124470834x;case n.x4392227206552650801x:return n.x1596719285288138110x;case n.x1944767139822468314x:return n.x1450234258462415695x;case n.x3407469899192544507x:return n.x1043599643341599240x;case n.x866691980140013010x:return n.x4372801013943444757x;case n.x2675139127755914225x:return n.x3144543733662467667x;case n.x2471301563211113627x:return n.x1017149409865682492x;case n.x3267992229955528675x:return n.x3505687995365768766x;case n.x3124068114057640156x:return n.x3905508164296482015x;case n.x2656929097918583028x:return n.x942344508038349692x;case n.x4028713195674225933x:return n.x1117447082698883466x;case n.x2733137936897882037x:return n.x734324484053395648x;case n.x1152360091157472637x:return n.x3353877542323077168x;case n.x2647121171434699080x:return n.x3779856119429324344x;case n.x3014924297670703373x:return n.x2247479109331279687x;case n.x2294453260087423854x:return n.x1337633184734450409x;case n.x1114574182266938588x:return n.x1036968105948898022x;case n.x1308948176307792945x:return n.x1021405442892737109x;case n.x2678489918284892519x:return n.x2982772486876334107x;case n.x3513315668102539594x:return n.x2883763133364064728x;case n.x2860118297252472640x:return n.x3834419726427572319x;case n.x652964992529192909x:return n.x1660491234011765265x;case n.x3691145202942865037x:return n.x850877077738234989x;case n.x1103358715711513227x:return n.x4162559269428649578x;case n.x1627889371685381043x:return n.x3663111324206466281x;case n.x2323529386893720581x:return n.x1032723284943578139x;case n.x3946818046859872794x:return n.x2221116345568617948x;case n.x1427708791540360584x:return n.x594216321137719587x;case n.x59211161902263985x:return n.x695295342512794861x;case n.x3385923753814173779x:return n.x1456572335152558566x;case n.x1036199058111089229x:return n.x2553053187146613067x;case n.x2523489162932180286x:return n.x617777370107070199x;case n.x2656303642762372837x:return n.x312990791788936675x;case n.x1527457862867919281x:return n.x996033665766562016x;case n.x1699250540915723125x:return n.x3365840888754725140x;case n.x2165377738654977915x:return n.x4535460003535727211x;case n.x2165075641314632867x:return n.x3189638070160912558x;case n.x3082557880886831087x:return n.x4545491362221477607x;case n.x3336631380605180706x:return n.x4095808646050091333x;case n.x1655620505239016808x:return n.x3008834620827307504x;case n.x1497365851873260270x:return n.x3912928419477802895x;case n.x760222361818880896x:return n.x2304199208383988064x;case n.x2092509226227316440x:return n.x419587337870523297x;case n.x4153731891461227410x:return n.x3003374785708649933x;case n.x4399276279277544589x:return n.x3982998028145153961x;case n.x1452633644717260934x:return n.x414370291611311705x;case n.x1010269108186069749x:return n.x2548259929131283080x;case n.x3091236191937760566x:return n.x930737637454298914x;case n.x3022466012104966810x:return n.x1587130066642907510x;case n.x4396362037229401457x:return n.x2427692976631428300x;case n.x4225375629762870396x:return n.x2831355526359801080x;case n.x84434229084929401x:return n.x3723932039062875353x;case n.x3304454700659904664x:return n.x2470701558953138400x;case n.x3273185492793143678x:return n.x1958222195274716614x;case n.x2999434148618891884x:return n.x2112174171826192062x;case n.x790690471832978717x:return n.x3384550708656121444x;case n.x3865652918637458589x:return n.x2230948598181141414x;case n.x3046999857907918907x:return n.x1237545971538916453x;case n.x2133945988324519885x:return n.x1244819273291890971x;case n.x255922909514179455x:return n.x40515957548868356x;case n.x3773394819628599907x:return n.x308948998468821954x;case n.x1547586025015058233x:return n.x1748749560011125531x;case n.x2154182930111004774x:return n.x4031410753412007025x;case n.x3408801553077863758x:return n.x2866798600900202759x;case n.x469782089436979582x:return n.x3332211375253941619x;case n.x964840761424703325x:return n.x3421938574504043937x;case n.x3915376238987631115x:return n.x1617773085087027036x;case n.x1706401417537035241x:return n.x4107415019658010283x;case n.x1487102559846162656x:return n.x3302157648094692363x;case n.x556054914847457282x:return n.x3123734261814456156x;case n.x3497005719995031672x:return n.x169729158537416947x;case n.x4475758356338259459x:return n.x3224532446429496123x;case n.x329202494074011392x:return n.x1891594255122051184x;case n.x3825586773452167574x:return n.x70061170236791832x;case n.x2765446612040535764x:return n.x1597228462527623109x;case n.x2668403171176597213x:return n.x3108845472590638251x;case n.x378831616404916046x:return n.x1860907962812433353x;case n.x172172487940440527x:return n.x1807416947540734653x;default:return 0}},n._convertKeyboardControlIndexToControlId=function(t){switch(t){case n.x4127460153508087103x:return n.x992081673697843142x;case n.x1821717947095372529x:return n.x4137667042015229936x;case n.x4577246421655034734x:return n.x3166259824982304410x;case n.x1880181094191517823x:return n.x295672863306859057x;case n.x2595836707187383218x:return n.x4058009700644969771x;case n.x3656559320970221636x:return n.x243634011104355615x;case n.x3264349162772231065x:return n.x3875289523950710868x;case n.x4151865693104687958x:return n.x4586318111129041629x;case n.x2588507943574599263x:return n.x295911371707054494x;case n.x1793403951542210176x:return n.x3307491986329300218x;case n.x3286432917203297809x:return n.x3876061861717003272x;case n.x364620785025601475x:return n.x4130288926223336442x;case n.x2978961685195269148x:return n.x4045304976290217061x;case n.x743556429529087653x:return n.x4306663750381161180x;case n.x2415345482850662192x:return n.x351348661065060070x;case n.x2993014414676126698x:return n.x3546670009611877616x;case n.x4119257633757055895x:return n.x3518189868387330771x;case n.x3887050528357946336x:return n.x3472247642683161678x;case n.x4131645469445564035x:return n.x1589967796828629893x;case n.x3054021104776599867x:return n.x1450234258462415695x;case n.x1339665497645792838x:return n.x4372801013943444757x;case n.x4198536655308305031x:return n.x1596719285288138110x;case n.x3905546876471300926x:return n.x1117447082698883466x;case n.x2022138055242074188x:return n.x942344508038349692x;case n.x4288947906799557054x:return n.x2759073950490062642x;case n.x1902269657281238872x:return n.x2262582809124470834x;case n.x2130813440039252198x:return n.x2618126106976587944x;case n.x1304330658818652802x:return n.x2448456103495877846x;case n.x106274344408310641x:return n.x2918229955451999466x;case n.x3242547178940036763x:return n.x597141836270278847x;case n.x2502433648741878182x:return n.x4483406633727307299x;case n.x947338995046103455x:return n.x585370031414159978x;case n.x4559058130235515723x:return n.x795000924306787655x;case n.x3426079037366180595x:return n.x155388971030520977x;case n.x2109579972068411524x:return n.x3934420675221937652x;case n.x1653483623562594797x:return n.x2509339878574813410x;case n.x1457112121345587494x:return n.x1017149409865682492x;case n.x2215226644249283227x:return n.x4095808646050091333x;case n.x1889319480311512641x:return n.x3505687995365768766x;case n.x1377131345763205805x:return n.x3189638070160912558x;case n.x1744160593184741918x:return n.x3912928419477802895x;case n.x447096323047984757x:return n.x3365840888754725140x;case n.x4198182112432216247x:return n.x1860907962812433353x;case n.x2611754186011346359x:return n.x169729158537416947x;case n.x3971737688167899852x:return n.x3095136884172779577x;case n.x3103322064680751352x:return n.x4535460003535727211x;case n.x1648268154261367071x:return n.x70061170236791832x;case n.x2586163157310837830x:return n.x4031410753412007025x;case n.x1764977665617097198x:return n.x1244819273291890971x;case n.x1151343274827893605x:return n.x2866798600900202759x;case n.x2914616430806810225x:return n.x40515957548868356x;case n.x2604594841277743613x:return n.x1748749560011125531x;case n.x2913971037107258230x:return n.x3332211375253941619x;case n.x2081702105851886151x:return n.x308948998468821954x;case n.x1089254014973196987x:return n.x414370291611311705x;case n.x2867445392049650182x:return n.x2427692976631428300x;case n.x2935714820226158997x:return n.x2831355526359801080x;case n.x4553962983447301131x:return n.x3224532446429496123x;case n.x3643153292677305096x:return n.x3723932039062875353x;case n.x4276955096524246356x:return n.x3384550708656121444x;case n.x2592791142874315643x:return n.x3123734261814456156x;case n.x1604765321850911180x:return n.x2470701558953138400x;case n.x2810108276313355841x:return n.x1958222195274716614x;case n.x2985257879857828752x:return n.x2112174171826192062x;case n.x2766108967176941054x:return n.x2230948598181141414x;case n.x1292569655429765597x:return n.x1237545971538916453x;case n.x675310820682062867x:return n.x3302157648094692363x;case n.x3225575981631644507x:return n.x3982998028145153961x;case n.x3352542909718407683x:return n.x3353877542323077168x;case n.x2980135535688238484x:return n.x3421938574504043937x;case n.x3610369115917365966x:return n.x1617773085087027036x;case n.x4180935026693176601x:return n.x1660491234011765265x;case n.x2285353907955461604x:return n.x850877077738234989x;case n.x1601269009635262264x:return n.x4162559269428649578x;case n.x3904689674045723422x:return n.x3663111324206466281x;case n.x3966982714655361589x:return n.x1032723284943578139x;case n.x1733794431271858619x:return n.x2221116345568617948x;case n.x1769066507447815220x:return n.x594216321137719587x;case n.x3599725281455774231x:return n.x695295342512794861x;case n.x3138492283522836474x:return n.x1456572335152558566x;case n.x4143973891986303435x:return n.x2553053187146613067x;case n.x2018692307698652567x:return n.x1036968105948898022x;case n.x360698813386501088x:return n.x3779856119429324344x;case n.x1042608633917172985x:return n.x1021405442892737109x;case n.x1670301916849657341x:return n.x2982772486876334107x;case n.x4506539081994473927x:return n.x3834419726427572319x;case n.x3892638211959165804x:return n.x2883763133364064728x;case n.x3346718190580416488x:return n.x2247479109331279687x;case n.x3696904440396500612x:return n.x1337633184734450409x;case n.x3169098662436438520x:return n.x1597228462527623109x;case n.x2104844984062851712x:return n.x4089995708993910907x;case n.x910753767257659409x:return n.x26965816789075739x;case n.x1643548276240758503x:return n.x1587130066642907510x;case n.x1002330485378825250x:return n.x3008834620827307504x;case n.x1213538119638399132x:return n.x1891594255122051184x;case n.x1193301384772891618x:return n.x4107415019658010283x;case n.x1713503935679712506x:return n.x734324484053395648x;case n.x479502171838357838x:return n.x1043599643341599240x;case n.x1137492650091167176x:return n.x617777370107070199x;case n.x1156240770114038040x:return n.x3108845472590638251x;case n.x757824033487793702x:return n.x2120523507858700363x;case n.x965964091875589204x:return n.x3003374785708649933x;case n.x614816995394288118x:return n.x419587337870523297x;case n.x1979755257691959955x:return n.x2304199208383988064x;case n.x4409865515074862603x:return n.x3144543733662467667x;case n.x757889798509124259x:return n.x4545491362221477607x;case n.x2596971277520743750x:return n.x3905508164296482015x;case n.x4146965039957655107x:return n.x996033665766562016x;case n.x3403937200852475675x:return n.x312990791788936675x;case n.x2944891458000597742x:return n.x1807416947540734653x;case n.x2234089237699911746x:return n.x930737637454298914x;case n.x4380679555972365210x:return n.x2548259929131283080x;default:return 0}},n._convertNativeKeyCodeToBPSKeyboardControlId=function(t){switch(t){case 65:return S;case 83:return R;case 68:return I;case 70:return M;case 72:return T;case 71:return V;case 90:return W;case 88:return X;case 67:return P;case 86:return O;case 66:return y;case 81:return b;case 87:return G;case 69:return v;case 82:return E;case 89:return K;case 84:return B;case 49:return u;case 50:return c;case 51:return l;case 52:return h;case 54:return g;case 53:return m;case 187:return q;case 57:return p;case 55:return f;case 189:return Gt;case 56:return d;case 48:return x;case 221:return Ut;case 79:return w;case 85:return _;case 219:return Ot;case 73:return C;case 80:return N;case 76:return D;case 74:return A;case 222:return Yt;case 75:return F;case 186:return jt;case 220:return H;case 188:return J;case 191:return zt;case 78:return L;case 77:return k;case 190:return Ht;case 192:return Pt;case 110:return Nt;case 106:return Rt;case 107:return Bt;case 12:return wt;case 111:return bt;case 109:return Et;case 96:return vt;case 97:return Mt;case 98:return Vt;case 99:return Tt;case 100:return Ct;case 101:return At;case 102:return Ft;case 103:return Dt;case 104:return kt;case 105:return Lt;case 13:return Jt;case 9:return $t;case 32:return qt;case 8:return j;case 27:return $;case 91:return Q;case 16:return Zt;case 20:return Y;case 18:return Xt;case 17:return U;case 128:return xt;case 129:return ut;case 130:return ct;case 116:return gt;case 117:return ft;case 118:return dt;case 114:return ht;case 119:return pt;case 120:return St;case 122:return it;case 124:return rt;case 127:return ot;case 125:return st;case 121:return et;case 123:return nt;case 126:return at;case 36:return It;case 33:return Wt;case 46:return yt;case 115:return mt;case 35:return z;case 113:return lt;case 34:return Kt;case 112:return tt;case 37:return _t;case 39:return Qt;case 40:return Z;case 38:return te}return 0},n._convertGamePointerControlIndexToControlId=function(t){switch(t){case n.x1925291089150364406x:return n.x3423209971934666902x;case n.x4457164326498665415x:return n.x3361498628613778653x;default:return 0}},n.isMouseButtonDown=function(t){return!!(n.sMouseButtonsDown&1<<t)},n.isAnyMouseButtonDown=function(){return 0!=n.sMouseButtonsDown},n.setMouseButtonIsDown=function(t,e){e?n.sMouseButtonsDown|=1<<t:n.sMouseButtonsDown&=~(1<<t)};var r=n.prototype;return r.addInputAction=function(t){if(!this.getInputAction(t)){var e=new a(t);this.mInputActions.setObjectValue(t,e)}},r.mapDeviceControl=function(t,e,i,n){this.addInputAction(i),n&&this.unmapInputAction(i),0!=t&&this.getDeviceControlsMap(t).setIntValue(e,i)},r.mapDeviceControlString=function(t,e,i){if(t&&""!=t){var r=n.getDeviceIdFromDeviceControlString(t),s=n.getControlIdFromDeviceControlString(t);this.mapDeviceControl(r,s,e,i)}},r.isDeviceControlMapped=function(t,e){return 0!=this.getMappedInputActionId(t,e)},r.getMappedInputActionId=function(t,e){var i=this.getDeviceControlsMap(t);return i?i.getIntValue(e):0},r.unmapDeviceControl=function(t,e){this.getDeviceControlsMap(t).setIntValue(e,0)},r.unmapInputAction=function(t){for(var e=null,i=this.mDevices.getNumValues(),n=0;n<i;n++)for(var r=(e=this.mDevices.getDictionaryAtIndex(n)).getNumValues(),s=0;s<r;s++)e.getIntValueAtIndex(s)==t&&e.setIntValueAtIndex(s,0)},r.setIsInputActionEnabled=function(t,e){e||this.handleInputActionCancelled(t);var i=this.getInputAction(t);i&&(i.mIsEnabled=e)},r.handleDeviceControlOn=function(t,e,i,r){return t==n.x174329776616401164x&&n.sConvertTouchInputToMouseInput&&(t=n.x682881226454308741x,e=n.x2537312111073578457x),this.x1805156525887796098x(t,e,i,r),this.mDelegate&&this.mDelegate.x4114393324539293585x(t,e,i,r),!!this.handleInputActionOn(this.getMappedInputActionId(t,e),i,r)||!(!this.mDelegate||!this.mDelegate.x1928504666025035685x(t,e,i,r))},r.handleDeviceControlOff=function(t,e,i,r){return t==n.x174329776616401164x&&n.sConvertTouchInputToMouseInput&&(t=n.x682881226454308741x,e=n.x2537312111073578457x),this.x93721751811016080x(t,e,i,r),this.mDelegate&&this.mDelegate.x4362136013151176600x(t,e,i,r),!!this.handleInputActionOff(this.getMappedInputActionId(t,e),i,r)||!(!this.mDelegate||!this.mDelegate.x2299273512513595755x(t,e,i,r))},r.handleDeviceControlValues=function(t,e,i,r){return t==n.x174329776616401164x&&n.sConvertTouchInputToMouseInput&&(t=n.x682881226454308741x,e=n.x2537312111073578457x),this.x2396081279365443715x(t,e,i,r),this.mDelegate&&this.mDelegate.x2052535492842291814x(t,e,i,r),!!this.handleInputActionValues(this.getMappedInputActionId(t,e),i,r)||!(!this.mDelegate||!this.mDelegate.x2403442620513516698x(t,e,i,r))},r.handleDeviceControlCancelled=function(t,e){return t==n.x174329776616401164x&&n.sConvertTouchInputToMouseInput&&(t=n.x682881226454308741x,e=n.x2537312111073578457x),this.x417646767678010285x(t,e),this.mDelegate&&this.mDelegate.x3291588524936336634x(t,e),!!this.handleInputActionCancelled(this.getMappedInputActionId(t,e))||!(!this.mDelegate||!this.mDelegate.x1886508681305638921x(t,e))},r.restartAllOnInputActions=function(){for(var t=this.mInputActions.getNumValues(),e=0;e<t;e++){var i=this.mInputActions.getObjectValueAtIndex(e);i&&i.mIsEnabled&&i.mIsOn&&!this.x2812808321535839600x(i.mInputActionId,i.mValueA,i.mValueB)&&this.mDelegate&&this.mDelegate.x2709359389131215735x(i.mInputActionId,i.mValueA,i.mValueB)}},r.cancelAllInputActions=function(){for(var t=this.mInputActions.getNumValues(),e=0;e<t;e++){var i=this.mInputActions.getObjectValueAtIndex(e);this.handleInputActionCancelled(i.mInputActionId)}},r.getInputAction=function(t){return this.mInputActions.getObjectValue(t)},r.getDeviceControlsMap=function(t){var e=this.mDevices.getDictionary(t);return e||(e=new s(!0),this.mDevices.setObjectValue(t,e)),e},r.handleInputActionOn=function(t,e,i){if(0==t)return!1;var n=!1,r=this.getInputAction(t);return r&&r.mIsEnabled&&(r.mValueA=e,r.mValueB=i,r.mIsOn||(r.mIsOn=!0,!(n=this.x2812808321535839600x(t,r.mValueA,r.mValueB))&&this.mDelegate&&(n=this.mDelegate.x2709359389131215735x(t,r.mValueA,r.mValueB)))),n},r.handleInputActionOff=function(t,e,i){if(0==t)return!1;var n=!1,r=this.getInputAction(t);return r&&r.mIsEnabled&&(r.mValueA=e,r.mValueB=i,r.mIsOn&&(r.mIsOn=!1,!(n=this.x1139453838275450500x(t,r.mValueA,r.mValueB))&&this.mDelegate&&(n=this.mDelegate.x3129901173839047052x(t,r.mValueA,r.mValueB)))),n},r.handleInputActionValues=function(t,e,i){if(0==t)return!1;var n=!1,r=this.getInputAction(t);return r&&r.mIsEnabled&&(r.mValueA=e,r.mValueB=i,!(n=this.x3479537235222062038x(t,r.mValueA,r.mValueB,r.mIsOn))&&this.mDelegate&&(n=this.mDelegate.x982989056058830075x(t,r.mValueA,r.mValueB,r.mIsOn))),n},r.handleInputActionCancelled=function(t){if(0==t)return!1;var e=!1,i=this.getInputAction(t);return i&&i.mIsEnabled&&i.mIsOn&&(i.mIsOn=!1,!(e=this.x3219935097999029942x(t))&&this.mDelegate&&(e=this.mDelegate.x3700651796509435934x(t))),e},r.x1805156525887796098x=function(t,e,i,n){},r.x93721751811016080x=function(t,e,i,n){},r.x2396081279365443715x=function(t,e,i,n){},r.x417646767678010285x=function(t,e){},r.x2812808321535839600x=function(t,e,i){return!1},r.x1139453838275450500x=function(t,e,i){return!1},r.x3479537235222062038x=function(t,e,i,n){return!1},r.x3219935097999029942x=function(t){return!1},r.x1721113016797186854x=function(){this.mDelegate=null,null!==this.mInputActions&&(this.mInputActions.destroy(),this.mInputActions=null),null!==this.mDevices&&(this.mDevices.destroy(),this.mDevices=null),t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x4234934191319707258x",get:function(){return 174492184}},{key:"x992081673697843142x",get:function(){return x}},{key:"x4137667042015229936x",get:function(){return u}},{key:"x3166259824982304410x",get:function(){return c}},{key:"x295672863306859057x",get:function(){return l}},{key:"x4058009700644969771x",get:function(){return h}},{key:"x243634011104355615x",get:function(){return m}},{key:"x3875289523950710868x",get:function(){return g}},{key:"x4586318111129041629x",get:function(){return f}},{key:"x295911371707054494x",get:function(){return d}},{key:"x3307491986329300218x",get:function(){return p}},{key:"x3876061861717003272x",get:function(){return S}},{key:"x4130288926223336442x",get:function(){return y}},{key:"x4045304976290217061x",get:function(){return P}},{key:"x4306663750381161180x",get:function(){return I}},{key:"x351348661065060070x",get:function(){return v}},{key:"x3546670009611877616x",get:function(){return M}},{key:"x3518189868387330771x",get:function(){return V}},{key:"x3472247642683161678x",get:function(){return T}},{key:"x1589967796828629893x",get:function(){return C}},{key:"x1450234258462415695x",get:function(){return A}},{key:"x4372801013943444757x",get:function(){return F}},{key:"x1596719285288138110x",get:function(){return D}},{key:"x1117447082698883466x",get:function(){return k}},{key:"x942344508038349692x",get:function(){return L}},{key:"x2759073950490062642x",get:function(){return w}},{key:"x2262582809124470834x",get:function(){return N}},{key:"x2618126106976587944x",get:function(){return b}},{key:"x2448456103495877846x",get:function(){return E}},{key:"x2918229955451999466x",get:function(){return R}},{key:"x597141836270278847x",get:function(){return B}},{key:"x4483406633727307299x",get:function(){return _}},{key:"x585370031414159978x",get:function(){return O}},{key:"x795000924306787655x",get:function(){return G}},{key:"x155388971030520977x",get:function(){return X}},{key:"x3934420675221937652x",get:function(){return K}},{key:"x2509339878574813410x",get:function(){return W}},{key:"x1017149409865682492x",get:function(){return H}},{key:"x4095808646050091333x",get:function(){return Y}},{key:"x3505687995365768766x",get:function(){return J}},{key:"x3189638070160912558x",get:function(){return Q}},{key:"x3912928419477802895x",get:function(){return U}},{key:"x3365840888754725140x",get:function(){return j}},{key:"x1860907962812433353x",get:function(){return Z}},{key:"x169729158537416947x",get:function(){return z}},{key:"x3095136884172779577x",get:function(){return q}},{key:"x4535460003535727211x",get:function(){return $}},{key:"x70061170236791832x",get:function(){return tt}},{key:"x4031410753412007025x",get:function(){return et}},{key:"x1244819273291890971x",get:function(){return it}},{key:"x2866798600900202759x",get:function(){return nt}},{key:"x40515957548868356x",get:function(){return rt}},{key:"x1748749560011125531x",get:function(){return st}},{key:"x3332211375253941619x",get:function(){return at}},{key:"x308948998468821954x",get:function(){return ot}},{key:"x414370291611311705x",get:function(){return xt}},{key:"x2427692976631428300x",get:function(){return ut}},{key:"x2831355526359801080x",get:function(){return ct}},{key:"x3224532446429496123x",get:function(){return lt}},{key:"x3723932039062875353x",get:function(){return 2097439379}},{key:"x3384550708656121444x",get:function(){return ht}},{key:"x3123734261814456156x",get:function(){return mt}},{key:"x2470701558953138400x",get:function(){return gt}},{key:"x1958222195274716614x",get:function(){return ft}},{key:"x2112174171826192062x",get:function(){return dt}},{key:"x2230948598181141414x",get:function(){return pt}},{key:"x1237545971538916453x",get:function(){return St}},{key:"x3302157648094692363x",get:function(){return yt}},{key:"x3982998028145153961x",get:function(){return 2052110793}},{key:"x3353877542323077168x",get:function(){return Pt}},{key:"x3421938574504043937x",get:function(){return 487459218}},{key:"x1617773085087027036x",get:function(){return It}},{key:"x1660491234011765265x",get:function(){return vt}},{key:"x850877077738234989x",get:function(){return Mt}},{key:"x4162559269428649578x",get:function(){return Vt}},{key:"x3663111324206466281x",get:function(){return Tt}},{key:"x1032723284943578139x",get:function(){return Ct}},{key:"x2221116345568617948x",get:function(){return At}},{key:"x594216321137719587x",get:function(){return Ft}},{key:"x695295342512794861x",get:function(){return Dt}},{key:"x1456572335152558566x",get:function(){return kt}},{key:"x2553053187146613067x",get:function(){return Lt}},{key:"x1036968105948898022x",get:function(){return wt}},{key:"x3779856119429324344x",get:function(){return Nt}},{key:"x1021405442892737109x",get:function(){return bt}},{key:"x2982772486876334107x",get:function(){return 1017376019}},{key:"x3834419726427572319x",get:function(){return 1371014756}},{key:"x2883763133364064728x",get:function(){return Et}},{key:"x2247479109331279687x",get:function(){return Rt}},{key:"x1337633184734450409x",get:function(){return Bt}},{key:"x1597228462527623109x",get:function(){return _t}},{key:"x4089995708993910907x",get:function(){return Ot}},{key:"x26965816789075739x",get:function(){return Gt}},{key:"x1587130066642907510x",get:function(){return 228136778}},{key:"x3008834620827307504x",get:function(){return Xt}},{key:"x1891594255122051184x",get:function(){return Kt}},{key:"x4107415019658010283x",get:function(){return Wt}},{key:"x734324484053395648x",get:function(){return Ht}},{key:"x1043599643341599240x",get:function(){return Yt}},{key:"x617777370107070199x",get:function(){return Jt}},{key:"x3108845472590638251x",get:function(){return Qt}},{key:"x2120523507858700363x",get:function(){return Ut}},{key:"x3003374785708649933x",get:function(){return 1729767570}},{key:"x419587337870523297x",get:function(){return 1842845056}},{key:"x2304199208383988064x",get:function(){return 1420120375}},{key:"x3144543733662467667x",get:function(){return jt}},{key:"x4545491362221477607x",get:function(){return Zt}},{key:"x3905508164296482015x",get:function(){return zt}},{key:"x996033665766562016x",get:function(){return qt}},{key:"x312990791788936675x",get:function(){return $t}},{key:"x1807416947540734653x",get:function(){return te}},{key:"x930737637454298914x",get:function(){return 1067020077}},{key:"x2548259929131283080x",get:function(){return 2028875942}},{key:"x4127460153508087103x",get:function(){return 0}},{key:"x1821717947095372529x",get:function(){return 1}},{key:"x4577246421655034734x",get:function(){return 2}},{key:"x1880181094191517823x",get:function(){return 3}},{key:"x2595836707187383218x",get:function(){return 4}},{key:"x3656559320970221636x",get:function(){return 5}},{key:"x3264349162772231065x",get:function(){return 6}},{key:"x4151865693104687958x",get:function(){return 7}},{key:"x2588507943574599263x",get:function(){return 8}},{key:"x1793403951542210176x",get:function(){return 9}},{key:"x3286432917203297809x",get:function(){return 10}},{key:"x364620785025601475x",get:function(){return 11}},{key:"x2978961685195269148x",get:function(){return 12}},{key:"x743556429529087653x",get:function(){return 13}},{key:"x2415345482850662192x",get:function(){return 14}},{key:"x2993014414676126698x",get:function(){return 15}},{key:"x4119257633757055895x",get:function(){return 16}},{key:"x3887050528357946336x",get:function(){return 17}},{key:"x4131645469445564035x",get:function(){return 18}},{key:"x3054021104776599867x",get:function(){return 19}},{key:"x1339665497645792838x",get:function(){return 20}},{key:"x4198536655308305031x",get:function(){return 21}},{key:"x3905546876471300926x",get:function(){return 22}},{key:"x2022138055242074188x",get:function(){return 23}},{key:"x4288947906799557054x",get:function(){return 24}},{key:"x1902269657281238872x",get:function(){return 25}},{key:"x2130813440039252198x",get:function(){return 26}},{key:"x1304330658818652802x",get:function(){return 27}},{key:"x106274344408310641x",get:function(){return 28}},{key:"x3242547178940036763x",get:function(){return 29}},{key:"x2502433648741878182x",get:function(){return 30}},{key:"x947338995046103455x",get:function(){return 31}},{key:"x4559058130235515723x",get:function(){return 32}},{key:"x3426079037366180595x",get:function(){return 33}},{key:"x2109579972068411524x",get:function(){return 34}},{key:"x1653483623562594797x",get:function(){return 35}},{key:"x1457112121345587494x",get:function(){return 36}},{key:"x2215226644249283227x",get:function(){return 37}},{key:"x1889319480311512641x",get:function(){return 38}},{key:"x1377131345763205805x",get:function(){return 39}},{key:"x1744160593184741918x",get:function(){return 40}},{key:"x447096323047984757x",get:function(){return 41}},{key:"x4198182112432216247x",get:function(){return 42}},{key:"x2611754186011346359x",get:function(){return 43}},{key:"x3971737688167899852x",get:function(){return 44}},{key:"x3103322064680751352x",get:function(){return 45}},{key:"x1648268154261367071x",get:function(){return 46}},{key:"x2586163157310837830x",get:function(){return 47}},{key:"x1764977665617097198x",get:function(){return 48}},{key:"x1151343274827893605x",get:function(){return 49}},{key:"x2914616430806810225x",get:function(){return 50}},{key:"x2604594841277743613x",get:function(){return 51}},{key:"x2913971037107258230x",get:function(){return 52}},{key:"x2081702105851886151x",get:function(){return 53}},{key:"x1089254014973196987x",get:function(){return 54}},{key:"x2867445392049650182x",get:function(){return 55}},{key:"x2935714820226158997x",get:function(){return 56}},{key:"x4553962983447301131x",get:function(){return 57}},{key:"x3643153292677305096x",get:function(){return 58}},{key:"x4276955096524246356x",get:function(){return 59}},{key:"x2592791142874315643x",get:function(){return 60}},{key:"x1604765321850911180x",get:function(){return 61}},{key:"x2810108276313355841x",get:function(){return 62}},{key:"x2985257879857828752x",get:function(){return 63}},{key:"x2766108967176941054x",get:function(){return 64}},{key:"x1292569655429765597x",get:function(){return 65}},{key:"x675310820682062867x",get:function(){return 66}},{key:"x3225575981631644507x",get:function(){return 67}},{key:"x3352542909718407683x",get:function(){return 68}},{key:"x2980135535688238484x",get:function(){return 69}},{key:"x3610369115917365966x",get:function(){return 70}},{key:"x4180935026693176601x",get:function(){return 71}},{key:"x2285353907955461604x",get:function(){return 72}},{key:"x1601269009635262264x",get:function(){return 73}},{key:"x3904689674045723422x",get:function(){return 74}},{key:"x3966982714655361589x",get:function(){return 75}},{key:"x1733794431271858619x",get:function(){return 76}},{key:"x1769066507447815220x",get:function(){return 77}},{key:"x3599725281455774231x",get:function(){return 78}},{key:"x3138492283522836474x",get:function(){return 79}},{key:"x4143973891986303435x",get:function(){return 80}},{key:"x2018692307698652567x",get:function(){return 81}},{key:"x360698813386501088x",get:function(){return 82}},{key:"x1042608633917172985x",get:function(){return 83}},{key:"x1670301916849657341x",get:function(){return 84}},{key:"x4506539081994473927x",get:function(){return 85}},{key:"x3892638211959165804x",get:function(){return 86}},{key:"x3346718190580416488x",get:function(){return 87}},{key:"x3696904440396500612x",get:function(){return 88}},{key:"x3169098662436438520x",get:function(){return 89}},{key:"x2104844984062851712x",get:function(){return 90}},{key:"x910753767257659409x",get:function(){return 91}},{key:"x1643548276240758503x",get:function(){return 92}},{key:"x1002330485378825250x",get:function(){return 93}},{key:"x1213538119638399132x",get:function(){return 94}},{key:"x1193301384772891618x",get:function(){return 95}},{key:"x1713503935679712506x",get:function(){return 96}},{key:"x479502171838357838x",get:function(){return 97}},{key:"x1137492650091167176x",get:function(){return 98}},{key:"x1156240770114038040x",get:function(){return 99}},{key:"x757824033487793702x",get:function(){return 100}},{key:"x965964091875589204x",get:function(){return 101}},{key:"x614816995394288118x",get:function(){return 102}},{key:"x1979755257691959955x",get:function(){return 103}},{key:"x4409865515074862603x",get:function(){return 104}},{key:"x757889798509124259x",get:function(){return 105}},{key:"x2596971277520743750x",get:function(){return 106}},{key:"x4146965039957655107x",get:function(){return 107}},{key:"x3403937200852475675x",get:function(){return 108}},{key:"x2944891458000597742x",get:function(){return 109}},{key:"x2234089237699911746x",get:function(){return 110}},{key:"x4380679555972365210x",get:function(){return 111}},{key:"x3472572377318353041x",get:function(){return 112}},{key:"x923416604573041613x",get:function(){return 256}},{key:"x682881226454308741x",get:function(){return 1499064852}},{key:"x2537312111073578457x",get:function(){return 732323210}},{key:"x931823227208707668x",get:function(){return 647965405}},{key:"x2630077880114777475x",get:function(){return 0}},{key:"x2433134023997591944x",get:function(){return 1}},{key:"x174329776616401164x",get:function(){return 885030702}},{key:"x4119695339070737997x",get:function(){return 847793614}},{key:"x273326733444963739x",get:function(){return 544774128}},{key:"x429680799316670294x",get:function(){return 479358567}},{key:"x1617120287850231413x",get:function(){return 1216853340}},{key:"x3612342849729475857x",get:function(){return 1007317915}},{key:"x674794962460818490x",get:function(){return 760842146}},{key:"x1964685071244168591x",get:function(){return 1630589766}},{key:"x1172661380578722777x",get:function(){return 1304829056}},{key:"x1751605661018021058x",get:function(){return 1534726350}},{key:"x815445134815189490x",get:function(){return 306625778}},{key:"x616372607885885994x",get:function(){return 19754616}},{key:"x523422764887646034x",get:function(){return 460243531}},{key:"x1484181786099900418x",get:function(){return 403230339}},{key:"x4394725857222336585x",get:function(){return 2011664255}},{key:"x2073925366050221825x",get:function(){return 1043977754}},{key:"x3423209971934666902x",get:function(){return 1314194821}},{key:"x3361498628613778653x",get:function(){return 1314194822}},{key:"x1925291089150364406x",get:function(){return 0}},{key:"x4457164326498665415x",get:function(){return 1}},{key:"x215537827046144920x",get:function(){return 2}},{key:"kBPSTetInputMgrMessage_inputActionOn",get:function(){return 685483425}},{key:"kBPSTetInputMgrMessageDataKey_inputActionOn_inputActionId",get:function(){return 459992624}},{key:"kBPSTetInputMgrMessage_inputActionOff",get:function(){return 866566413}},{key:"kBPSTetInputMgrMessageDataKey_inputActionOff_inputActionId",get:function(){return 1580974902}},{key:"kBPSTetInputMgrMessage_inputActionCancelled",get:function(){return 1800158159}},{key:"kBPSTetInputMgrMessageDataKey_inputActionCancelled_inputActionId",get:function(){return 541123448}},{key:"kBPSLegacyKeyCode_MIN_KEYCODE",get:function(){return 0}},{key:"x1275955595150600672x",get:function(){return 0}},{key:"x3974568811221758904x",get:function(){return 1}},{key:"x2580201500972708076x",get:function(){return 2}},{key:"x604822732240731758x",get:function(){return 3}},{key:"x1380712712450345018x",get:function(){return 4}},{key:"x1614344561340598366x",get:function(){return 5}},{key:"x93727987381044648x",get:function(){return 6}},{key:"x1663349577987118331x",get:function(){return 7}},{key:"x2909134764892461964x",get:function(){return 8}},{key:"x2838482270916319892x",get:function(){return 9}},{key:"x4423212395054350526x",get:function(){return 11}},{key:"x855822248164058941x",get:function(){return 12}},{key:"x2560944882951960571x",get:function(){return 13}},{key:"x3643325276850594190x",get:function(){return 14}},{key:"x1026295773840093141x",get:function(){return 15}},{key:"x1955270721139716356x",get:function(){return 16}},{key:"x2222098535095298015x",get:function(){return 17}},{key:"x497197433434825972x",get:function(){return 18}},{key:"x3853301491648601287x",get:function(){return 19}},{key:"x620339034450255938x",get:function(){return 20}},{key:"x2186060153795490288x",get:function(){return 21}},{key:"x3256536804296166135x",get:function(){return 22}},{key:"x1072603738214932613x",get:function(){return 23}},{key:"x2296334094709959585x",get:function(){return 24}},{key:"x558575008416719078x",get:function(){return 25}},{key:"x1076777019097565499x",get:function(){return 26}},{key:"x1577479241103692509x",get:function(){return 27}},{key:"x4081606096650846023x",get:function(){return 28}},{key:"x3557995619239884202x",get:function(){return 29}},{key:"x1162851463953338839x",get:function(){return 30}},{key:"x3682509255933984635x",get:function(){return 31}},{key:"x99527848029779691x",get:function(){return 32}},{key:"x1102606760178091192x",get:function(){return 33}},{key:"x2202022435327245978x",get:function(){return 34}},{key:"x3159155020646988198x",get:function(){return 35}},{key:"x4392227206552650801x",get:function(){return 37}},{key:"x1944767139822468314x",get:function(){return 38}},{key:"x3407469899192544507x",get:function(){return 39}},{key:"x866691980140013010x",get:function(){return 40}},{key:"x2675139127755914225x",get:function(){return 41}},{key:"x2471301563211113627x",get:function(){return 42}},{key:"x3267992229955528675x",get:function(){return 43}},{key:"x3124068114057640156x",get:function(){return 44}},{key:"x2656929097918583028x",get:function(){return 45}},{key:"x4028713195674225933x",get:function(){return 46}},{key:"x2733137936897882037x",get:function(){return 47}},{key:"x1152360091157472637x",get:function(){return 50}},{key:"x2647121171434699080x",get:function(){return 65}},{key:"x3014924297670703373x",get:function(){return 67}},{key:"x2294453260087423854x",get:function(){return 69}},{key:"x1114574182266938588x",get:function(){return 71}},{key:"x1308948176307792945x",get:function(){return 75}},{key:"x2678489918284892519x",get:function(){return 76}},{key:"x3513315668102539594x",get:function(){return 78}},{key:"x2860118297252472640x",get:function(){return 81}},{key:"x652964992529192909x",get:function(){return 82}},{key:"x3691145202942865037x",get:function(){return 83}},{key:"x1103358715711513227x",get:function(){return 84}},{key:"x1627889371685381043x",get:function(){return 85}},{key:"x2323529386893720581x",get:function(){return 86}},{key:"x3946818046859872794x",get:function(){return 87}},{key:"x1427708791540360584x",get:function(){return 88}},{key:"x59211161902263985x",get:function(){return 89}},{key:"x3385923753814173779x",get:function(){return 91}},{key:"x1036199058111089229x",get:function(){return 92}},{key:"x2523489162932180286x",get:function(){return 36}},{key:"x2656303642762372837x",get:function(){return 48}},{key:"x1527457862867919281x",get:function(){return 49}},{key:"x1699250540915723125x",get:function(){return 51}},{key:"x2165377738654977915x",get:function(){return 53}},{key:"x2165075641314632867x",get:function(){return 55}},{key:"x3082557880886831087x",get:function(){return 56}},{key:"x3336631380605180706x",get:function(){return 57}},{key:"x1655620505239016808x",get:function(){return 58}},{key:"x1497365851873260270x",get:function(){return 59}},{key:"x760222361818880896x",get:function(){return 60}},{key:"x2092509226227316440x",get:function(){return 61}},{key:"x4153731891461227410x",get:function(){return 62}},{key:"x4399276279277544589x",get:function(){return 63}},{key:"x1452633644717260934x",get:function(){return 64}},{key:"x1010269108186069749x",get:function(){return 72}},{key:"x3091236191937760566x",get:function(){return 73}},{key:"x3022466012104966810x",get:function(){return 74}},{key:"x4396362037229401457x",get:function(){return 79}},{key:"x4225375629762870396x",get:function(){return 80}},{key:"x84434229084929401x",get:function(){return 90}},{key:"x3304454700659904664x",get:function(){return 96}},{key:"x3273185492793143678x",get:function(){return 97}},{key:"x2999434148618891884x",get:function(){return 98}},{key:"x790690471832978717x",get:function(){return 99}},{key:"x3865652918637458589x",get:function(){return 100}},{key:"x3046999857907918907x",get:function(){return 101}},{key:"x2133945988324519885x",get:function(){return 103}},{key:"x255922909514179455x",get:function(){return 105}},{key:"x3773394819628599907x",get:function(){return 106}},{key:"x1547586025015058233x",get:function(){return 107}},{key:"x2154182930111004774x",get:function(){return 109}},{key:"x3408801553077863758x",get:function(){return 111}},{key:"x469782089436979582x",get:function(){return 113}},{key:"x964840761424703325x",get:function(){return 114}},{key:"x3915376238987631115x",get:function(){return 115}},{key:"x1706401417537035241x",get:function(){return 116}},{key:"x1487102559846162656x",get:function(){return 117}},{key:"x556054914847457282x",get:function(){return 118}},{key:"x3497005719995031672x",get:function(){return 119}},{key:"x4475758356338259459x",get:function(){return 120}},{key:"x329202494074011392x",get:function(){return 121}},{key:"x3825586773452167574x",get:function(){return 122}},{key:"x2765446612040535764x",get:function(){return 123}},{key:"x2668403171176597213x",get:function(){return 124}},{key:"x378831616404916046x",get:function(){return 125}},{key:"x172172487940440527x",get:function(){return 126}},{key:"x680754584005535221x",get:function(){return 126}}]),n}(r));ee.sDidStaticInit=!1,ee.sKeyboardControlIndicesToControlIds=null,ee.sNativeKeyCodesToKeyboardControlIds=null,ee.sGamePointerControlIndicesToControlIds=null,ee.sIsMouseHoverEnabled=!0,ee.sMouseWorldX=-1e6,ee.sMouseWorldY=-1e6,ee.sMouseButtonsDown=0,ee.sIsTouchInputEnabled=!1,ee.sConvertTouchInputToMouseInput=!0,n._RF.pop()}}})),System.register("chunks:///_virtual/x3798657797799130679x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x3693760142138385085x.ts","./x4127996380524714105x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x},function(t){r=t.x3693760142138385085x},function(t){s=t.x4127996380524714105x}],execute:function(){i._RF.push({},"12a3dfEal1MPLf99s+fA5bB","x3798657797799130679x",void 0),t("x3798657797799130679x",function(t){function i(){var e;return(e=t.call(this)||this).mRefillValues=new r(!0),e.mBagSizeMultiplier=1,e.mBagValues=new r(!0),e.mRNG=new s,e}e(i,t);var n=i.prototype;return n.setRNGSeed=function(t){this.mRNG.setSeed(t)},n.setBagSizeMultiplier=function(t){this.mBagSizeMultiplier=t},n.addRefillValue=function(t,e){for(var i=0;i<e;i++)this.mRefillValues.pushBackIntValue(t)},n.containsRefillValue=function(t){for(var e=this.mRefillValues.getNumValues(),i=0;i<e;i++)if(this.mRefillValues.getIntValueAtIndex(i)==t)return!0;return!1},n.removeAllRefillValues=function(){this.mRefillValues.removeAllValues()},n.refillBag=function(t){t&&this.mBagValues.removeAllValues();for(var e=this.mBagSizeMultiplier>0?this.mBagSizeMultiplier:1,i=0;i<e;i++)for(var n=this.mRefillValues.getNumValues(),r=0;r<n;r++)this.mBagValues.pushBackIntValue(this.mRefillValues.getIntValueAtIndex(r))},n.refillBagIfEmpty=function(){0==this.mBagValues.getNumValues()&&this.refillBag(!1)},n.pullNextValueFromBag=function(){this.refillBagIfEmpty();var t=this.mBagValues.getNumValues(),e=this.mRNG.nextIntInRange(0,t-1),i=this.mBagValues.getIntValueAtIndex(e);return this.mBagSizeMultiplier>0&&this.mBagValues.removeValueAtIndex(e),i},n.addBagValue=function(t,e){for(var i=0;i<e;i++)this.mBagValues.pushBackIntValue(t)},n.removeValueFromBag=function(t,e){this.mBagValues.removeIntValue(t,e)},n.copyBagValuesIntoDictionary=function(t){for(var e=this.mBagValues.getNumValues(),i=0;i<e;i++)t.pushBackIntValue(this.mBagValues.getIntValueAtIndex(i))},n.x1721113016797186854x=function(){null!==this.mRefillValues&&(this.mRefillValues.destroy(),this.mRefillValues=null),null!==this.mBagValues&&(this.mBagValues.destroy(),this.mBagValues=null),null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x285024029791125910x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3807920460184414210x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x3807920460184414210x},function(t){r=t.x702435451033209193x}],execute:function(){i._RF.push({},"8673eUl8ahDyJrggOWtt5OP","x285024029791125910x",void 0),t("x285024029791125910x",function(t){function i(){var e;return(e=t.call(this,n.x2736631188424289638x)||this).mValue=0,e}e(i,t),i.getAvailableInstance=function(){i.sPool||(i.sPool=new Array);var t=null;return i.sPool.length>0?(t=i.sPool[i.sPool.length-1],i.sPool.pop()):t=new i,t},i.recycleAvailableInstance=function(t){i.sPool||(i.sPool=new Array),t.recycle(),i.sPool.push(t)},i.destroyPool=function(){if(i.sPool){for(var t=i.sPool.length,e=0;e<t;e++){var n=i.sPool[e];null!==n&&(n.destroy(),n=null)}null!==i.sPool&&(i.sPool=null)}};var s=i.prototype;return s.getValue=function(){return this.mValue},s.setValue=function(t){this.mValue=t},s.x2241532792834576709x=function(){return t.prototype.x2241532792834576709x.call(this),this.mValue=0,!0},s.x1721113016797186854x=function(){this.mValue=0,t.prototype.x1721113016797186854x.call(this)},s.setValueWithInt=function(t){this.mValue=t},s.setValueWithFloat=function(t){this.mValue=~~t},s.setValueWithBool=function(t){this.mValue=t?1:0},s.setValueWithString=function(t){this.mValue=r.stringToInt(t)},s.toInt=function(){return this.mValue},s.toFloat=function(){return this.mValue},s.toBool=function(){return 0!=this.mValue},s.toString=function(){return r.stringFromInt(this.mValue,1,!1)},i}(n)).sPool=null,i._RF.pop()}}})),System.register("chunks:///_virtual/x3001588770202680173x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3339987402386958992x.ts","./x3693760142138385085x.ts","./x1930801154962670888x.ts","./x702435451033209193x.ts","./x982037128155278742x.ts","./x935098930897063106x.ts","./x49008801373907804x.ts","./x3461623316906106937x.ts","./x923301222305930093x.ts","./x1300708268651209083x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3339987402386958992x},function(t){a=t.x3693760142138385085x},function(t){o=t.x1930801154962670888x},function(t){x=t.x702435451033209193x},function(t){u=t.x982037128155278742x},function(t){c=t.x935098930897063106x},function(t){l=t.x49008801373907804x},function(t){h=t.x3461623316906106937x},function(t){m=t.x923301222305930093x},function(t){g=t.x1300708268651209083x}],execute:function(){r._RF.push({},"536c3eDkBBNN4pK1w6QwymP","x3001588770202680173x",void 0),t("x3001588770202680173x",function(t){function r(e,i){var s;(s=t.call(this,r.x4314461242255220561x,e)||this).getParams().setIntValue(r.x4064166878386413998x,0),s.getParams().createDictionary(r.x4308604339442844157x,"",999,!0),s.getParams().getDictionary(r.x4308604339442844157x).setBoolValue(r.x709409950423697477x,!1),s.getParams().getDictionary(r.x4308604339442844157x).setStringValue(r.x1641853240980782736x,""),s.getParams().getDictionary(r.x4308604339442844157x).setBoolValue(r.x4365069302208051865x,!0),s.getParams().getDictionary(r.x4308604339442844157x).setBoolValue(r.x58045091859615524x,!0),s.getParams().getDictionary(r.x4308604339442844157x).setBoolValue(r.x1079899931859226989x,!0),s.getParams().setStringValue(r.x1402035148744783761x,"30"),s.getParams().setIntValue(r.x2055553352112319146x,30),s.getParams().setBoolValue(r.x1836064271381750291x,!0),s.getParams().setBoolValue(r.x4459094481802206603x,!0),s.getParams().setBoolValue(r.x3445701287150947926x,!1),s.getParams().setBoolValue(r.x1835549782031945007x,!0),s.getParams().setBoolValue(r.x293894672820773263x,!0),s.getParams().setIntValue(r.x3518357787286620088x,1),s.getParams().setIntValue(r.x522305407927567270x,2),s.getParams().setIntValue(r.x1429367311015339766x,3),s.getParams().setIntValue(r.x1286994360462107702x,4),s.getParams().setIntValue(r.x3507676762954641457x,1),s.getParams().setIntValue(r.x1792911878457244341x,1),s.getParams().setIntValue(r.x751798358032130548x,2),s.getParams().setIntValue(r.x133219957989915741x,3),s.getParams().setIntValue(r.x2647497220278558171x,1),s.getParams().setIntValue(r.x3595316289260378460x,1e3);for(var o=s.getParams().createDictionary(r.x441021653671184498x,"",999,!0),u=0;u<30;u++){var c=new a(!0);o.pushBackObjectValue(c);var l=x.stringFromInt(u+1,0,!1);switch(c.setStringValue(r.x3659620231138527424x,l),c.setStringValue(r.x4592309840632940843x,l),c.setBoolValue(r.x1034545793603938981x,!1),u+1){case 1:c.setIntValue(r.x1698004140802097999x,1e3),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 2:c.setIntValue(r.x1698004140802097999x,793),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 3:c.setIntValue(r.x1698004140802097999x,618),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 4:c.setIntValue(r.x1698004140802097999x,473),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 5:c.setIntValue(r.x1698004140802097999x,355),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 6:c.setIntValue(r.x1698004140802097999x,262),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 7:c.setIntValue(r.x1698004140802097999x,190),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 8:c.setIntValue(r.x1698004140802097999x,135),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 9:c.setIntValue(r.x1698004140802097999x,94),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 10:c.setIntValue(r.x1698004140802097999x,64),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 11:c.setIntValue(r.x1698004140802097999x,43),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 12:c.setIntValue(r.x1698004140802097999x,28),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 13:c.setIntValue(r.x1698004140802097999x,18),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 14:c.setIntValue(r.x1698004140802097999x,11),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 15:c.setIntValue(r.x1698004140802097999x,7),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 16:c.setIntValue(r.x1698004140802097999x,4),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 17:c.setIntValue(r.x1698004140802097999x,3),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 18:c.setIntValue(r.x1698004140802097999x,1),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 19:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,500),c.setIntValue(r.x3940041471578484106x,-1);break;case 20:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,450),c.setIntValue(r.x3940041471578484106x,-1);break;case 21:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,400),c.setIntValue(r.x3940041471578484106x,-1);break;case 22:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,350),c.setIntValue(r.x3940041471578484106x,-1);break;case 23:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,300),c.setIntValue(r.x3940041471578484106x,-1);break;case 24:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,250),c.setIntValue(r.x3940041471578484106x,-1);break;case 25:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,200),c.setIntValue(r.x3940041471578484106x,-1);break;case 26:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,195),c.setIntValue(r.x3940041471578484106x,-1);break;case 27:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,184),c.setIntValue(r.x3940041471578484106x,-1);break;case 28:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,167),c.setIntValue(r.x3940041471578484106x,-1);break;case 29:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,151),c.setIntValue(r.x3940041471578484106x,-1);break;default:c.setIntValue(r.x1698004140802097999x,0),c.setIntValue(r.x3934933175194834564x,-20),c.setIntValue(r.x2368169296117837036x,150),c.setIntValue(r.x3940041471578484106x,-1)}c.setBoolValue(r.x4308014208163155241x,!1);var h=new a(!0);h.setStringValue(r.x1686295536133734032x,"lineClears"),h.setIntValue(r.x2916843926434848910x,10),c.setObjectValue(r.x1838643269620843926x,h),c.setBoolValue(r.x1698201907736675302x,!0),c.setBoolValue(r.x2359015096595247960x,!1)}return s.getParams().copy(i,!1),e&&(e.addMessageListener(n(s)),s.getGame().addMessageListener(n(s))),s.mMessageParams=new a(!1),s.mScoreComponent=null,s.mControlComponent=null,s.mIsOnboardingRequired=s.getParams().getDictionary(r.x4308604339442844157x).getBoolValue(r.x709409950423697477x),s.mOnboardingFinalLevelIndex=s.getLevelIndexForLevelId(s.getParams().getDictionary(r.x4308604339442844157x).getStringValue(r.x1641853240980782736x)),s.mDidCompleteOnboarding=!1,s.mBaseStartingLevelIndex=x.maxInt(0,s.mOnboardingFinalLevelIndex+1),s.mLevelIndex=0,s.mPendingLevelIndex=-1,s.mLevelEndConditionType=0,s.mLevelEndConditionTargetValue=0,s.mLevelRemainingActionGoal=0,s.mLevelElapsedTimeMSEC=-1,s.setNextState(1,!1),s}e(r,t),r.getLevelEndConditionType=function(t){return x.stringToHash32(t)};var s=r.prototype;return s.isOnboardingRequired=function(){return this.mIsOnboardingRequired},s.isOnboardingInputTypeSupported=function(t){switch(t){case u.x3435724326894576505x:return this.getParams().getDictionary(r.x4308604339442844157x).getBoolValue(r.x4365069302208051865x);case u.x481964451504965421x:return this.getParams().getDictionary(r.x4308604339442844157x).getBoolValue(r.x58045091859615524x);case u.x4564893816674366522x:return this.getParams().getDictionary(r.x4308604339442844157x).getBoolValue(r.x1079899931859226989x);default:return!1}},s.getBaseStartingLevelIndex=function(){return this.mBaseStartingLevelIndex},s.getCurrentLevelIndex=function(){return this.mLevelIndex},s.getLevelIdForLevelIndex=function(t){return t<this.getParams().getDictionary(r.x441021653671184498x).getNumValues()?this.getParams().getDictionary(r.x441021653671184498x).getDictionaryAtIndex(t).getStringValue(r.x3659620231138527424x):x.stringFromInt(t+1,1,!1)},s.getLevelIndexForLevelId=function(t){for(var e=this.getParams().getDictionary(r.x441021653671184498x).getNumValues(),i=0;i<e;i++)if(this.getParams().getDictionary(r.x441021653671184498x).getDictionaryAtIndex(i).getStringValue(r.x3659620231138527424x)==t)return i;return-1},s.getLevelDisplayNameForLevelIndex=function(t){return t<this.getParams().getDictionary(r.x441021653671184498x).getNumValues()?this.getParams().getDictionary(r.x441021653671184498x).getDictionaryAtIndex(t).getStringValue(r.x4592309840632940843x):x.stringFromInt(t+1,1,!1)},s.getLevelRemainingActionGoal=function(){return this.mLevelRemainingActionGoal},s.getLevelParams=function(t){var e=this.getParams().getDictionary(r.x441021653671184498x).getNumValues(),i=x.minInt(e-1,t);return this.getParams().getDictionary(r.x441021653671184498x).getDictionaryAtIndex(i)},s.startLevel=function(t){this.mLevelIndex=t,this.mLevelEndConditionType=0,this.mLevelEndConditionTargetValue=0,this.mLevelRemainingActionGoal=0,this.mLevelElapsedTimeMSEC=0;var e=this.getLevelParams(this.mLevelIndex);if(e){var i=this.getPlayer(),n=e.getDictionary(r.x1838643269620843926x);switch(this.mLevelEndConditionType=r.getLevelEndConditionType(n.getStringValue(r.x1686295536133734032x)),this.mLevelEndConditionType){case r.x3250580755527491810x:if(t==this.getParams().getIntValue(r.x4064166878386413998x)&&this.getParams().getBoolValue(r.x3445701287150947926x)){this.mLevelRemainingActionGoal=0;for(var s=0;s<t;s++){var a=this.getParams().getDictionary(r.x441021653671184498x).getDictionaryAtIndex(s);r.getLevelEndConditionType(a.getDictionary(r.x1838643269620843926x).getStringValue(r.x1686295536133734032x))==r.x3250580755527491810x&&(this.mLevelEndConditionTargetValue+=a.getDictionary(r.x1838643269620843926x).getIntValue(r.x2916843926434848910x))}}else this.mLevelEndConditionTargetValue=n.getIntValue(r.x2916843926434848910x);t==this.mBaseStartingLevelIndex&&(this.mLevelEndConditionTargetValue=x.maxInt(this.mLevelEndConditionTargetValue-i.getTotalMatrixMinoPatternMatches(),0)),this.mLevelRemainingActionGoal=this.mLevelEndConditionTargetValue;break;case r.x1610013724552856063x:this.mLevelEndConditionTargetValue=n.getIntValue(r.x1951718087439422623x),this.mLevelRemainingActionGoal=this.mLevelEndConditionTargetValue;break;case r.x479322815034609387x:this.mLevelEndConditionTargetValue=n.getIntValue(r.x3094354852956775813x),this.mLevelRemainingActionGoal=this.mLevelEndConditionTargetValue;break;case r.x4339991637746314778x:this.mLevelEndConditionTargetValue=n.getIntValue(r.x2289441526089911233x),this.mLevelRemainingActionGoal=1;break;case r.x1747228115413430741x:this.mLevelEndConditionTargetValue=n.getIntValue(r.x3039297299330391149x),this.mLevelRemainingActionGoal=1}var o=e.getDictionary(r.x1072788824813114456x);if(o){var u=o.getIntValue(r.x2957201056022117534x),l=o.getIntValue(r.x251755853856551564x),g=o.getIntValue(r.x3648642302903085922x),f=l+g;i.getMatrix().isSizeEqual(u,f,l)||i.constructMatrix(u,l,g);var d=o.getDictionary(r.x4473716284157037082x);i.getMatrix().createAndInsertMinos(d,!0)}e.hasValue(r.x2529003119929148415x)&&i.getParams().setIntValue(h.x3681796350421208933x,e.getIntValue(r.x2529003119929148415x)),e.hasValue(r.x310343316624915804x)&&i.getParams().setIntValue(h.x3011908716088212806x,e.getIntValue(r.x310343316624915804x));var p=i.getPieceSequenceGenerator();if(e.hasValue(r.x387105471296080492x)&&p.setPieceIdRefillValuesWithPieceNamesList(e.getStringValue(r.x387105471296080492x)),e.hasValue(r.x4518883623314049581x)&&p.setRefillMultiplier(e.getIntValue(r.x4518883623314049581x)),e.hasValue(r.x3460632148228182213x)&&p.setSequenceWithPieceNamesList(e.getStringValue(r.x3460632148228182213x)),e.getBoolValue(r.x1034545793603938981x)&&(i.getPieceQueue().clear(),i.getPieceQueue().fillToCapacity()),i.setIsPieceGenerationEnabled(!e.getBoolValue(r.x4308014208163155241x)),this.mScoreComponent&&this.getParams().getBoolValue(r.x1835549782031945007x)){var S=x.maxInt(t+1-this.mBaseStartingLevelIndex,1);this.mScoreComponent.getParams().setIntValue(m.x1477533520620759850x,S)}if(this.mControlComponent){var y=e.getIntValue(r.x1698004140802097999x),P=e.getIntValue(r.x3934933175194834564x);P<0&&(P=~~((y>=0?y:-y)/(P>=0?P:-P))),this.mControlComponent.x3633925409096558838x().x4164087698951727173x(y),this.mControlComponent.x3633925409096558838x().getModel().setMaxNormalFallSteps(e.getIntValue(r.x3940041471578484106x)),this.mControlComponent.x3633925409096558838x().x2754687971609592792x(P),this.mControlComponent.x3633925409096558838x().x2107994403366030938x(e.getIntValue(r.x2368169296117837036x));var I="all";e.hasValue(r.x765531684418414620x)&&(I=e.getStringValue(r.x765531684418414620x));for(var v="all"==I,M=c.x248707270714796255x;M<=c.x2518210606688734314x;M++)if(v)this.mControlComponent.x3633925409096558838x().getController().setIsControlActionEnabled(M,!0);else{var V=!0;switch(M){case c.x1854185702720947932x:V=x.firstIndexInString(I,"moveLeft")>=0;break;case c.x3258880470381356346x:V=x.firstIndexInString(I,"moveRight")>=0;break;case c.x280351877232321731x:case c.x470776976658180505x:V=x.firstIndexInString(I,"rotateCW")>=0;break;case c.x2445769797929427052x:case c.x1770661362513838585x:V=x.firstIndexInString(I,"rotateCCW")>=0;break;case c.x4446142406746104061x:case c.x3336358786901950711x:V=x.firstIndexInString(I,"softDrop")>=0;break;case c.x2851689118743160308x:V=x.firstIndexInString(I,"hardDrop")>=0;break;case c.x3654181238410086381x:V=x.firstIndexInString(I,"hold")>=0;break;default:V=v||x.firstIndexInString(I,c.getControlActionName(M))>=0}this.mControlComponent.x3633925409096558838x().getController().setIsControlActionEnabled(M,V)}}}this.mMessageParams.setIntValue(r.x666163137526406478x,t),this.dispatchMessage(r.x2973273170559740354x,this,this.mMessageParams)},s.completeLevel=function(t){var e=this.getLevelParams(t);if(e){var i=this.getPlayer();e.getBoolValue(r.x2359015096595247960x)&&i.setGameBreakPending()}this.mIsOnboardingRequired&&!this.mDidCompleteOnboarding&&t==this.mOnboardingFinalLevelIndex&&(this.mDidCompleteOnboarding=!0,this.mMessageParams.setIntValue(r.x666163137526406478x,t),this.dispatchMessage(r.x2806558604778957676x,this,this.mMessageParams)),this.mMessageParams.setIntValue(r.x666163137526406478x,t),this.dispatchMessage(r.x3458355982175922557x,this,this.mMessageParams)},s.processScoreEventMessage=function(t){if(!t.getBoolValue(m.x3846704088808192491x)&&this.mLevelEndConditionType==r.x3250580755527491810x){var e=0;if(0==t.getIntValue(m.x4002130832260486610x)){var i=t.getIntValue(m.x4021322772183539622x);switch(t.getIntValue(m.x4268196375255836292x)){case x.x2088302373693961418x:if(0==t.getIntValue(m.x4002130832260486610x))switch(i){case 0:break;case 1:e=this.getParams().getIntValue(r.x3518357787286620088x);break;case 2:e=this.getParams().getIntValue(r.x522305407927567270x);break;case 3:e=this.getParams().getIntValue(r.x1429367311015339766x);break;default:e=this.getParams().getIntValue(r.x1286994360462107702x)}else e=i*this.getParams().getIntValue(r.x3507676762954641457x);break;case x.x3879340559840163537x:switch(i){case 1:e=this.getParams().getIntValue(r.x1792911878457244341x);break;case 2:e=this.getParams().getIntValue(r.x751798358032130548x);break;case 3:e=this.getParams().getIntValue(r.x133219957989915741x)}break;case x.x2242998426507838948x:1===i&&(e=this.getParams().getIntValue(r.x2647497220278558171x))}t.getBoolValue(m.x623771060938972829x)&&(e=x.FXPTToInt(x.FXPTMultiply(x.FXPTFromInt(e),this.getParams().getIntValue(r.x3595316289260378460x)))),this.processCurrentLevelRemainingActionGoal(e,this.getParams().getBoolValue(r.x293894672820773263x))}}},s.processPieceXEndCondition=function(){if(this.mLevelEndConditionType==r.x4339991637746314778x){var t=this.getPlayer().getLivePiece();t&&t.getX()==this.mLevelEndConditionTargetValue&&this.processCurrentLevelRemainingActionGoal(1,!1)}},s.processCurrentLevelRemainingActionGoal=function(t,e){var i=this.mLevelIndex,n=this.mLevelIndex,s=this.getParams().getStringValue(r.x1402035148744783761x),a=0;(a=s&&""!=s?this.getLevelIndexForLevelId(s):this.getParams().getIntValue(r.x2055553352112319146x)-1)<0&&(a=x.x4486032239274713138x);var o=this.getParams().getBoolValue(r.x1836064271381750291x),u=!(!o&&n==a&&this.mLevelRemainingActionGoal<=0);if(u)for(var c=this.getPlayer(),l=t;u;)if(this.mLevelRemainingActionGoal-l<=0){if((n<a||o)&&(this.completeLevel(n),n++),n>a){u=!1,this.mLevelRemainingActionGoal=0,this.mLevelIndex=a,o&&c.tryEndGame(r.x3849068857873206554x,!0,this.getParams().getBoolValue(r.x4459094481802206603x),!1);break}e&&!c.isGameBreakPending()?u=(l-=this.mLevelRemainingActionGoal)>0:(this.mLevelRemainingActionGoal=0,u=!1),c.isGameBreakPending()?this.mPendingLevelIndex=n:this.startLevel(n)}else this.mLevelRemainingActionGoal-=l,u=!1;if(n>i){var h=this.getLevelParams(i);h&&h.getBoolValue(r.x1698201907736675302x)&&(this.mMessageParams.setIntValue(r.x666163137526406478x,this.mLevelIndex),this.dispatchMessage(r.x2732844868282066204x,this,this.mMessageParams))}},s.x1721113016797186854x=function(){null!==this.mMessageParams&&(this.mMessageParams.destroy(),this.mMessageParams=null),t.prototype.x1721113016797186854x.call(this)},s.x4498870316303653116x=function(t,e,i,n){switch(t){case o.x2580340477778594771x:return e;case o.x2982972318080668761x:return 0;case o.x3793884777573381281x:return this.mLevelElapsedTimeMSEC>=0&&(this.mLevelElapsedTimeMSEC+=n,this.mLevelEndConditionType==r.x1747228115413430741x&&this.mLevelElapsedTimeMSEC>=this.mLevelEndConditionTargetValue&&this.processCurrentLevelRemainingActionGoal(1,!1)),n;case o.x4149106650117426330x:default:return 0}},s.x601562840631873202x=function(t,e,i){if(e==this.mControlComponent){if(t===g.x792076145386777064x)switch(this.mLevelEndConditionType){case r.x1610013724552856063x:switch(i.getIntValue(g.x3416993641028547947x)){case c.x1854185702720947932x:case c.x3258880470381356346x:this.processCurrentLevelRemainingActionGoal(1,!1)}break;case r.x479322815034609387x:switch(i.getIntValue(g.x3416993641028547947x)){case c.x280351877232321731x:case c.x2445769797929427052x:case c.x470776976658180505x:case c.x1770661362513838585x:this.processCurrentLevelRemainingActionGoal(1,!1)}break;case r.x4339991637746314778x:this.processPieceXEndCondition()}}else if(e==this.mScoreComponent)t===m.x4563261606863935423x&&this.processScoreEventMessage(i);else if(e==this.getPlayer())t===h.x2571108714608016537x&&(this.mScoreComponent=this.getPlayer().getComponent(m.x2355730316075620282x),this.mScoreComponent&&this.mScoreComponent.addMessageListener(this),this.mControlComponent=this.getPlayer().getComponent(g.x2958512089971287522x),this.mControlComponent&&this.mControlComponent.addMessageListener(this),this.startLevel(this.getParams().getIntValue(r.x4064166878386413998x)));else if(e==this.getGame()){var n=this.getGame();t===l.x2836302803929192583x&&n.getCurrentState()===l.x586834288206199424x&&this.mPendingLevelIndex>=0&&(this.startLevel(this.mPendingLevelIndex),this.mPendingLevelIndex=-1)}},i(r,null,[{key:"x4314461242255220561x",get:function(){return 385983840}},{key:"x4064166878386413998x",get:function(){return 485883807}},{key:"x4308604339442844157x",get:function(){return 286203276}},{key:"x709409950423697477x",get:function(){return 357672730}},{key:"x1641853240980782736x",get:function(){return 1955077050}},{key:"x4365069302208051865x",get:function(){return 1603663720}},{key:"x58045091859615524x",get:function(){return 1250012754}},{key:"x1079899931859226989x",get:function(){return 2071300818}},{key:"x1402035148744783761x",get:function(){return 1241027820}},{key:"x2055553352112319146x",get:function(){return 171961503}},{key:"x1836064271381750291x",get:function(){return 1304739915}},{key:"x4459094481802206603x",get:function(){return 1673420803}},{key:"x3445701287150947926x",get:function(){return 1188309429}},{key:"x1835549782031945007x",get:function(){return 360805488}},{key:"x293894672820773263x",get:function(){return 1472514076}},{key:"x3518357787286620088x",get:function(){return 1667761981}},{key:"x522305407927567270x",get:function(){return 1905391174}},{key:"x1429367311015339766x",get:function(){return 2024814419}},{key:"x1286994360462107702x",get:function(){return 108231374}},{key:"x3507676762954641457x",get:function(){return 53490867}},{key:"x1792911878457244341x",get:function(){return 495642761}},{key:"x751798358032130548x",get:function(){return 733271954}},{key:"x133219957989915741x",get:function(){return 852695199}},{key:"x2647497220278558171x",get:function(){return 135281650}},{key:"x3595316289260378460x",get:function(){return 1818060953}},{key:"x441021653671184498x",get:function(){return 385983840}},{key:"x3659620231138527424x",get:function(){return 728817068}},{key:"x4592309840632940843x",get:function(){return 2004467484}},{key:"x1072788824813114456x",get:function(){return 1188213234}},{key:"x2957201056022117534x",get:function(){return 1587188853}},{key:"x251755853856551564x",get:function(){return 1205693224}},{key:"x3648642302903085922x",get:function(){return 477905680}},{key:"x4473716284157037082x",get:function(){return 1011251269}},{key:"x387105471296080492x",get:function(){return 1430739843}},{key:"x4518883623314049581x",get:function(){return 1135737762}},{key:"x3460632148228182213x",get:function(){return 1337055948}},{key:"x1034545793603938981x",get:function(){return 1603947392}},{key:"x765531684418414620x",get:function(){return 384192327}},{key:"x2529003119929148415x",get:function(){return 2044242970}},{key:"x1698004140802097999x",get:function(){return 282277049}},{key:"x3934933175194834564x",get:function(){return 1534606224}},{key:"x3940041471578484106x",get:function(){return 227519090}},{key:"x2368169296117837036x",get:function(){return 167210893}},{key:"x310343316624915804x",get:function(){return 2139584221}},{key:"x4308014208163155241x",get:function(){return 219898226}},{key:"x1838643269620843926x",get:function(){return 1213093393}},{key:"x1686295536133734032x",get:function(){return 639050091}},{key:"x2916843926434848910x",get:function(){return 1104766767}},{key:"x1951718087439422623x",get:function(){return 1104766767}},{key:"x3094354852956775813x",get:function(){return 1104766767}},{key:"x2289441526089911233x",get:function(){return 1104766767}},{key:"x3039297299330391149x",get:function(){return 1104766767}},{key:"x1698201907736675302x",get:function(){return 1600192595}},{key:"x2359015096595247960x",get:function(){return 618136206}},{key:"x3250580755527491810x",get:function(){return 512613131}},{key:"x1610013724552856063x",get:function(){return 17748539}},{key:"x479322815034609387x",get:function(){return 1510828305}},{key:"x4339991637746314778x",get:function(){return 1735239899}},{key:"x1747228115413430741x",get:function(){return 228502562}},{key:"x2973273170559740354x",get:function(){return 1284037203}},{key:"x3458355982175922557x",get:function(){return 429520410}},{key:"x2732844868282066204x",get:function(){return 1221981006}},{key:"x2806558604778957676x",get:function(){return 2012803077}},{key:"x666163137526406478x",get:function(){return 1386842367}},{key:"x3849068857873206554x",get:function(){return 1365953012}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x4480444526479763272x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x349179295227638153x.ts","./x3693760142138385085x.ts","./x3196398007076860870x.ts","./x2695390456455002218x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x2205868517935256955x},function(t){s=t.x349179295227638153x},function(t){a=t.x3693760142138385085x},function(t){o=t.x3196398007076860870x},function(t){x=t.x2695390456455002218x},function(t){u=t.x702435451033209193x}],execute:function(){n._RF.push({},"1d52dZH85xNoqXC96753/vI","x4480444526479763272x",void 0),t("x4480444526479763272x",function(t){function n(e,i,n,r){var s;for((s=t.call(this)||this).mScratchCellDataGrid=new Array,s.mPlayerIndex=r,s.mWidth=e,s.mHeight=i,s.mVisibleHeight=n,s.mMinosGrid=new o(e*i),s.mScratchCellDataGrid.length=0;s.mScratchCellDataGrid.length<e*i;)s.mScratchCellDataGrid.push(0);return s.mExternalMinosAbove=new o(0),s.mExternalMinosBelow=new o(0),s.mDidMatrixDestabilizeInternal=!1,s.mForcedDestabilizeCount=0,s.mForceDisableMovementCount=0,s.mIsGravityLimited=!0,s.mGravityStepElapsedTimeMSEC=-1,s.mGravityMSECPerLineMax=50,s.mGravityMSECPerLineMin=50,s.mGravityMSECPerLineDeltaPerSEC=0,s.mCurrentGravityMSECPerLine=0,s.mMovingMinos=new o(0),s.mMovingMinos.reserveCapacity(e*i),s.mIsVerticalShiftEnabled=!1,s.mIsVerticalShiftUpwards=!0,s.mVerticalShiftMSECPerLine=100,s.mVerticalShiftStepElapsedTimeMSEC=-1,s.mVerticalShiftMinoInitialYOffset=0,s.mScratchMessageData=new a(!1),s.mMinoArrayPool=new x(100,s.mWidth),s.mScratchMinosArray=new o(0),s.mScratchMinosArray.reserveCapacity(e*i),s}e(n,t),n.getMinosMinY=function(t){var e=t.getNumObjects();if(e<=0)return 0;for(var i=u.x4486032239274713138x,n=0,r=0;r<e;r++)(n=t.getAtIndex(r).getY())<i&&(i=n);return i},n.getMinosMaxY=function(t){var e=t.getNumObjects();if(e<=0)return 0;for(var i=u.x3148667442332835850x,n=0,r=0;r<e;r++)(n=t.getAtIndex(r).getY())>i&&(i=n);return i},n.getMinoPatternMatchesMinY=function(t){var e=t.getNumObjects();if(e<=0)return 0;for(var i=u.x4486032239274713138x,r=0,s=0;s<e;s++){var a=t.getAtIndex(s);(r=n.getMinosMinY(a))<i&&(i=r)}return i},n.getMinoPatternMatchesMaxY=function(t){var e=t.getNumObjects();if(e<=0)return 0;for(var i=u.x3148667442332835850x,r=0,s=0;s<e;s++){var a=t.getAtIndex(s);(r=n.getMinosMaxY(a))>i&&(i=r)}return i};var r=n.prototype;return r.getPlayerIndex=function(){return this.mPlayerIndex},r.getWidth=function(){return this.mWidth},r.getHeight=function(){return this.mHeight},r.getVisibleHeight=function(){return this.mVisibleHeight},r.isSizeEqual=function(t,e,i){return this.mWidth==t&&this.mHeight==e&&this.mVisibleHeight==i},r.isCellInsideMatrix=function(t,e){return!(t<0||t>=this.mWidth||e<0||e>=this.mHeight)},r.isCellInsideVisibleMatrix=function(t,e){return!(t<0||t>=this.mWidth||e<0||e>=this.mVisibleHeight)},r.getMinoAt=function(t,e){return this.isCellInsideMatrix(t,e)?this.mMinosGrid.getAtIndex(this.computeGridIndex(t,e)):null},r.insertMinoAt=function(t,e,i){if(t){this.isCellInsideMatrix(e,i)||(e=0,i=0);var n=this.getMinoAt(e,i);null!==n&&(n.destroy(),n=null),t.setPosition(e,i),t.setInitialPosition(e,this.mVerticalShiftMinoInitialYOffset+i),t.setLogicalState(s.x3045546467004092255x),t.resetFallSteps(this.mIsGravityLimited),this.mMinosGrid.setAtIndex(this.computeGridIndex(e,i),t)}},r.removeMinoAt=function(t,e){var i=this.getMinoAt(t,e);i&&(this.unstickMino(i),this.mMinosGrid.setAtIndex(this.computeGridIndex(t,e),null),this.destabilizeInternal())},r.destroyMinoAt=function(t,e){var i=this.getMinoAt(t,e);i&&(this.removeMinoAt(t,e),null!==i&&(i.destroy(),i=null))},r.hasAnyLiveMinos=function(){for(var t=this.getHighestMinoY(),e=0;e<=t;e++)for(var i=0;i<this.mWidth;i++){var n=this.getMinoAt(i,e);if(n&&n.isLive())return!0}return!1},r.hasAnyMinosInRow=function(t){for(var e=0;e<this.mWidth;e++)if(this.getMinoAt(e,t))return!0;return!1},r.hasAnyMinosInRowWithMinoTypeId=function(t,e){for(var i=0;i<this.mWidth;i++){var n=this.getMinoAt(i,t);if(n&&n.getMinoTypeId()==e)return!0}return!1},r.hasAnyMinosInRowWithLogicalState=function(t,e){for(var i=0;i<this.mWidth;i++){var n=this.getMinoAt(i,t);if(n&&n.getLogicalState()==e)return!0}return!1},r.getHighestMinoY=function(){for(var t=this.mHeight-1;t>=0;t--)if(this.hasAnyMinosInRow(t))return t;return-1},r.getHighestMinoYWithMinoTypeId=function(t){for(var e=this.mHeight-1;e>=0;e--)if(this.hasAnyMinosInRowWithMinoTypeId(e,t))return e;return-1},r.getHighestMinoYWithLogicalState=function(t){for(var e=this.mHeight-1;e>=0;e--)if(this.hasAnyMinosInRowWithLogicalState(e,t))return e;return-1},r.getMinosInRect=function(t,e,i,n,r){var s=0,a=u.clampInt(t+i,0,this.mWidth),o=u.clampInt(e+n,0,this.mHeight);t=u.clampInt(t,0,this.mWidth);for(var x=e=u.clampInt(e,0,this.mHeight);x<o;x++)for(var c=t;c<a;c++){var l=this.getMinoAt(c,x);l&&(s++,r.pushBack(l))}return s},r.getMinosWithLogicalStates=function(t,e,i,n){for(var r=0,a=this.mWidth*this.mHeight,o=0;o<a;o++){var x=this.getMinoAtIndex(o);if(x)switch(x.getLogicalState()){case s.x3045546467004092255x:t&&(r++,n.pushBack(x));break;case s.x2874369192688022400x:e&&(r++,n.pushBack(x));break;case s.x1847161197602780325x:case s.x3286196812965712189x:i&&(r++,n.pushBack(x))}}return r},r.getNumMinosWithActionItems=function(){for(var t=0,e=this.mWidth*this.mHeight,i=0;i<e;i++){var n=this.getMinoAtIndex(i);n&&n.getMinoPlayerActionItem()&&t++}return t},r.getMinosWithActionItems=function(t){for(var e=0,i=this.mWidth*this.mHeight,n=0;n<i;n++){var r=this.getMinoAtIndex(n);r&&r.getMinoPlayerActionItem()&&(e++,t.pushBack(r))}return e},r.createAndInsertMinos=function(t,e){if(t&&0!=t.getNumValues()){var i=null;if(e){this.mMovingMinos.removeAll();for(var n=this.mWidth*this.mHeight,r=0;r<n;r++)null!==(i=this.getMinoAtIndex(r))&&(i.destroy(),i=null),this.mMinosGrid.setAtIndex(r,null)}var a=t.getNumValues();a=u.minInt(a,this.mHeight);for(var o=0;o<a;o++){var x=t.getStringValueAtIndex(a-1-o),c=x.length;c=u.minInt(c,this.mWidth);for(var l=0;l<c;l++){var h=u.substringFromIndexWithLength(x,l,1);if("-"!=h){var m=u.getStandardPieceTypeId(h);(i=new s).setMinoTypeId(m),i.setCanFall(!0),i.setIsMatchable(!0),i.setIsKillable(!0),this.insertMinoAt(i,l,o)}}}}},r.insertMinosFromPiece=function(t){for(var e=t.getNumMinos(),i=0;i<e;i++){var n=t.getMinoAtIndex(i);n.setCanFall(!0),n.setIsMatchable(!0),n.setIsKillable(!0),this.insertMinoAt(n,n.getX(),n.getY())}t.removeAllMinos()},r.canInsertPiece=function(t){for(var e=t.getNumMinos(),i=0;i<e;i++){var n=t.getMinoAtIndex(i);if(!this.isCellInsideMatrix(n.getX(),n.getY())||this.getMinoAt(n.getX(),n.getY()))return!1}return!0},r.isPieceFullyInsideVisibleMatrix=function(t){for(var e=t.getNumMinos(),i=0;i<e;i++){var n=t.getMinoAtIndex(i);if(!this.isCellInsideVisibleMatrix(n.getX(),n.getY())||this.getMinoAt(n.getX(),n.getY()))return!1}return!0},r.isPieceFullyOutsideVisibleMatrix=function(t){for(var e=t.getNumMinos(),i=0;i<e;i++){var n=t.getMinoAtIndex(i);if(this.isCellInsideVisibleMatrix(n.getX(),n.getY())||this.getMinoAt(n.getX(),n.getY()))return!1}return!0},r.findMinoPatternMatches=function(t,e,i,n){var r=0,s=null;for(e.startIterating();e.isIteratorValid();){i.getNumObjects()<=r&&(s=n.x2654001756990893644x(0),i.pushBack(s)),s=i.getAtIndex(r);var a=e.getCurrentX(),o=e.getCurrentY();for(t.startIterating();t.isIteratorValid();){var x=this.getMinoAt(a+t.getCurrentX(),o+t.getCurrentY());x&&x.isMatchable()?(s.pushBack(x),t.advanceIterator()):(s.removeAll(),t.invalidateIterator())}s.getNumObjects()>0&&r++,e.advanceIterator()}for(var u=i.getNumObjects()-1;u>=0;u--)0==(s=i.getAtIndex(u)).getNumObjects()&&(i.removeAtIndex(u),n.recycleObject(s));return r},r.setMinoPatternMatchesMinoTypeId=function(t,e){for(var i=t.getNumObjects(),n=0;n<i;n++)for(var r=t.getAtIndex(n),s=r.getNumObjects(),a=0;a<s;a++)r.getAtIndex(a).setMinoTypeId(e)},r.setMinoPatternMatchesLogicalState=function(t,e){for(var i=t.getNumObjects(),n=0;n<i;n++)for(var r=t.getAtIndex(n),s=r.getNumObjects(),a=0;a<s;a++)r.getAtIndex(a).setLogicalState(e)},r.unstickMinoPatternMatches=function(t){for(var e=t.getNumObjects(),i=0;i<e;i++){var n=t.getAtIndex(i);this.unstickMinos(n)}},r.unstickMinos=function(t){for(var e=t.getNumObjects(),i=0;i<e;i++)this.unstickMino(t.getAtIndex(i))},r.shatterMinoPatternMatches=function(t,e){this.mScratchMessageData.setObjectValue(n.x4230425318716414504x,t),this.dispatchMessage(n.x1491925776023159091x,this,this.mScratchMessageData),this.mScratchMessageData.clearObjectValues();for(var i=t.getNumObjects(),r=0;r<i;r++){var s=t.getAtIndex(r);this.shatterMinos(s,e)}},r.shatterMinos=function(t,e){this.mScratchMessageData.setObjectValue(n.x2600787451524868832x,t),this.dispatchMessage(n.x2972179010432452957x,this,this.mScratchMessageData),this.mScratchMessageData.clearObjectValues();for(var i=t.getNumObjects(),r=0;r<i;r++)this.shatterMino(t.getAtIndex(r),e)},r.shatterMino=function(t,e){t&&(this.mScratchMessageData.setObjectValue(n.x3385413543808571515x,t),this.dispatchMessage(n.x1753374700456149204x,this,this.mScratchMessageData),this.mScratchMessageData.clearObjectValues(),t.shatter(e)&&this.destabilizeInternal())},r.killMinoPatternMatches=function(t,e,i){for(var n=t.getNumObjects(),r=0;r<n;r++){var s=t.getAtIndex(r);this.killMinos(s,e,i)}},r.killMinos=function(t,e,i){this.mScratchMessageData.setObjectValue(n.x2887911627436040628x,t),this.dispatchMessage(n.x514256904659133837x,this,this.mScratchMessageData),this.mScratchMessageData.clearObjectValues();for(var r=t.getNumObjects(),s=0;s<r;s++)this.killMino(t.getAtIndex(s),e,i)},r.killMino=function(t,e,i){t&&(this.mScratchMessageData.setObjectValue(n.x1381692501379388581x,t),this.dispatchMessage(n.x1242649438366443755x,this,this.mScratchMessageData),this.mScratchMessageData.clearObjectValues(),this.unstickMino(t),t.kill(e,i),this.destabilizeInternal())},r.setIsGravityLimited=function(t){this.mIsGravityLimited=t},r.setGravityMSECPerLineMax=function(t){this.mGravityMSECPerLineMax=t},r.setGravityMSECPerLineMin=function(t){this.mGravityMSECPerLineMin=t},r.setGravityMSECPerLineDeltaPerSEC=function(t){this.mGravityMSECPerLineDeltaPerSEC=t},r.setIsVerticalShiftEnabled=function(t){this.mIsVerticalShiftEnabled=t},r.setIsVerticalShiftUpwards=function(t){this.mIsVerticalShiftUpwards=t},r.setVerticalShiftMSECPerLine=function(t){this.mVerticalShiftMSECPerLine=t},r.getNumExternalRowsAbove=function(){return this.mExternalMinosAbove.getNumObjects()},r.getExternalMinoAbove=function(t,e){return e>=this.getNumExternalRowsAbove()?null:this.mExternalMinosAbove.getAtIndex(e).getAtIndex(t)},r.addExternalRowAbove=function(t,e){for(var i=u.minInt(t.getNumObjects(),this.mWidth),n=this.mMinoArrayPool.x2654001756990893644x(i),r=0;r<i;r++){var a=t.getAtIndex(r);a&&(a.setPosition(r,0),a.setInitialPosition(r,this.mVerticalShiftMinoInitialYOffset+this.mHeight),a.setLogicalState(s.x3045546467004092255x)),n.setAtIndex(r,a),t.setAtIndex(r,null)}e?this.mExternalMinosAbove.pushFront(n):this.mExternalMinosAbove.pushBack(n)},r.destroyAllExternalMinosAbove=function(){this.mExternalMinosAbove.destroyAllInObjectsAsObjectArrays(),this.mExternalMinosAbove.destroyAll()},r.getNumExternalRowsBelow=function(){return this.mExternalMinosBelow.getNumObjects()},r.getExternalMinoBelow=function(t,e){return e>=this.getNumExternalRowsBelow()?null:this.mExternalMinosBelow.getAtIndex(e).getAtIndex(t)},r.addExternalRowBelow=function(t,e){for(var i=u.minInt(t.getNumObjects(),this.mWidth),n=this.mMinoArrayPool.x2654001756990893644x(i),r=0;r<i;r++){var a=t.getAtIndex(r);a&&(a.setPosition(r,0),a.setInitialPosition(r,this.mVerticalShiftMinoInitialYOffset-1),a.setLogicalState(s.x2874369192688022400x)),n.setAtIndex(r,a),t.setAtIndex(r,null)}e?this.mExternalMinosBelow.pushFront(n):this.mExternalMinosBelow.pushBack(n)},r.destroyAllExternalMinosBelow=function(){this.mExternalMinosBelow.destroyAllInObjectsAsObjectArrays(),this.mExternalMinosBelow.destroyAll()},r.findMovableMinosInRect=function(t,e,i,r,s,a){var o=0,x=0,c=0,l=null,h=u.minInt(t+i,this.mWidth),m=u.minInt(e+r,this.mHeight);for(x=e;x<m;x++)for(o=t;o<h;o++)c=u.computeGridIndex(o,x,this.mWidth),(l=this.getMinoAtIndex(c))?this.canMinoMoveInRect(l,t,e,i,r,s)?this.mScratchCellDataGrid[c]=n.x845738708763563906x:this.mScratchCellDataGrid[c]=n.x2422167644037472146x:this.mScratchCellDataGrid[c]=0;for(x=e;x<m;x++)for(o=t;o<h;o++)c=u.computeGridIndex(o,x,this.mWidth),(l=this.getMinoAtIndex(c))&&this.mScratchCellDataGrid[c]==n.x2422167644037472146x&&this.propagateMinoCannotMove(l,s);for(a.removeAll(),x=e;x<m;x++)for(o=t;o<h;o++)c=u.computeGridIndex(o,x,this.mWidth),(l=this.getMinoAtIndex(c))&&this.mScratchCellDataGrid[c]==n.x845738708763563906x&&a.pushBack(l);for(x=e;x<m;x++)for(o=t;o<h;o++)c=u.computeGridIndex(o,x,this.mWidth),this.mScratchCellDataGrid[c]=0},r.canMoveMinosInRect=function(t,e,i,n,r){this.mScratchMinosArray.removeAll(),this.findMovableMinosInRect(t,e,i,n,r,this.mScratchMinosArray);var s=this.mScratchMinosArray.getNumObjects();return this.mScratchMinosArray.removeAll(),s>0},r.moveMinosInRect=function(t,e,i,n,r){var s=0,a=null;if(this.mScratchMinosArray.removeAll(),this.findMovableMinosInRect(t,e,i,n,r,this.mScratchMinosArray),0==this.mScratchMinosArray.getNumObjects())return!1;var o=this.mScratchMinosArray.getNumObjects();for(s=0;s<o;s++)a=this.mScratchMinosArray.getAtIndex(s),this.mMinosGrid.setAtIndex(this.computeGridIndex(a.getX(),a.getY()),null);for(s=0;s<o;s++)(a=this.mScratchMinosArray.getAtIndex(s)).move(r),this.destroyMinoAt(a.getX(),a.getY()),this.mMinosGrid.setAtIndex(this.computeGridIndex(a.getX(),a.getY()),a);return this.mScratchMinosArray.removeAll(),!0},r.invertMinosX=function(t,e){var i=t.getNumObjects(),n=0,r=null;for(n=0;n<i;n++)r=t.getAtIndex(n),this.mMinosGrid.setAtIndex(this.computeGridIndex(r.getX(),r.getY()),null);for(n=0;n<i;n++)(r=t.getAtIndex(n)).setPosition(e-r.getX(),r.getY()),this.destroyMinoAt(r.getX(),r.getY()),this.mMinosGrid.setAtIndex(this.computeGridIndex(r.getX(),r.getY()),r)},r.invertMinosY=function(t,e){var i=t.getNumObjects(),n=0,r=null;for(n=0;n<i;n++)r=t.getAtIndex(n),this.mMinosGrid.setAtIndex(this.computeGridIndex(r.getX(),r.getY()),null);for(n=0;n<i;n++)(r=t.getAtIndex(n)).setPosition(r.getX(),e-r.getY()),this.destroyMinoAt(r.getX(),r.getY()),this.mMinosGrid.setAtIndex(this.computeGridIndex(r.getX(),r.getY()),r)},r.setMinosVisualAnimationOffsetX_FXPT=function(t){for(var e=this.mWidth*this.mHeight,i=0;i<e;i++){var n=this.getMinoAtIndex(i);n&&n.setVisualAnimationOffsetX_FXPT(t)}},r.setMinosVisualAnimationOffsetY_FXPT=function(t){for(var e=this.mWidth*this.mHeight,i=0;i<e;i++){var n=this.getMinoAtIndex(i);n&&n.setVisualAnimationOffsetY_FXPT(t)}},r.setMinosVisualAnimationOffsetXY_FXPT=function(t,e){for(var i=this.mWidth*this.mHeight,n=0;n<i;n++){var r=this.getMinoAtIndex(n);r&&(r.setVisualAnimationOffsetX_FXPT(t),r.setVisualAnimationOffsetY_FXPT(e))}},r.isStable=function(){if(this.mDidMatrixDestabilizeInternal||this.mForcedDestabilizeCount>0||this.isVerticalShiftActive())return!1;for(var t=this.mWidth*this.mHeight,e=0;e<t;e++){var i=this.getMinoAtIndex(e);if(i&&!i.isStable())return!1}return!0},r.pushDestabilize=function(){this.mForcedDestabilizeCount++},r.popDestabilize=function(){this.mForcedDestabilizeCount--,this.mForcedDestabilizeCount<0&&(this.mForcedDestabilizeCount=0)},r.isMovementEnabled=function(){return this.mForceDisableMovementCount<=0},r.pushMovementDisabled=function(){this.mForceDisableMovementCount++},r.popMovementDisabled=function(){this.mForceDisableMovementCount--,this.mForceDisableMovementCount<0&&(this.mForceDisableMovementCount=0)},r.areAnyMinosObscured=function(){var t=0,e=this.mWidth*this.mHeight,i=null;for(t=0;t<e;t++)if((i=this.getMinoAtIndex(t))&&i.getObscurationFactor_FXPT()>0)return!0;return!1},r.setObscurationFactor_FXPT=function(t){var e=0,i=this.mWidth*this.mHeight,n=null;for(e=0;e<i;e++)(n=this.getMinoAtIndex(e))&&n.setObscurationFactor_FXPT(t)},r.setColumnObscurationFactor_FXPT=function(t,e){for(var i=0;i<this.mHeight;i++){var n=this.getMinoAt(t,i);n&&n.setObscurationFactor_FXPT(e)}},r.processTime=function(t){var e=0,i=this.mWidth*this.mHeight,n=null;for(e=0;e<i;e++)if(n=this.getMinoAtIndex(e))switch(n.processTime(t),n.getLogicalState()){case s.x1847161197602780325x:case s.x3286196812965712189x:this.unstickMino(n);break;case s.x3063801120240131793x:this.destroyMinoAt(n.getX(),n.getY())}!this.mIsGravityLimited&&this.mDidMatrixDestabilizeInternal&&(this.resetAllMinosFallSteps(!1),this.mDidMatrixDestabilizeInternal=!1),this.processMovement(t),!this.mIsGravityLimited&&this.mDidMatrixDestabilizeInternal&&(this.resetAllMinosFallSteps(!1),this.mDidMatrixDestabilizeInternal=!1),this.mDidMatrixDestabilizeInternal=!1},r.computeGridIndex=function(t,e){return e*this.mWidth+t},r.getMinoAtIndex=function(t){return this.mMinosGrid.getAtIndex(t)},r.stickMino=function(t){if(t){t.setStickyBits(0);for(var e=u.x2663672270180766169x;e<=u.x2624047636006164864x;e<<=1){var i=this.getMinoNeighbor(t,e,!1);t.canStickToMino(i)&&(t.setIsStuckInDirection(e,!0),i.setIsStuckInDirection(u.getOppositeDirection(e),!0))}}},r.stickIncomingMino=function(t,e,i){t&&(t.setInitialPosition(e,this.mVerticalShiftMinoInitialYOffset+i),i<0?(this.stickIncomingMinoInNeighborDirection(t,e,i,u.x2624047636006164864x),this.stickIncomingMinoInNeighborDirection(t,e,i,u.x2663672270180766169x),this.stickIncomingMinoInNeighborDirection(t,e,i,u.x2332351171371648974x)):i>=this.mHeight&&(this.stickIncomingMinoInNeighborDirection(t,e,i,u.x3825112663077443543x),this.stickIncomingMinoInNeighborDirection(t,e,i,u.x2949016828512819336x),this.stickIncomingMinoInNeighborDirection(t,e,i,u.x625698839261226640x)),t.validateStickyBits())},r.stickIncomingMinoInNeighborDirection=function(t,e,i,n){if(t){var r=this.getCellNeighbor(e,i,n,!0);t.canStickToMino(r)?(t.setIsStuckInDirection(n,!0),r.setIsStuckInDirection(u.getOppositeDirection(n),!0)):(t.setIsStuckInDirection(n,!1),r&&r.setIsStuckInDirection(u.getOppositeDirection(n),!1))}},r.unstickMino=function(t){if(t&&0!=t.getStickyBits()){var e=0,i=null;for(e=u.x2663672270180766169x;e<=u.x2624047636006164864x;e<<=1)(i=this.getMinoNeighbor(t,e,!0))&&i.setIsStuckInDirection(u.getOppositeDirection(e),!1);for(t.setStickyBits(0),e=u.x2663672270180766169x;e<=u.x2624047636006164864x;e<<=1)(i=this.getMinoNeighbor(t,e,!0))&&i.validateStickyBits();this.mIsGravityLimited||t.setCanFall(!0),this.destabilizeInternal()}},r.processMovement=function(t){!this.isStable()&&this.isMovementEnabled()&&(this.processGravity(t),this.processVerticalShift(t))},r.processGravity=function(t){var e=null,i=0;if(this.findMovingMinos(this.mMovingMinos),this.mIsGravityLimited&&0==this.mMovingMinos.getNumObjects()&&this.processLimitedGravity()&&this.findMovingMinos(this.mMovingMinos),this.mMovingMinos.getNumObjects()>0)if(this.mGravityStepElapsedTimeMSEC<0)this.mCurrentGravityMSECPerLine=this.mGravityMSECPerLineMax,this.mGravityStepElapsedTimeMSEC=0;else{var r=0,s=u.FXPTFromInt(this.mGravityMSECPerLineDeltaPerSEC),a=u.FXPTDivide(u.FXPTFromInt(t),u.FXPTFromInt(1e3)),o=u.FXPTMultiply(s,a),x=u.FXPTFromInt(this.mCurrentGravityMSECPerLine);for(this.mCurrentGravityMSECPerLine=u.FXPTToInt(x+o),this.mCurrentGravityMSECPerLine=u.clampInt(this.mCurrentGravityMSECPerLine,this.mGravityMSECPerLineMin,this.mGravityMSECPerLineMax),this.mGravityStepElapsedTimeMSEC+=t;this.mGravityStepElapsedTimeMSEC>=this.mCurrentGravityMSECPerLine&&this.mMovingMinos.getNumObjects()>0;){for(r=this.mMovingMinos.getNumObjects(),i=0;i<r;i++)e=this.mMovingMinos.getAtIndex(i),this.mMinosGrid.setAtIndex(this.computeGridIndex(e.getX(),e.getY()),null);for(i=0;i<r;i++)(e=this.mMovingMinos.getAtIndex(i)).fall(),this.destroyMinoAt(e.getX(),e.getY()),this.mMinosGrid.setAtIndex(this.computeGridIndex(e.getX(),e.getY()),e);this.findMovingMinos(this.mMovingMinos),this.mGravityStepElapsedTimeMSEC-=this.mCurrentGravityMSECPerLine}0==this.mMovingMinos.getNumObjects()&&(this.dispatchMessage(n.x644234860812116737x,this,null),this.mGravityStepElapsedTimeMSEC=-1);var c=this.mCurrentGravityMSECPerLine>0?-u.FXPTDivide(u.FXPTFromInt(this.mGravityStepElapsedTimeMSEC),u.FXPTFromInt(this.mCurrentGravityMSECPerLine)):0;for(r=this.mMovingMinos.getNumObjects(),i=0;i<r;i++)(e=this.mMovingMinos.getAtIndex(i)).setVisualFallOffsetY_FXPT(c);this.mMovingMinos.removeAll()}else this.mGravityStepElapsedTimeMSEC=-1},r.processLimitedGravity=function(){if(!this.mIsGravityLimited)return!1;for(var t=this.getHighestMinoY(),e=0;e<t;e++)if(!this.hasAnyMinosInRow(e))for(var i=e+1;i<=t;i++)for(var n=0;n<this.mWidth;n++){var r=this.getMinoAt(n,i);r&&r.incrementRemainingFallSteps()}return!1},r.processVerticalShift=function(t){var e=null,i=0,r=0,a=null;if(this.isVerticalShiftActive()){if(this.mVerticalShiftStepElapsedTimeMSEC<0)this.mVerticalShiftStepElapsedTimeMSEC=0,this.stickVerticalShiftIncomingRow();else for(this.mVerticalShiftStepElapsedTimeMSEC+=t;this.mVerticalShiftStepElapsedTimeMSEC>=this.mVerticalShiftMSECPerLine&&this.isVerticalShiftActive();){var o=0,x=0,c=0,l=0,h=0,m=null,g=null;for(this.mIsVerticalShiftUpwards?(x=-1,o=u.maxInt(this.mHeight-2,x),c=-1,l=this.mHeight-1,h=0,m=this.mExternalMinosAbove,g=this.mExternalMinosBelow,this.mVerticalShiftMinoInitialYOffset--):(x=this.mHeight,o=u.minInt(1,x),c=1,l=0,h=this.mHeight-1,m=this.mExternalMinosBelow,g=this.mExternalMinosAbove,this.mVerticalShiftMinoInitialYOffset++),a=this.mMinoArrayPool.x2654001756990893644x(this.mWidth),m.pushFront(a),i=0;i<this.mWidth;i++)(e=this.getMinoAt(i,l))&&e.setPosition(i,l+c),a.setAtIndex(i,e),this.mMinosGrid.setAtIndex(this.computeGridIndex(i,l),null);a=null;for(var f=o;f!=x;){for(i=0;i<this.mWidth;i++)(e=this.getMinoAt(i,f))&&e.setPosition(i,f-c),this.mMinosGrid.setAtIndex(this.computeGridIndex(i,f),null),this.mMinosGrid.setAtIndex(this.computeGridIndex(i,f-c),e);f+=c}for(a=g.getAtIndex(0),g.popFront(),r=u.minInt(a.getNumObjects(),this.mWidth),i=0;i<r;i++)e=a.getAtIndex(i),a.setAtIndex(i,null),e&&(this.insertMinoAt(e,i,h),e.setLogicalState(s.x2874369192688022400x));this.mMinoArrayPool.recycleObject(a),a=null,this.stickVerticalShiftIncomingRow(),this.mVerticalShiftStepElapsedTimeMSEC-=this.mVerticalShiftMSECPerLine,this.mIsVerticalShiftUpwards?this.dispatchMessage(n.x2837132007225388124x,this,null):this.dispatchMessage(n.x1476996659047381929x,this,null)}this.mIsGravityLimited||this.isVerticalShiftActive()||this.destabilizeInternal()}else this.mVerticalShiftStepElapsedTimeMSEC=-1;var d=0;for(this.isVerticalShiftActive()&&(d=u.FXPTDivide(u.FXPTFromInt(this.mVerticalShiftStepElapsedTimeMSEC),u.FXPTFromInt(this.mVerticalShiftMSECPerLine)),this.mIsVerticalShiftUpwards||(d=-d)),r=this.mWidth*this.mHeight,i=0;i<r;i++)(e=this.getMinoAtIndex(i))&&e.setVisualShiftOffsetY_FXPT(d);if(this.getNumExternalRowsAbove()>0)for(r=(a=this.mExternalMinosAbove.getAtIndex(0)).getNumObjects(),i=0;i<r;i++)(e=a.getAtIndex(i))&&e.setVisualShiftOffsetY_FXPT(d);if(this.getNumExternalRowsBelow()>0)for(r=(a=this.mExternalMinosBelow.getAtIndex(0)).getNumObjects(),i=0;i<r;i++)(e=a.getAtIndex(i))&&e.setVisualShiftOffsetY_FXPT(d)},r.stickVerticalShiftIncomingRow=function(){var t=0,e=null;if(this.mIsVerticalShiftUpwards?(t=-1,e=this.mExternalMinosBelow):(t=this.mHeight,e=this.mExternalMinosAbove),0!=e.getNumObjects()){var i=e.getAtIndex(0);if(i)for(var n=u.minInt(i.getNumObjects(),this.mWidth),r=0;r<n;r++){var s=i.getAtIndex(r);this.stickIncomingMino(s,r,t)}}},r.findMovingMinos=function(t){var e=this.mWidth*this.mHeight,i=null,r=0;for(r=0;r<e;r++)(i=this.getMinoAtIndex(r))?i.canFall()?this.mScratchCellDataGrid[r]=n.x120638231494085095x:this.mScratchCellDataGrid[r]=n.x2564512648561462247x:this.mScratchCellDataGrid[r]=0;for(r=0;r<e;r++)(i=this.getMinoAtIndex(r))&&this.mScratchCellDataGrid[r]==n.x2564512648561462247x&&this.propagateMinoCannotFall(i);for(t.removeAll(),r=0;r<e;r++)(i=this.getMinoAtIndex(r))&&this.mScratchCellDataGrid[r]==n.x120638231494085095x&&t.pushBack(i)},r.resetAllMinosFallSteps=function(t){for(var e=this.mWidth*this.mHeight,i=0;i<e;i++){var n=this.getMinoAtIndex(i);n&&n.resetFallSteps(t)}},r.propagateMinoCannotFall=function(t){if(t){t.stopFall();var e=t.getX(),i=t.getY(),r=this.computeGridIndex(e,i);this.mScratchCellDataGrid[r]!=n.x1634226652828469602x&&(this.mScratchCellDataGrid[r]=n.x1634226652828469602x,this.propagateMinoCannotFall(this.getMinoNeighbor(t,u.x2663672270180766169x,!1)),this.propagateMinoCannotFall(this.getMinoNeighbor(t,u.x4374508417979542563x,!0)),this.propagateMinoCannotFall(this.getMinoNeighbor(t,u.x2949016828512819336x,!0)),this.propagateMinoCannotFall(this.getMinoNeighbor(t,u.x1751838633768770123x,!0)))}},r.canMinoMoveInRect=function(t,e,i,n,r,s){switch(s){case u.x2663672270180766169x:return t.getY()<i+r-1;case u.x4374508417979542563x:return t.getX()<e+n-1;case u.x2949016828512819336x:return t.getY()>i;case u.x1751838633768770123x:return t.getX()>e}return!1},r.propagateMinoCannotMove=function(t,e){if(t){var i=t.getX(),r=t.getY(),s=this.computeGridIndex(i,r);if(this.mScratchCellDataGrid[s]!=n.x835333570569611083x){this.mScratchCellDataGrid[s]=n.x835333570569611083x;var a=u.getOppositeDirection(e),o=u.rotateDirections90(a,!0),x=u.rotateDirections90(o,!0),c=u.rotateDirections90(x,!0);this.propagateMinoCannotMove(this.getMinoNeighbor(t,a,!1),e),this.propagateMinoCannotMove(this.getMinoNeighbor(t,o,!0),e),this.propagateMinoCannotMove(this.getMinoNeighbor(t,x,!0),e),this.propagateMinoCannotMove(this.getMinoNeighbor(t,c,!0),e)}}},r.getMinoNeighbor=function(t,e,i){if(!t)return null;var n=this.getCellNeighbor(t.getX(),t.getY(),e,!1);if(n&&i){var r=u.getOppositeDirection(e);return t.isStuckInDirection(e)&&n.isStuckInDirection(r)?n:null}return n},r.getCellNeighbor=function(t,e,i,n){var r=t,s=e;switch(i){case u.x2663672270180766169x:s+=1;break;case u.x2332351171371648974x:s+=1,r+=1;break;case u.x4374508417979542563x:r+=1;break;case u.x625698839261226640x:s-=1,r+=1;break;case u.x2949016828512819336x:s-=1;break;case u.x3825112663077443543x:s-=1,r-=1;break;case u.x1751838633768770123x:r-=1;break;case u.x2624047636006164864x:s+=1,r-=1}return r<0||r>=this.mWidth?null:s>=0&&s<this.mHeight?this.getMinoAt(r,s):n?s<0?this.getExternalMinoBelow(r,-s-1):this.getExternalMinoAbove(r,s-this.mHeight-1):null},r.isVerticalShiftActive=function(){return this.mIsVerticalShiftEnabled&&this.mVerticalShiftMSECPerLine>0&&(this.mIsVerticalShiftUpwards?this.getNumExternalRowsBelow():this.getNumExternalRowsAbove())>0},r.destabilizeInternal=function(){this.mDidMatrixDestabilizeInternal=!0},r.x1721113016797186854x=function(){this.mMovingMinos.removeAll(),null!==this.mMovingMinos&&(this.mMovingMinos.destroy(),this.mMovingMinos=null),this.mMinosGrid.destroyAll(),null!==this.mMinosGrid&&(this.mMinosGrid.destroy(),this.mMinosGrid=null),this.destroyAllExternalMinosAbove(),null!==this.mExternalMinosAbove&&(this.mExternalMinosAbove.destroy(),this.mExternalMinosAbove=null),this.destroyAllExternalMinosBelow(),null!==this.mExternalMinosBelow&&(this.mExternalMinosBelow.destroy(),this.mExternalMinosBelow=null),null!==this.mScratchMessageData&&(this.mScratchMessageData.destroy(),this.mScratchMessageData=null),null!==this.mMinoArrayPool&&(this.mMinoArrayPool.destroy(),this.mMinoArrayPool=null),this.mScratchMinosArray.removeAll(),null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x1491925776023159091x",get:function(){return 133920054}},{key:"x4230425318716414504x",get:function(){return 1861366225}},{key:"x2972179010432452957x",get:function(){return 2015804576}},{key:"x2600787451524868832x",get:function(){return 1011251269}},{key:"x1753374700456149204x",get:function(){return 2100041331}},{key:"x3385413543808571515x",get:function(){return 2131289520}},{key:"x514256904659133837x",get:function(){return 818438005}},{key:"x2887911627436040628x",get:function(){return 216897861}},{key:"x1242649438366443755x",get:function(){return 1495646334}},{key:"x1381692501379388581x",get:function(){return 1485075374}},{key:"x644234860812116737x",get:function(){return 958636679}},{key:"x2837132007225388124x",get:function(){return 246329689}},{key:"x1476996659047381929x",get:function(){return 1430177376}},{key:"x120638231494085095x",get:function(){return 1}},{key:"x2564512648561462247x",get:function(){return 2}},{key:"x1634226652828469602x",get:function(){return 3}},{key:"x845738708763563906x",get:function(){return 4}},{key:"x2422167644037472146x",get:function(){return 5}},{key:"x835333570569611083x",get:function(){return 6}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x349179295227638153x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x702435451033209193x.ts","./x3482684588425346520x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x2205868517935256955x},function(t){s=t.x702435451033209193x},function(t){a=t.x3482684588425346520x}],execute:function(){n._RF.push({},"066e2DVgr5A1q45j0btr/g5","x349179295227638153x",void 0),t("x349179295227638153x",function(t){function n(){var e;return(e=t.call(this)||this).mMinoTypeId=0,e.mLogicalState=n.x1542464744281366388x,e.mLogicalStateElapsedTimeMSEC=0,e.mLogicalStateDurationMSEC=0,e.mLogicalStateTween_FXPT=0,e.mCanFall=!0,e.mIsMatchable=!0,e.mIsKillable=!0,e.mRemainingKills=0,e.mX=0,e.mY=0,e.mInitialX=0,e.mInitialY=0,e.mVisualFallOffsetY_FXPT=0,e.mVisualShiftOffsetY_FXPT=0,e.mVisualAnimationOffsetX_FXPT=0,e.mVisualAnimationOffsetY_FXPT=0,e.mStickyBits=0,e.mMinoPlayerActionItem=null,e.mObscurationFactor_FXPT=0,e}e(n,t);var r=n.prototype;return r.getMinoTypeId=function(){return this.mMinoTypeId},r.setMinoTypeId=function(t){this.mMinoTypeId=t},r.getLogicalState=function(){return this.mLogicalState},r.setLogicalState=function(t){this._setLogicalState(t,0)},r.getLogicalStateElapsedTimeMSEC=function(){return this.mLogicalStateElapsedTimeMSEC},r.getLogicalStateTween_FXPT=function(){return this.mLogicalStateTween_FXPT},r.setLogicalStateTween_FXPT=function(t){this.mLogicalStateTween_FXPT=t},r.canFall=function(){switch(this.mLogicalState){case n.x1527126193027760517x:case n.x3063801120240131793x:return!1;default:return this.mCanFall&&this.mY>0&&this.mRemainingFallSteps>0}},r.setCanFall=function(t){this.mCanFall=t},r.resetFallSteps=function(t){this.mRemainingFallSteps=t?0:s.x4486032239274713138x,this.mVisualFallOffsetY_FXPT=0},r.incrementRemainingFallSteps=function(){this.mRemainingFallSteps<s.x4486032239274713138x-1&&this.mRemainingFallSteps++},r.fall=function(){this.canFall()&&(this.mY--,this.mRemainingFallSteps<s.x4486032239274713138x&&this.mRemainingFallSteps--)},r.stopFall=function(){this.mRemainingFallSteps=0,this.mVisualFallOffsetY_FXPT=0},r.move=function(t){switch(t){case s.x2663672270180766169x:this.mY++;break;case s.x4374508417979542563x:this.mX++;break;case s.x2949016828512819336x:this.mY--;break;case s.x1751838633768770123x:this.mX--}},r.isMatchable=function(){return this.mIsMatchable},r.setIsMatchable=function(t){this.mIsMatchable=!0},r.shatter=function(t){switch(this.mLogicalState){case n.x3045546467004092255x:case n.x3742112099986664711x:case n.x2874369192688022400x:case n.x2726954391055212649x:if(t>0)switch(this.mLogicalState){case n.x3045546467004092255x:case n.x3742112099986664711x:this._setLogicalState(n.x3742112099986664711x,t);break;case n.x2874369192688022400x:case n.x2726954391055212649x:this._setLogicalState(n.x2726954391055212649x,t)}else switch(this.mLogicalState){case n.x3045546467004092255x:case n.x3742112099986664711x:this._setLogicalState(n.x1847161197602780325x,t);break;case n.x2874369192688022400x:case n.x2726954391055212649x:this._setLogicalState(n.x3286196812965712189x,t)}return!0;default:return!1}},r.isLive=function(){switch(this.mLogicalState){case n.x1527126193027760517x:case n.x3063801120240131793x:return!1;default:return!0}},r.isKillable=function(){return this.mIsKillable&&this.mRemainingKills<=0&&(!this.mMinoPlayerActionItem||this.mMinoPlayerActionItem.didActivate())},r.setIsKillable=function(t){this.mIsKillable=!0},r.getRemainingKills=function(){return this.mRemainingKills},r.setRemainingKills=function(t){this.mRemainingKills=t},r.kill=function(t,e){if(this.mMinoPlayerActionItem&&(e?this.tryActivateMinoPlayerActionItem():null!==this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.destroy(),this.mMinoPlayerActionItem=null)),this.isKillable())switch(this.mLogicalState){case n.x3045546467004092255x:case n.x1847161197602780325x:case n.x2874369192688022400x:case n.x3286196812965712189x:case n.x1527126193027760517x:t>0?this._setLogicalState(n.x1527126193027760517x,t):this._setLogicalState(n.x3063801120240131793x,0)}this.mRemainingKills>0&&this.mRemainingKills--},r.isStable=function(){switch(this.mLogicalState){case n.x3742112099986664711x:case n.x2726954391055212649x:case n.x1527126193027760517x:case n.x3063801120240131793x:return!1;default:if(this.canFall())return!1}return!0},r.getX=function(){return this.mX},r.getY=function(){return this.mY},r.setPosition=function(t,e){this.mX=t,this.mY=e},r.getInitialX=function(){return this.mInitialX},r.getInitialY=function(){return this.mInitialY},r.setInitialPosition=function(t,e){this.mInitialX=t,this.mInitialY=e},r.getVisualX_FXPT=function(){return s.FXPTFromInt(this.mX)+this.mVisualAnimationOffsetX_FXPT},r.getVisualY_FXPT=function(){return s.FXPTFromInt(this.mY)+this.mVisualFallOffsetY_FXPT+this.mVisualShiftOffsetY_FXPT+this.mVisualAnimationOffsetY_FXPT},r.setVisualFallOffsetY_FXPT=function(t){this.mVisualFallOffsetY_FXPT=t},r.setVisualShiftOffsetY_FXPT=function(t){this.mVisualShiftOffsetY_FXPT=t},r.setVisualAnimationOffsetX_FXPT=function(t){this.mVisualAnimationOffsetX_FXPT=t},r.setVisualAnimationOffsetY_FXPT=function(t){this.mVisualAnimationOffsetY_FXPT=t},r.getStickyBits=function(){return this.mStickyBits},r.setStickyBits=function(t){this.mStickyBits=t},r.isStuckInDirection=function(t){return(this.mStickyBits&t)==t},r.setIsStuckInDirection=function(t,e){e?this.mStickyBits|=t:this.mStickyBits&=~t},r.validateStickyBits=function(){this.mStickyBits=s.validateStickyBits(this.mStickyBits)},r.canStickToMino=function(t){return t&&this.mMinoTypeId==t.mMinoTypeId&&this.mCanFall==t.mCanFall},r.getMinoPlayerActionItem=function(){return this.mMinoPlayerActionItem},r.attachPlayerAction=function(t,e){null!==this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.destroy(),this.mMinoPlayerActionItem=null),this.mMinoPlayerActionItem=new a(this,t,e)},r.destroyPlayerAction=function(){null!==this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.destroy(),this.mMinoPlayerActionItem=null)},r.getObscurationFactor_FXPT=function(){return this.mObscurationFactor_FXPT},r.setObscurationFactor_FXPT=function(t){this.mObscurationFactor_FXPT=s.clampInt(t,0,s.x3167629350924187699x)},r.processTime=function(t){if(this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.processTime(t),this.mMinoPlayerActionItem.didActivate()&&null!==this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.destroy(),this.mMinoPlayerActionItem=null)),this.mLogicalStateDurationMSEC>0){if(this.mLogicalStateElapsedTimeMSEC<this.mLogicalStateDurationMSEC)if(this.mLogicalStateElapsedTimeMSEC+=t,this.mLogicalStateElapsedTimeMSEC>=this.mLogicalStateDurationMSEC)switch(this.mLogicalStateElapsedTimeMSEC=this.mLogicalStateDurationMSEC,this.mLogicalStateTween_FXPT=s.x3167629350924187699x,this.mLogicalState){case n.x3742112099986664711x:this._setLogicalState(n.x1847161197602780325x,0);break;case n.x2726954391055212649x:this._setLogicalState(n.x3286196812965712189x,0);break;case n.x1527126193027760517x:this._setLogicalState(n.x3063801120240131793x,0)}else this.mLogicalStateTween_FXPT=s.FXPTDivide(s.FXPTFromInt(this.mLogicalStateElapsedTimeMSEC),s.FXPTFromInt(this.mLogicalStateDurationMSEC))}else this.mLogicalStateElapsedTimeMSEC+=t,this.mLogicalStateTween_FXPT=0},r._setLogicalState=function(t,e){switch(this.mLogicalState=t,this.mLogicalStateElapsedTimeMSEC=0,this.mLogicalStateDurationMSEC=e,this.mLogicalStateTween_FXPT=0,t){case n.x2307441568472904081x:case n.x2419069812277367245x:case n.x3729310023219695253x:case n.x1778395811108923465x:case n.x853617920205802087x:case n.x3101548245554889221x:case n.x3063801120240131793x:this.mCanFall=!1,this.mIsMatchable=!1,this.mIsKillable=!1;break;case n.x1527126193027760517x:this.mIsMatchable=!1,this.mIsKillable=!1}},r.tryActivateMinoPlayerActionItem=function(){this.mMinoPlayerActionItem&&this.mMinoPlayerActionItem.tryActivate()},r.x1721113016797186854x=function(){null!==this.mMinoPlayerActionItem&&(this.mMinoPlayerActionItem.destroy(),this.mMinoPlayerActionItem=null),t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x1542464744281366388x",get:function(){return 0}},{key:"x2307441568472904081x",get:function(){return 1660688746}},{key:"x2419069812277367245x",get:function(){return 1978283288}},{key:"x3729310023219695253x",get:function(){return 963673670}},{key:"x1778395811108923465x",get:function(){return 803931831}},{key:"x853617920205802087x",get:function(){return 1363350631}},{key:"x3101548245554889221x",get:function(){return 1648973022}},{key:"x3045546467004092255x",get:function(){return 845684953}},{key:"x3742112099986664711x",get:function(){return 451273058}},{key:"x1847161197602780325x",get:function(){return 539438911}},{key:"x2874369192688022400x",get:function(){return 1997489507}},{key:"x2726954391055212649x",get:function(){return 961662188}},{key:"x3286196812965712189x",get:function(){return 1599455541}},{key:"x1527126193027760517x",get:function(){return 1635965563}},{key:"x3063801120240131793x",get:function(){return 1709189334}},{key:"x244013038850211387x",get:function(){return 304419727}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3545226698753814823x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x1442954324271535409x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x},function(t){r=t.x1442954324271535409x},function(t){s=t.x702435451033209193x}],execute:function(){i._RF.push({},"cb66bMHrUJA+5JJYhlfTDiB","x3545226698753814823x",void 0),t("x3545226698753814823x",function(t){function i(e,i,n,r,s,a,o){var x,u=s;return(x=t.call(this)||this).mIsSticky=r>=5*u&&a,x.mMaxNumStickyNeighbors=o,x.mSpacingInDestBitmap=1,x.mNativeBitmap=null,x.construct(e,i,n,r,s),x}e(i,t);var n=i.prototype;return n.getNativeBitmap=function(){return this.mNativeBitmap},n.getWidth=function(){return r.NativeBitmap_getWidth(this.mNativeBitmap)},n.getHeight=function(){return r.NativeBitmap_getHeight(this.mNativeBitmap)},n.getMinoX=function(t){return t*(this.getHeight()+this.mSpacingInDestBitmap)},n.isSticky=function(){return this.mIsSticky},n.getNumIndexedStickyBits=function(){if(!this.isSticky())return 1;switch(this.mMaxNumStickyNeighbors){case 0:case 1:case 2:case 3:return s.x3762939614942414687x;default:return s.x3871401098920632143x}},n.getIndexedStickyBits=function(t){switch(this.getNumIndexedStickyBits()){case 1:return 0;case s.x3762939614942414687x:return s.getIndexedStickyBitsMax3(t);case s.x3871401098920632143x:default:return s.getIndexedStickyBitsMax8(t)}},n.construct=function(t,e,i,n,a){var o=a;if(this.isSticky()){var x=~~(o/2),u=x+o%2,c=~~((n-5*o)/4),l=this.getNumIndexedStickyBits();this.mNativeBitmap=r.NativeBitmap_createWithSize((o+this.mSpacingInDestBitmap)*l,a,!0);for(var h=0;h<l;h++)for(var m=this.getIndexedStickyBits(h),g=s.x2332351171371648974x;g<=s.x2624047636006164864x;g<<=2){var f=this.getQuadrantIndexInBaseBitmap(g,m),d=~~(s.computeXFromGridIndex(f,10)/2)*(o+c),p=0,S=0,y=0,P=0,I=0,v=0;switch(g){case s.x2332351171371648974x:p=u,S=u,y=d+x,P=0,I=h*(o+this.mSpacingInDestBitmap)+x,v=P;break;case s.x625698839261226640x:p=u,S=x,y=d+x,P=u,I=h*(o+this.mSpacingInDestBitmap)+x,v=P;break;case s.x3825112663077443543x:p=x,S=x,y=d,P=u,I=h*(o+this.mSpacingInDestBitmap),v=P;break;case s.x2624047636006164864x:p=x,S=u,y=d,P=0,I=h*(o+this.mSpacingInDestBitmap),v=P}r.NativeBitmap_copy(t,y,P,p,S,this.mNativeBitmap,I,v)}}else this.mNativeBitmap=r.NativeBitmap_createWithSize(o,o,!0),r.NativeBitmap_copy(t,e,i,o,o,this.mNativeBitmap,0,0)},n.getQuadrantIndexInBaseBitmap=function(t,e){var i,n=0,r=0,a=0;switch(t){case s.x2332351171371648974x:e&=s.x1550404839293318774x,r=1,a=0;break;case s.x625698839261226640x:e&=s.x1042551614883868016x,i=(1&(e=s.rotateDirections90(e,!1)))<<2|(4&e)>>>2,e&=-6,e|=i,r=1,a=1;break;case s.x3825112663077443543x:e&=s.x3102034060319810527x,e=s.rotateDirections180(e),r=0,a=1;break;case s.x2624047636006164864x:e&=s.x1560215727161287825x,i=(1&(e=s.rotateDirections90(e,!0)))<<2|(4&e)>>>2,e&=-6,e|=i,r=0,a=0}switch(e){case 0:n=0;break;case 4:case 6:n=1;break;case 1:case 3:n=2;break;case 5:n=3;break;case 7:n=4}return 10*a+(2*n+r)},n.x1721113016797186854x=function(){r.NativeBitmap_release(this.mNativeBitmap),t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3482684588425346520x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x940197673366484397x.ts","./x1930801154962670888x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x940197673366484397x},function(t){s=t.x1930801154962670888x}],execute:function(){n._RF.push({},"1f560LhqrRIu5kF9Z5uhai6","x3482684588425346520x",void 0),t("x3482684588425346520x",function(t){function n(e,i,r){var s;return(s=t.call(this,n.x2744117081613910912x,null)||this).mOwnerMino=e,s.mPlayerAction=i,s.mActivationType=r,s.mIsTryingToActivate=!1,i.setSpawnedMatrixPosition(e.getX(),e.getY()),s}e(n,t);var r=n.prototype;return r.getOwnerMino=function(){return this.mOwnerMino},r.getPlayerAction=function(){return this.mPlayerAction},r.preActivate=function(){this.setNextState(n.x3425742194731643217x,!1)},r.tryActivate=function(){if(this.mPlayerAction&&!this.mIsTryingToActivate)switch(this.mActivationType){case n.x253878322846485755x:this.mIsTryingToActivate=!0,this.mPlayerAction.tryActivate(this.mOwnerMino.getX(),this.mOwnerMino.getY())?(this.mPlayerAction=null,this.setNextState(n.x2429557968940375124x,!1)):this.setNextState(n.x3425742194731643217x,!1),this.mIsTryingToActivate=!1;break;case n.x3977686130243259702x:this.getPlayerAction().setActivationMatrixPosition(this.mOwnerMino.getX(),this.mOwnerMino.getY()),this.getPlayerAction().getPlayer().enqueuePendingAction(this.mPlayerAction),this.mPlayerAction=null}},r.didActivate=function(){return!this.mPlayerAction||this.mPlayerAction.didActivate()},r.x1721113016797186854x=function(){null!==this.mPlayerAction&&(this.mPlayerAction.destroy(),this.mPlayerAction=null),t.prototype.x1721113016797186854x.call(this)},r.x4498870316303653116x=function(e,i,r,a){switch(i){case n.x2744117081613910912x:break;case n.x3425742194731643217x:if(e===s.x3793884777573381281x)return this.tryActivate(),a}return t.prototype.x4498870316303653116x.call(this,e,i,r,a)},i(n,null,[{key:"x2744117081613910912x",get:function(){return 1}},{key:"x3425742194731643217x",get:function(){return 2}},{key:"x2429557968940375124x",get:function(){return 3}},{key:"x253878322846485755x",get:function(){return 1}},{key:"x3977686130243259702x",get:function(){return 2}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3286211270008087752x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x1442954324271535409x.ts","./x3545226698753814823x.ts","./x663434875166651381x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x},function(t){r=t.x1442954324271535409x},function(t){s=t.x3545226698753814823x},function(t){a=t.x663434875166651381x},function(t){o=t.x3693760142138385085x},function(t){x=t.x702435451033209193x}],execute:function(){i._RF.push({},"16bf6UzzFJMhJHtbbYzXl79","x3286211270008087752x",void 0),t("x3286211270008087752x",function(t){function i(e){var i;return(i=t.call(this)||this).mMinoBitmapsByLogicalState=new o(!0),i.mMinoIsStickyByLogicalState=new o(!0),i.mMinoSpriteFramesByLogicalState=new o(!0),i.mDefaultLogicalState=e,i.mRemappedLogicalStates=new o(!0),i.mRemappedMinoTypes=new o(!0),i}e(i,t);var n=i.prototype;return n.addMinoBitmap=function(t,e,i,n,r,a,x,u,c){if(i){var l=this.mMinoBitmapsByLogicalState.getDictionary(t),h=this.mMinoIsStickyByLogicalState.getDictionary(t);l||(l=new o(!0),this.mMinoBitmapsByLogicalState.setObjectValue(t,l),h=new o(!0),this.mMinoIsStickyByLogicalState.setObjectValue(t,h));var m=new s(i,n,r,a,x,u,c);l.setObjectValue(e,m),h.setBoolValue(e,m.isSticky())}},n.remapMinoLogicalState=function(t,e){this.mRemappedLogicalStates.setIntValue(t,e)},n.remapMinoType=function(t,e){this.mRemappedMinoTypes.setIntValue(t,e)},n.constructSpriteFrames=function(){this.mMinoSpriteFramesByLogicalState.removeAllValues();var t,e=this.mMinoBitmapsByLogicalState.getNumValues(),i=0,n=0,s=0,u=null,c=null,l=null,h=null,m=0,g=0;for(i=0;i<e;i++)for(n=(u=this.mMinoBitmapsByLogicalState.getDictionaryAtIndex(i)).getNumValues(),s=0;s<n;s++)l=u.getObjectValueAtIndex(s),m=x.maxInt(m,l.getWidth()),g+=l.getHeight()+1;t=r.NativeBitmap_createWithSize(m,g,!0);var f=0,d=0;for(i=0;i<e;i++)for(n=(u=this.mMinoBitmapsByLogicalState.getDictionaryAtIndex(i)).getNumValues(),s=0;s<n;s++)l=u.getObjectValueAtIndex(s),r.NativeBitmap_copy(l.getNativeBitmap(),0,0,l.getWidth(),l.getHeight(),t,f,d),d+=l.getHeight()+1;for(h=r.NativeTexture_createWithBitmap(t),f=0,d=0,i=0;i<e;i++)for(c=new o(!0),this.mMinoSpriteFramesByLogicalState.setObjectValue(this.mMinoBitmapsByLogicalState.getValueKeyAtIndex(i),c),n=(u=this.mMinoBitmapsByLogicalState.getDictionaryAtIndex(i)).getNumValues(),s=0;s<n;s++){var p=new o(!0);c.setObjectValue(u.getValueKeyAtIndex(s),p);var S=null,y=null,P=(l=u.getObjectValueAtIndex(s)).getNumIndexedStickyBits(),I=0,v=d,M=l.getHeight(),V=0;l.isSticky()&&(V=.4);for(var T=2*V,C=0;C<P;C++){var A=l.getIndexedStickyBits(C);I=f+l.getMinoX(C),S=r.NativeSpriteFrame_createWithTexture(h,I+V,v+V,M-T,M-T),y=new a(S),p.setObjectValue(A,y)}d+=l.getHeight()+1}this.mMinoBitmapsByLogicalState.removeAllValues(),r.NativeBitmap_release(t),h=null},n.isMinoSticky=function(t,e){var i=this.mMinoIsStickyByLogicalState.getDictionary(t);return i||(i=this.mMinoIsStickyByLogicalState.getDictionary(this.mDefaultLogicalState)),!!i&&i.getBoolValueWithDefault(e,!1)},n.getMinoNativeSpriteFrame=function(t,e,i){i=x.validateStickyBits(i);var n=this.mMinoSpriteFramesByLogicalState.getDictionary(t);if(!n&&!(n=this.mMinoSpriteFramesByLogicalState.getDictionary(this.mRemappedLogicalStates.getIntValue(t)))&&!(n=this.mMinoSpriteFramesByLogicalState.getDictionary(this.mDefaultLogicalState)))return null;var r=n.getDictionary(e);if(!r&&!(r=n.getDictionary(this.mRemappedMinoTypes.getIntValue(e)))&&!(r=n.getDictionaryAtIndex(0)))return null;var s=0;switch(r.getNumValues()){case 1:s=0;break;case x.x3762939614942414687x:s=x.getIndexForStickyBitsMax3(i);break;case x.x3871401098920632143x:s=x.getIndexForStickyBitsMax8(i)}var a=r.getObjectValueAtIndex(s);return a?a.getNativeObject():null},n.x1721113016797186854x=function(){null!==this.mMinoBitmapsByLogicalState&&(this.mMinoBitmapsByLogicalState.destroy(),this.mMinoBitmapsByLogicalState=null),null!==this.mMinoIsStickyByLogicalState&&(this.mMinoIsStickyByLogicalState.destroy(),this.mMinoIsStickyByLogicalState=null),null!==this.mMinoSpriteFramesByLogicalState&&(this.mMinoSpriteFramesByLogicalState.destroy(),this.mMinoSpriteFramesByLogicalState=null),null!==this.mRemappedLogicalStates&&(this.mRemappedLogicalStates.destroy(),this.mRemappedLogicalStates=null),null!==this.mRemappedMinoTypes&&(this.mRemappedMinoTypes.destroy(),this.mRemappedMinoTypes=null),t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x2344101397586251857x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x1442954324271535409x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x},function(t){s=t.x1442954324271535409x}],execute:function(){n._RF.push({},"a2dcbxL/ghB/44umQ4kR767","x2344101397586251857x",void 0),t("x2344101397586251857x",function(t){function n(e){var i;return(i=t.call(this)||this).mObjects=new Array,i.mObjectType=e,i.mTopIndex=-1,i}e(n,t);var r=n.prototype;return r.recycleObject=function(t){var e=this.mObjects.length;this.getNumAvailableObjects()>=e&&this.mObjects.push(null),this.mTopIndex++,this.mObjects[this.mTopIndex]=t},r.getNumAvailableObjects=function(){return this.mTopIndex+1},r.getAvailableObject=function(){if(this.mTopIndex>=0){var t=this.mObjects[this.mTopIndex];return this.mObjects[this.mTopIndex]=null,this.mTopIndex--,t}return null},r.x1721113016797186854x=function(){if(this.mObjectType===n.x3654770894156347609x)for(var e=this.mObjects.length,i=0;i<e;i++){var r=this.mObjects[i];s.NativeView_destroy(r,!0)}this.mObjects.length=0,t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"kObjectType_NativeARCObject",get:function(){return 1}},{key:"x3654770894156347609x",get:function(){return 2}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x663434875166651381x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x}],execute:function(){i._RF.push({},"21b89euN81C0I36ymYvgCKT","x663434875166651381x",void 0),t("x663434875166651381x",function(t){function i(e){var i;return(i=t.call(this)||this).mNativeObject=e,i}e(i,t);var n=i.prototype;return n.getNativeObject=function(){return this.mNativeObject},n.setNativeObject=function(t){this.mNativeObject=t},n.x1721113016797186854x=function(){this.mNativeObject=null,t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x2444935425342845025x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x850700817827885953x.ts","./x1442954324271535409x.ts","./x702435451033209193x.ts","./x3375026250715268596x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x850700817827885953x},function(t){r=t.x1442954324271535409x},function(t){s=t.x702435451033209193x},function(t){a=t.x3375026250715268596x}],execute:function(){i._RF.push({},"9cd8f2JQAxOEqYoIr+jENff","x2444935425342845025x",void 0),t("x2444935425342845025x",function(t){function i(e,i,n,r,s){var a;return(a=t.call(this,e,i,n,r)||this).mFilePath=s,a.mNativeBitmap=null,a}e(i,t),i.x2698438219630994316x=function(t){return s.stringToHash32("459508803-"+t)};var n=i.prototype;return n.getNativeBitmap=function(){return this.mNativeBitmap},n.x1721113016797186854x=function(){r.NativeBitmap_release(this.mNativeBitmap),this.mNativeBitmap=null,t.prototype.x1721113016797186854x.call(this)},n.x2249892239750456702x=function(){},n.x1937515428629277026x=function(){var t=this.getResourceMgr().expandFilePath(this.mFilePath);if(r.isFilePathRemote(t)){t=r.prepareRemoteResourceFilePath(t);var e=new Image,i=this;e.onload=function(){i.mNativeBitmap=document.createElement("canvas"),i.mNativeBitmap.width=e.width,i.mNativeBitmap.height=e.height,i.mNativeBitmap.getContext("2d").drawImage(e,0,0),i.setNextState(a.x816060623491963128x,!1)},e.onerror=function(){i.setNextState(a.x2810067176957391831x,!1)},e.src=t}else t=r.prepareLocalResourceFilePath(t),i.setNextState(a.x2810067176957391831x,!1)},n.x485164082923534672x=function(){return a.x435844797934444114x},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x1824733160648178692x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x850700817827885953x.ts","./x1442954324271535409x.ts","./x702435451033209193x.ts","./x3375026250715268596x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x850700817827885953x},function(t){s=t.x1442954324271535409x},function(t){a=t.x702435451033209193x},function(t){o=t.x3375026250715268596x}],execute:function(){n._RF.push({},"d40d76Kbq9Na57OV+dK/w0k","x1824733160648178692x",void 0),t("x1824733160648178692x",function(t){function n(e,i,r,s,a,o,x){var u;u=t.call(this,e,i,r,s)||this,n.verifyNativeAudioSupport();var c="";switch(o){case n.x532290976609314627x:case n.x3528104986823296210x:c=".mp3"}return u.mFilePath=a+c,u.mSoundType=o,u.mRequirePreload=x,u.mNativeSound=null,u.mDidPlay=!1,u}e(n,t),n.x2645505544587084981x=function(t){return a.stringToHash32("621423319-"+t)},n.verifyNativeAudioSupport=function(){if(s.isBrowserIE())return!1;if(null==n.sAudioContextForLoading){window.AudioContext=window.AudioContext||window.webkitAudioContext;try{n.sAudioContextForLoading=new AudioContext}catch(t){n.sAudioContextForLoading=null}}return null!=n.sAudioContextForLoading};var r=n.prototype;return r.isNativeSoundLoaded=function(){return!!this.mNativeSound&&!s.isBrowserIE()},r.getNativeSound=function(){return this.mNativeSound},r.getDidPlay=function(){return this.mDidPlay},r.setDidPlay=function(t){this.mDidPlay=t},r.x1721113016797186854x=function(){this.mNativeSound=null,t.prototype.x1721113016797186854x.call(this)},r.x2249892239750456702x=function(){},r.x1937515428629277026x=function(){if(this.mFilePath&&""!=this.mFilePath&&this.mFilePath.charCodeAt(this.mFilePath.length-1)!="/".charCodeAt()){var t=this.getResourceMgr().expandFilePath(this.mFilePath);if(s.isFilePathRemote(t))if(t=s.prepareRemoteResourceFilePath(t),s.isBrowserIE())this.setNextState(o.x816060623491963128x,!1);else if(n.sAudioContextForLoading){var e=new XMLHttpRequest,i=this;e.onload=function(){n.sAudioContextForLoading.decodeAudioData(e.response,(function(t){i.mNativeSound=t,i.setNextState(o.x816060623491963128x,!1)}),(function(){this.mNativeSound=null,i.setNextState(o.x2810067176957391831x,!1)}))},e.onerror=function(){this.mNativeSound=null,i.setNextState(o.x2810067176957391831x,!1)},e.onabort=function(){i.setNextState(o.x2810067176957391831x,!1)},e.open("GET",t,!0),e.responseType="arraybuffer",e.send(),this.mRequirePreload||this.setNextState(o.x816060623491963128x,!1)}else this.setNextState(o.x2810067176957391831x,!1);else t=s.prepareLocalResourceFilePath(t),this.setNextState(o.x816060623491963128x,!1)}else this.setNextState(o.x816060623491963128x,!1)},r.x485164082923534672x=function(){return s.isBrowserIE()||null!=this.mNativeSound?o.x816060623491963128x:o.x435844797934444114x},i(n,null,[{key:"x532290976609314627x",get:function(){return 1}},{key:"x3528104986823296210x",get:function(){return 2}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3419518525438048359x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x850700817827885953x.ts","./x1442954324271535409x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x3375026250715268596x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x850700817827885953x},function(t){r=t.x1442954324271535409x},function(t){s=t.x3196398007076860870x},function(t){a=t.x702435451033209193x},function(t){o=t.x3375026250715268596x}],execute:function(){i._RF.push({},"3356eZyi69AbIOgduXJLwWR","x3419518525438048359x",void 0),t("x3419518525438048359x",function(t){function i(e,i,n,r,a){var o;return(o=t.call(this,e,i,n,r)||this).mNativeSpriteFrames=new Array,o.mFilePath=a,o.mNativeTextureResources=new s(0),o.mIsScale9=!1,o}e(i,t),i.x3659968214579871874x=function(t){return a.stringToHash32("342825776-"+t)};var n=i.prototype;return n.getNumNativeSpriteFrames=function(){return this.mNativeSpriteFrames.length},n.getNativeSpriteFrame=function(t){var e=this.mNativeSpriteFrames.length;return 0==e||t<0||t>=e?null:this.mNativeSpriteFrames[t]},n.isScale9=function(){return this.mIsScale9},n.getScale9LeftInset=function(){return r.NativeSpriteFrame_getWidth(this.getNativeSpriteFrame(0))},n.getScale9RightInset=function(){return r.NativeSpriteFrame_getWidth(this.getNativeSpriteFrame(2))},n.getScale9TopInset=function(){return r.NativeSpriteFrame_getHeight(this.getNativeSpriteFrame(0))},n.getScale9BottomInset=function(){return r.NativeSpriteFrame_getHeight(this.getNativeSpriteFrame(6))},n.createSpriteFrames=function(){for(var t=this.mNativeTextureResources.getNumObjects(),e=0;e<t;e++){var i=this.mNativeTextureResources.getAtIndex(e).getNativeTexture();if(a.stringHasParamValue(this.mFilePath,"inset")){var n=a.getParamIntValueFromString(this.mFilePath,"inset",4);this.createSpriteFramesAsScale9(i,n,n,n,n)}else a.stringHasParamValue(this.mFilePath,"leftInset")?this.createSpriteFramesAsScale9(i,a.getParamIntValueFromString(this.mFilePath,"leftInset",4),a.getParamIntValueFromString(this.mFilePath,"rightInset",4),a.getParamIntValueFromString(this.mFilePath,"topInset",4),a.getParamIntValueFromString(this.mFilePath,"bottomInset",4)):this.addSpriteFrame(i,0,0,r.NativeTexture_getWidth(i),r.NativeTexture_getHeight(i))}},n.createSpriteFramesAsScale9=function(t,e,i,n,s){this.mIsScale9=!0;var a=r.NativeTexture_getWidth(t),o=r.NativeTexture_getHeight(t),x=e,u=a-i,c=s,l=o-n,h=a-e-i,m=o-n-s;this.addSpriteFrame(t,0,0,e,s),this.addSpriteFrame(t,x,0,h,s),this.addSpriteFrame(t,u,0,i,s),this.addSpriteFrame(t,0,c,e,m),this.addSpriteFrame(t,x,c,h,m),this.addSpriteFrame(t,u,c,i,m),this.addSpriteFrame(t,0,l,e,n),this.addSpriteFrame(t,x,l,h,n),this.addSpriteFrame(t,u,l,i,n)},n.addSpriteFrame=function(t,e,i,n,s){var a=r.NativeSpriteFrame_createWithTexture(t,e,i,n,s);this.mNativeSpriteFrames.push(a)},n.x1721113016797186854x=function(){null!==this.mNativeTextureResources&&(this.mNativeTextureResources.destroy(),this.mNativeTextureResources=null),t.prototype.x1721113016797186854x.call(this)},n.x2249892239750456702x=function(){for(var t=r.getNumFilePathPermutations(this.mFilePath),e=0;e<t;e++){var i=r.getFilePathPermutation(this.mFilePath,e),n=r.getFilePathPermutation(this.getResourceName(),e);this.getResourceMgr().addNativeTextureResource(n,this.getResourceGroupName(),i),this.mNativeTextureResources.pushBack(this.getResourceMgr().getNativeTextureResource(n))}},n.x1937515428629277026x=function(){},n.x485164082923534672x=function(){for(var t=this.mNativeTextureResources.getNumObjects(),e=0;e<t;e++){var i=this.mNativeTextureResources.getAtIndex(e);switch(this.getResourceMgr().getResourceStateWithId(i.getResourceId())){case o.x435844797934444114x:return o.x435844797934444114x;case o.x816060623491963128x:break;case o.x4409586630981676627x:case o.x170763479412772967x:case o.x2810067176957391831x:default:return o.x2810067176957391831x}}return this.createSpriteFrames(),o.x816060623491963128x},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3750285720313746912x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x850700817827885953x.ts","./x1442954324271535409x.ts","./x702435451033209193x.ts","./x3375026250715268596x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x850700817827885953x},function(t){r=t.x1442954324271535409x},function(t){s=t.x702435451033209193x},function(t){a=t.x3375026250715268596x}],execute:function(){i._RF.push({},"d5779pozMFK16/ZLCQvoq2o","x3750285720313746912x",void 0),t("x3750285720313746912x",function(t){function i(e,i,n,r,s){var a;return(a=t.call(this,e,i,n,r)||this).mFilePath=s,a.mNativeBitmapResourceId=0,a.mNativeTexture=null,a}e(i,t),i.x78051563000699619x=function(t){return s.stringToHash32("1353164259-"+t)};var n=i.prototype;return n.getNativeTexture=function(){return this.mNativeTexture},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},n.x2249892239750456702x=function(){this.mNativeBitmapResourceId=this.getResourceMgr().addNativeBitmapResource(this.getResourceName(),this.getResourceGroupName(),this.mFilePath)},n.x1937515428629277026x=function(){},n.x485164082923534672x=function(){switch(this.getResourceMgr().getResourceStateWithId(this.mNativeBitmapResourceId)){case a.x435844797934444114x:return a.x435844797934444114x;case a.x816060623491963128x:return this.mNativeTexture=r.NativeTexture_createWithBitmap(this.getResourceMgr().getNativeBitmap(this.getResourceName())),this.mNativeTexture?a.x816060623491963128x:a.x2810067176957391831x;case a.x4409586630981676627x:case a.x170763479412772967x:case a.x2810067176957391831x:default:return a.x2810067176957391831x}},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x1930801154962670888x.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"6e4008QKLNKVrV3AUllRzfX","x1930801154962670888x",void 0),t("x1930801154962670888x",function(){function t(){this.mIsDestroyed=!1,this.mRandomizedObjectId=~~(2147483647*Math.random())}t.safeDestroy=function(t){t&&t.destroy()};var i=t.prototype;return i.recycle=function(){return!this.mIsDestroyed&&this.x2241532792834576709x()},i.destroy=function(){this.mIsDestroyed||(this.x1721113016797186854x(),this.mIsDestroyed=!0)},i.isDestroyed=function(){return this.mIsDestroyed},i.getRandomizedObjectId=function(){return this.mRandomizedObjectId},i.x687444878156563588x=function(){return t.x3218218338100229793x},i.x2607134971181910524x=function(e){return e==t.x3218218338100229793x},i.x2241532792834576709x=function(){return!1},i.x1721113016797186854x=function(){},i.x3385998454822718298x=function(t){return 0},i.x4217507585807386070x=function(t){return 0},i.x3807633800690357000x=function(t){return t&&""!=t?null:this},i.x4574927063157401553x=function(e,i,n,r){switch(e){case t.x2580340477778594771x:return i;case t.x3793884777573381281x:return r;default:return 0}},e(t,null,[{key:"x2580340477778594771x",get:function(){return 657902611}},{key:"x2982972318080668761x",get:function(){return 141041035}},{key:"x3793884777573381281x",get:function(){return 488856084}},{key:"x4149106650117426330x",get:function(){return 619438977}},{key:"x1833525782337335420x",get:function(){return 2054803111}},{key:"x2599724495783728129x",get:function(){return 275155186}},{key:"x3218218338100229793x",get:function(){return 1177524419}}]),t}()),i._RF.pop()}}})),System.register("chunks:///_virtual/x2205868517935256955x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x3196398007076860870x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x},function(t){s=t.x3196398007076860870x}],execute:function(){n._RF.push({},"da115eeL/pM2YoYKhYf5yLC","x2205868517935256955x",void 0),t("x2205868517935256955x",function(t){function n(){var e;return(e=t.call(this)||this).mMessageListeners=null,e}e(n,t);var r=n.prototype;return r.addMessageListener=function(t){t&&(this.mMessageListeners||(this.mMessageListeners=new s(0)),this.mMessageListeners.containsObject(t)||this.mMessageListeners.pushBack(t))},r.removeMessageListener=function(t){this.mMessageListeners&&t&&this.mMessageListeners.removeObject(t)},r.removeAllMessageListeners=function(){this.mMessageListeners&&this.mMessageListeners.removeAll()},r.hasAnyMessageListeners=function(){return this.mMessageListeners&&this.mMessageListeners.getNumObjects()>0},r.dispatchMessage=function(t,e,i){if(this.mMessageListeners)for(var n=this.mMessageListeners.getNumObjects(),r=0;r<n;r++)this.mMessageListeners.getAtIndex(r).x601562840631873202x(t,e,i)},r.x601562840631873202x=function(t,e,i){},r.x4114393324539293585x=function(t,e,i,n){},r.x4362136013151176600x=function(t,e,i,n){},r.x2052535492842291814x=function(t,e,i,n){},r.x3291588524936336634x=function(t,e){},r.x2709359389131215735x=function(t,e,i){return!1},r.x3129901173839047052x=function(t,e,i){return!1},r.x982989056058830075x=function(t,e,i,n){return!1},r.x3700651796509435934x=function(t){return!1},r.x1928504666025035685x=function(t,e,i,n){return!1},r.x2299273512513595755x=function(t,e,i,n){return!1},r.x2403442620513516698x=function(t,e,i,n){return!1},r.x1886508681305638921x=function(t,e){return!1},r.x1721113016797186854x=function(){null!==this.mMessageListeners&&(this.mMessageListeners.destroy(),this.mMessageListeners=null),t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x3749940443783434633x",get:function(){return 873185495}},{key:"x1728791213671431913x",get:function(){return 186557458}},{key:"x2676455487978512954x",get:function(){return 1205460828}},{key:"x1265304804797134136x",get:function(){return 1657421263}},{key:"x3016960944049098382x",get:function(){return 889165261}},{key:"x1304570939290879199x",get:function(){return 1686554918}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3196398007076860870x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x}],execute:function(){i._RF.push({},"54681u6L4NMMrehnc3atEAD","x3196398007076860870x",void 0),t("x3196398007076860870x",function(t){function i(e){var i;if((i=t.call(this)||this).mObjects=new Array,e>0)for(i.mObjects.length=0;i.mObjects.length<e;)i.mObjects.push(null);return i}e(i,t);var n=i.prototype;return n.reserveCapacity=function(t){},n.getNumObjects=function(){return this.mObjects.length},n.getAtIndex=function(t){return this.mObjects[t]},n.setAtIndex=function(t,e){this.mObjects[t]=e},n.insertAtIndex=function(t,e){this.mObjects.splice(t,0,e)},n.removeAtIndex=function(t){this.mObjects.splice(t,1)},n.getObjectIndex=function(t){for(var e=this.getNumObjects(),i=0;i<e;i++)if(this.getAtIndex(i)==t)return i;return-1},n.setObjectIndex=function(t,e){var i=this.getNumObjects();if(1!=i){e<0?e=0:e>=i&&(e=i-1);var n=this.getObjectIndex(t);if(-1!=n&&n!=e){var r=0;for(r=n;r<i-1;r++)this.mObjects[r]=this.mObjects[r+1],this.mObjects[r+1]=null;for(r=i-1;r>e;r--)this.mObjects[r]=this.mObjects[r-1],this.mObjects[r-1]=null;this.mObjects[e]=t}}},n.containsObject=function(t){return this.getObjectIndex(t)>=0},n.removeObject=function(t){var e=this.getObjectIndex(t);e>=0&&this.removeAtIndex(e)},n.pushFront=function(t){this.mObjects.splice(0,0,t)},n.popFront=function(){this.mObjects.splice(0,1)},n.peekFront=function(){return this.mObjects[0]},n.pushBack=function(t){this.mObjects.push(t)},n.popBack=function(){this.mObjects.pop()},n.peekBack=function(){return this.mObjects[this.mObjects.length-1]},n.compactNullEntries=function(){for(var t=0,e=this.getNumObjects(),i=0;i<e;i++){var n=this.getAtIndex(i);if(n)t++;else for(var r=i+1;r<e;r++)(n=this.getAtIndex(r))&&(this.setAtIndex(i,n),this.setAtIndex(r,null),t++)}for(var s=e-t;s>0;)this.popBack(),s--},n.setAllToNull=function(){for(var t=0;t<this.mObjects.length;t++)this.mObjects[t]=null},n.removeAll=function(){this.mObjects.length=0},n.removeAllFromObjectsAsObjectArrays=function(){for(var t=this.getNumObjects(),e=0;e<t;e++){var i=this.getAtIndex(e);i&&i.removeAll()}},n.destroyAll=function(){for(var t=this.getNumObjects(),e=0;e<t;e++){var i=this.getAtIndex(e);null!==i&&(i.destroy(),i=null)}this.mObjects.length=0},n.destroyAllInObjectsAsObjectArrays=function(){for(var t=this.getNumObjects(),e=0;e<t;e++){var i=this.getAtIndex(e);i&&i.destroyAll()}},n.destroyAllAndResize=function(t){for(this.destroyAll(),this.getNumObjects(),this.mObjects.length=0;this.mObjects.length<t;)this.mObjects.push(null)},n.x2241532792834576709x=function(){return this.removeAll(),t.prototype.x2241532792834576709x.call(this),!0},n.x1721113016797186854x=function(){this.removeAll(),t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x2695390456455002218x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4604961113285727737x.ts","./x3196398007076860870x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x4604961113285727737x},function(t){r=t.x3196398007076860870x}],execute:function(){i._RF.push({},"1d4f0u60WZAtpHLFOpJ+hNv","x2695390456455002218x",void 0),t("x2695390456455002218x",function(t){function i(e,i){var n;return(n=t.call(this)||this).mArrayReserveCapacity=i,n.setAutoRefillCount(e),n.doAutoRefill(),n}e(i,t);var n=i.prototype;return n.x2654001756990893644x=function(t){var e=this.getAvailableObject();return e.destroyAllAndResize(t),e},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},n.x4237220466191330912x=function(){var t=new r(this.mArrayReserveCapacity);return t.reserveCapacity(this.mArrayReserveCapacity),t.destroyAllAndResize(0),t},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x4604961113285727737x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x3196398007076860870x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x},function(t){r=t.x3196398007076860870x}],execute:function(){i._RF.push({},"aa58bSrdC1DSK62mZlN0nbQ","x4604961113285727737x",void 0),t("x4604961113285727737x",function(t){function i(){var e;return(e=t.call(this)||this).mObjects=new r(0),e.mAutoRefillCount=0,e}e(i,t);var n=i.prototype;return n.createObjects=function(t){for(var e=0;e<t;e++){var i=this.x4237220466191330912x();i&&this.mObjects.pushBack(i)}},n.recycleObject=function(t){t&&(this.x3500939651941023781x(t),t.recycle()?this.mObjects.pushBack(t):null!==t&&(t.destroy(),t=null))},n.recycleObjectsInArray=function(t,e){if(t){for(var i=t.getNumObjects(),n=0;n<i;n++)this.recycleObject(t.getAtIndex(n)),t.setAtIndex(n,null);e&&t.removeAll()}},n.getNumAvailableObjects=function(){return this.mObjects.getNumObjects()},n.getAvailableObject=function(){if(0==this.mObjects.getNumObjects()&&this.doAutoRefill(),this.mObjects.getNumObjects()>0){var t=this.mObjects.peekBack();return this.mObjects.popBack(),t}return null},n.setAutoRefillCount=function(t){this.mAutoRefillCount=t,this.mObjects.reserveCapacity(this.mAutoRefillCount)},n.doAutoRefill=function(){if(!(this.mAutoRefillCount<=0)){var t=this.mAutoRefillCount-this.getNumAvailableObjects();this.createObjects(t)}},n.x4237220466191330912x=function(){return null},n.x3500939651941023781x=function(t){},n.x1721113016797186854x=function(){this.mObjects.destroyAll(),null!==this.mObjects&&(this.mObjects.destroy(),this.mObjects=null),t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x2891067215419038046x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3807920460184414210x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x3807920460184414210x}],execute:function(){i._RF.push({},"140a4bYtglDTaNemRd6cjQM","x2891067215419038046x",void 0),t("x2891067215419038046x",function(t){function i(){var e;return(e=t.call(this,n.x2234935847743629855x)||this).mValue=null,e.mIsObjectOwner=!1,e}e(i,t),i.getAvailableInstance=function(){i.sPool||(i.sPool=new Array);var t=null;return i.sPool.length>0?(t=i.sPool[i.sPool.length-1],i.sPool.pop()):t=new i,t},i.recycleAvailableInstance=function(t){i.sPool||(i.sPool=new Array),t.recycle(),i.sPool.push(t)},i.destroyPool=function(){if(i.sPool){for(var t=i.sPool.length,e=0;e<t;e++){var n=i.sPool[e];null!==n&&(n.destroy(),n=null)}null!==i.sPool&&(i.sPool=null)}};var r=i.prototype;return r.getValue=function(){return this.mValue},r.setValue=function(t,e){this.mIsObjectOwner&&null!==this.mValue&&(this.mValue.destroy(),this.mValue=null),this.mValue=t,this.mIsObjectOwner=e},r.setIsObjectOwner=function(t){this.mIsObjectOwner=t},r.x2241532792834576709x=function(){return t.prototype.x2241532792834576709x.call(this),this.setValue(null,!1),!0},r.x1721113016797186854x=function(){this.setValue(null,!1),t.prototype.x1721113016797186854x.call(this)},i}(n)).sPool=null,i._RF.pop()}}})),System.register("chunks:///_virtual/x880562797070432433x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x1930801154962670888x.ts","./x702435451033209193x.ts","./x3461623316906106937x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x1930801154962670888x},function(t){a=t.x702435451033209193x},function(t){o=t.x3461623316906106937x}],execute:function(){n._RF.push({},"ff21ct724hI24LtVVkKLtix","x880562797070432433x",void 0),t("x880562797070432433x",function(t){function n(e,i){return t.call(this,n.x568122050052276579x,r.x3700981341653593902x,e,a.x1012796168335938419x(n.x1902960440326634340x),i)||this}e(n,t);var x=n.prototype;return x.processState_active=function(t){var e=this.getPlayer().getMatrix(),i=this.getParams().getIntValue(n.x1945525069134571935x),s=this.getParams().getIntValue(n.x2287986175676173616x),o=this.getParams().getIntValue(n.x2189866844989563508x),x=this.getCurrentStateElapsedTimeMSEC(),u=i+s+o;if(x>=u)e.setObscurationFactor_FXPT(0),this.setNextState(r.x2345423266559458465x,!1);else{var c=this.getParams().getIntValue(n.x1269781872532380053x),l=this.getParams().getIntValue(n.x3129240225954247871x),h=this.getParams().getIntValue(n.x373387230878408045x),m=0,g=i+s,f=0,d=(x-i)%c,p=a.FXPTGetLerpFactor(a.FXPTFromInt(d),0,a.FXPTFromInt(c));x<i?f=a.FXPTGetLerpFactor(a.FXPTFromInt(x),a.FXPTFromInt(i),a.FXPTFromInt(0)):x>=g&&(f=a.FXPTGetLerpFactor(a.FXPTFromInt(x),a.FXPTFromInt(g),a.FXPTFromInt(u)));for(var S=e.getWidth(),y=0;y<S;y++){var P=a.x3167629350924187699x-a.FXPTGetLerpFactor(a.FXPTFromInt(y),0,a.FXPTFromInt(S)),I=a.loopInt(p+P,0,a.x3167629350924187699x);(I*=2)>a.x3167629350924187699x&&(I=a.x3167629350924187699x-(I-a.x3167629350924187699x)),m=a.FXPTLerp(h,l,I),m=a.FXPTLerp(m,0,f),e.setColumnObscurationFactor_FXPT(y,m)}}},x.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},x.x4048123437206285000x=function(){var t=this.getPlayer(),e=t.getMatrix();return(t.getCurrentState()===o.x226737526530541234x||t.getNextState()===o.x226737526530541234x)&&e.isStable()},x.x1762492116522425354x=function(){this.setCurrentState(r.x1169698474296864278x,0)},x.x4498870316303653116x=function(e,i,n,a){return i===r.x1169698474296864278x&&e===s.x3793884777573381281x?(this.processState_active(a),a):t.prototype.x4498870316303653116x.call(this,e,i,n,a)},i(n,null,[{key:"x568122050052276579x",get:function(){return 620779380}},{key:"x1269781872532380053x",get:function(){return 2066425965}},{key:"x373387230878408045x",get:function(){return 153186009}},{key:"x3129240225954247871x",get:function(){return 1107103559}},{key:"x1945525069134571935x",get:function(){return 179940333}},{key:"x2287986175676173616x",get:function(){return 745424144}},{key:"x2189866844989563508x",get:function(){return 1000974528}},{key:"x1902960440326634340x",get:function(){return"LDZMBMXDKAVDWPTNIBJNQARMOAPIBGIGQNIRMJZQBITEHTXJEOQFUQXEMLVOBQWMXPLMQQKDLPEDTHTLQHBLUORKCOPKWHJAMHXKJIROAHGTIPQHSLTTSLQTMPMNYIHIHQGLSPRLJQBSROMLBIULVDYNTCQHNHGDRGEPTJTNQJXGQKNGOKLGCPTBUNRLPDXJCSGKIRYNWLZSYGMPSKWOIKPODMMGYKXGPLLTDLWMXDAHFPEFFJCEUIWENCOKNRCECQZDAMXHUFXMUAVIGQTIQEMDDSLQBJZETHHFKHRKLHEFASLFUNTIKMJSUQAIJQGHKEUHRDSRNEWPCDDPADBLQCBQYLZPWHXPUHWPWQVMUQSIWDFINPFRNFBQSEQRNDBIGUVHUMLQKITPBCAPHBTOVLIELLSOXJHNUFRBCPRGCKPCAKXBYNVLRIKKGSGOISONQSCDKQQPILXOFHISAHBNWLZSMKPSKOERZNGKQOMKNOKKJMVEYLVJSFDJQBRNEMRIYFXG"}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3393034802217169555x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x}],execute:function(){i._RF.push({},"2976fnSncBGwZnJk/30sY1b","x3393034802217169555x",void 0),t("x3393034802217169555x",function(t){function i(){var e;return(e=t.call(this)||this).mIteratorIndex=-1,e}e(i,t);var n=i.prototype;return n.startIterating=function(){this.mIteratorIndex=0,this.x2033860288639419121x()},n.isIteratorValid=function(){return this.mIteratorIndex>=0&&!this.x160513729297198725x(this.mIteratorIndex)&&(this.mIteratorIndex=-1),this.mIteratorIndex>=0},n.advanceIterator=function(){this.isIteratorValid()&&this.mIteratorIndex++},n.invalidateIterator=function(){this.mIteratorIndex=-1},n.getCurrentX=function(){return this.isIteratorValid()?this.x3200154973422099298x(this.mIteratorIndex):0},n.getCurrentY=function(){return this.isIteratorValid()?this.x2644137728337727973x(this.mIteratorIndex):0},n.x2033860288639419121x=function(){},n.x160513729297198725x=function(t){return!1},n.x3200154973422099298x=function(t){return 0},n.x2644137728337727973x=function(t){return 0},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x92134405204892650x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x349179295227638153x.ts","./x3196398007076860870x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x2205868517935256955x},function(t){r=t.x349179295227638153x},function(t){s=t.x3196398007076860870x}],execute:function(){i._RF.push({},"7a1b7/czoFE4reOsZ4emDhl","x92134405204892650x",void 0),t("x92134405204892650x",function(t){function i(e){var i;i=t.call(this)||this;var n=e.getNumMinos();i.mPieceDefinition=e,i.mMinos=new s(n),i.mX=0,i.mY=0,i.mFacing=0;for(var a=0;a<n;a++){var o=i.mPieceDefinition.getMino(a),x=new r;x.setMinoTypeId(e.getTypeId()),x.setPosition(o.mX,o.mY),x.setStickyBits(o.mStickyBits),i.mMinos.setAtIndex(a,x)}return i}e(i,t);var n=i.prototype;return n.createCopy=function(){return new i(this.mPieceDefinition)},n.getPieceDefinition=function(){return this.mPieceDefinition},n.getPieceTypeName=function(){return this.mPieceDefinition.getTypeName()},n.getPieceTypeId=function(){return this.mPieceDefinition.getTypeId()},n.getX=function(){return this.mX},n.getY=function(){return this.mY},n.getFacing=function(){return this.mFacing},n.setTransform=function(t,e,i){if(this.mX!=t||this.mY!=e||this.mFacing!=i){var n=this.mPieceDefinition.getFirstValidPieceForFacing(i);if(n){this.mX=t,this.mY=e,this.mFacing=i;for(var r=this.getNumMinos(),s=0;s<r;s++){var a=this.getMinoAtIndex(s);a.setPosition(t+n.getMinoXInPiece(s),e+n.getMinoYInPiece(s)),a.setStickyBits(n.getMinoStickyBits(s))}}}},n.getLocalCenterX_FXPT=function(){var t=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return t?this.mX-t.mX+t.mLocalCenterX_FXPT:0},n.getLocalCenterY_FXPT=function(){var t=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return t?this.mY-t.mY+t.mLocalCenterY_FXPT:0},n.getMinMinoX=function(){var t=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return t?this.mX-t.mX+t.mMinMinoX:0},n.getMaxMinoX=function(){var t=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return t?this.mX-t.mX+t.mMaxMinoX:0},n.getMinMinoY=function(){var t=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return t?this.mY-t.mY+t.mMinMinoY:0},n.getMaxMinoY=function(){var t=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return t?this.mY-t.mY+t.mMaxMinoY:0},n.getNumRows=function(){var t=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return t?t.getNumRows():0},n.getNumColumns=function(){var t=this.mPieceDefinition.getFirstValidPieceForFacing(this.mFacing);return t?t.getNumColumns():0},n.getColumnXInMatrix=function(t){var e=this.mPieceDefinition.getPiece(this.mX,this.mY,this.mFacing);return e?e.getColumnXInMatrix(t):0},n.getColumnMinYInMatrix=function(t){var e=this.mPieceDefinition.getPiece(this.mX,this.mY,this.mFacing);return e?e.getColumnMinYInMatrix(t):0},n.getColumnMaxYInMatrix=function(t){var e=this.mPieceDefinition.getPiece(this.mX,this.mY,this.mFacing);return e?e.getColumnMaxYInMatrix(t):0},n.getNumMinos=function(){return this.mMinos.getNumObjects()},n.getMinoAtIndex=function(t){return this.mMinos.getAtIndex(t)},n.setMinosLogicalState=function(t){for(var e=this.getNumMinos(),i=0;i<e;i++)this.getMinoAtIndex(i).setLogicalState(t)},n.setMinosLogicalStateTween_FXPT=function(t){for(var e=this.getNumMinos(),i=0;i<e;i++)this.getMinoAtIndex(i).setLogicalStateTween_FXPT(t)},n.removeAllMinos=function(){this.mMinos.removeAll()},n.x1721113016797186854x=function(){this.mPieceDefinition=null,this.mMinos.destroyAll(),null!==this.mMinos&&(this.mMinos.destroy(),this.mMinos=null),t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x1420616482037214709x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3353362216290930466x.ts","./x4127996380524714105x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x3353362216290930466x},function(t){r=t.x4127996380524714105x},function(t){s=t.x702435451033209193x}],execute:function(){i._RF.push({},"0d321HIhthA1b2Qi7M7xauQ","x1420616482037214709x",void 0),t("x1420616482037214709x",function(t){function i(){var e;return(e=t.call(this)||this).mRefillValues=new Array,e.mBagContents=new Array,e.mSequenceContents=new Array,e.mRefillMultiplier=1,e.mNumRandomRefillExtrasPerBag=0,e.mIsOrderRandom=!0,e.mRNG=new r,e}e(i,t);var n=i.prototype;return n.addPieceIdToRefillValues=function(t){this.mRefillValues.push(t)},n.setPieceIdRefillValues=function(t){this.clearRefillValues(),s.copyNativeIntVector(t,this.mRefillValues)},n.setPieceIdRefillValuesWithPieceNamesArray=function(t){this.clearRefillValues();for(var e=t.getNumValues(),i=0;i<e;i++){var n=t.getStringValueAtIndex(i);"x"==n?this.mNumRandomRefillExtrasPerBag++:this.addPieceIdToRefillValues(s.getStandardPieceTypeId(n))}},n.setPieceIdRefillValuesWithPieceNamesList=function(t){this.clearRefillValues();for(var e=s.numItemsInStringList(t),i=0;i<e;i++){var n=s.stringListItemAtIndex(t,i);"x"==n?this.mNumRandomRefillExtrasPerBag++:this.addPieceIdToRefillValues(s.getStandardPieceTypeId(n))}},n.clearRefillValues=function(){this.mNumRandomRefillExtrasPerBag=0,this.mRefillValues.length=0},n.setRefillMultiplier=function(t){this.mRefillMultiplier=t},n.setRNGSeed=function(t){this.mIsOrderRandom=-1!=t,this.mRNG.setSeed(t)},n.setSequenceWithPieceNamesList=function(t){this.mSequenceContents.length=0;for(var e=s.numItemsInStringList(t)-1;e>=0;e--){var i=s.stringListItemAtIndex(t,e);if("x"==i){var n=this.mRefillValues.length,r=this.mRNG.nextInt()%n;this.mSequenceContents.push(this.mRefillValues[r])}else this.mSequenceContents.push(s.getStandardPieceTypeId(i))}},n.x1721113016797186854x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),t.prototype.x1721113016797186854x.call(this)},n.x3119503004258896083x=function(t){var e=0;if(this.mSequenceContents.length>0)return e=this.mSequenceContents[this.mSequenceContents.length-1],this.mSequenceContents.pop(),e;if(0==this.mBagContents.length){var i=0;if(this.mRefillMultiplier>0?i=this.mRefillMultiplier:this.mRefillMultiplier<0?0==t&&(i=-this.mRefillMultiplier):0==t&&(i=1),i>0)for(var n=this.mRefillValues.length,r=0;r<i;r++){for(var s=n-1;s>=0;s--)this.mBagContents.push(this.mRefillValues[s]);for(var a=0;a<this.mNumRandomRefillExtrasPerBag;a++){var o=this.mRNG.nextInt()%n;this.mBagContents.push(this.mRefillValues[o])}}}var x=this.mBagContents.length;if(x>0){var u=0;return this.mIsOrderRandom?(u=this.mRNG.nextInt()%x,e=this.mBagContents[u],0!=this.mRefillMultiplier&&this.mBagContents.splice(u,1),e):0==this.mRefillMultiplier?(u=x-1-t%x,e=this.mBagContents[u]):(u=x-1,e=this.mBagContents[u],this.mBagContents.pop(),e)}return 0},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x2555157633242097915x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x92134405204892650x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x},function(t){r=t.x92134405204892650x}],execute:function(){i._RF.push({},"9e51eFVapFPOY1tXYbSPQtf","x2555157633242097915x",void 0),t("x2555157633242097915x",function(t){function i(){var e;return(e=t.call(this)||this).mPieceData=null,e}e(i,t);var n=i.prototype;return n.getPieceData=function(){return this.mPieceData},n.setPieceData=function(t){this.mPieceData=t},n.x1559524257876316648x=function(t,e){var i=this.mPieceData.getPieceDefinition(t);return i?new r(i):null},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x1784166390312374285x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x349179295227638153x.ts","./x3196398007076860870x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x},function(t){r=t.x349179295227638153x},function(t){s=t.x3196398007076860870x}],execute:function(){i._RF.push({},"1b90cU4Bo5NB6cElLHgYH9R","x1784166390312374285x",void 0),t("x1784166390312374285x",function(t){function i(e){var i;return(i=t.call(this)||this).mPieceSequenceGenerator=null,i.mCapacity=0,i.mPieceInitialFacing=e,i.mPieces=new s(0),i.mRemainingNumPieceFills=-1,i.mIsFillingEnabled=!0,i}e(i,t);var n=i.prototype;return n.getPieceSequenceGenerator=function(){return this.mPieceSequenceGenerator},n.setPieceSequenceGenerator=function(t){this.mPieceSequenceGenerator=t},n.getCapacity=function(){return this.mCapacity},n.setCapacity=function(t){this.mPieces.reserveCapacity(t),this.mCapacity=t},n.fillToCapacity=function(){this.fillToNumPieces(this.mCapacity)},n.fillToNumPieces=function(t){this.fillWithNumPieces(t-this.getNumPieces())},n.fillWithNumPieces=function(t){if(this.mIsFillingEnabled)for(;t>0&&this.getNumPieces()<this.mCapacity&&0!=this.mRemainingNumPieceFills;){var e=this.mPieceSequenceGenerator.generateNextPiece();e.setMinosLogicalState(r.x2307441568472904081x),e.setTransform(0,0,this.mPieceInitialFacing),this.mPieces.pushBack(e),this.mRemainingNumPieceFills>0&&this.mRemainingNumPieceFills--,t--}},n.clear=function(){for(var t=this.popFront();t;)null!==t&&(t.destroy(),t=null),t=this.popFront()},n.getNumPieces=function(){return this.mPieces.getNumObjects()},n.getPieceAtIndex=function(t){return t<this.getNumPieces()?this.mPieces.getAtIndex(t):null},n.popFront=function(){if(this.getNumPieces()>0){var t=this.getPieceAtIndex(0);return this.mPieces.popFront(),t}return null},n.setRemainingNumPieceFills=function(t){this.mRemainingNumPieceFills=t},n.setIsFillingEnabled=function(t){this.mIsFillingEnabled=t},n.x1721113016797186854x=function(){this.mPieces.destroyAll(),null!==this.mPieces&&(this.mPieces.destroy(),this.mPieces=null),t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3353362216290930466x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x}],execute:function(){i._RF.push({},"dcfa7NIloxA261CIeuuvA9b","x3353362216290930466x",void 0),t("x3353362216290930466x",function(t){function i(){var e;return(e=t.call(this)||this).mPieceFactory=null,e.mGenerationIndex=0,e}e(i,t);var n=i.prototype;return n.setPieceFactory=function(t){this.mPieceFactory=t},n.getGenerationIndex=function(){return this.mGenerationIndex},n.generateNextPiece=function(){var t=this.x3119503004258896083x(this.mGenerationIndex);return this.mPieceFactory.x1559524257876316648x(t,this.mGenerationIndex)},n.x3119503004258896083x=function(t){return 0},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x798347270567386436x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x940197673366484397x.ts","./x3693760142138385085x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x31903653904479621x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x940197673366484397x},function(t){s=t.x3693760142138385085x},function(t){a=t.x1930801154962670888x},function(t){o=t.x3196398007076860870x},function(t){x=t.x702435451033209193x},function(t){u=t.x31903653904479621x}],execute:function(){n._RF.push({},"eb633LuI0FLY6+9zUGC3wJM","x798347270567386436x",void 0),t("x798347270567386436x",function(t){function n(e,i,n){var r;return(r=t.call(this,0,null)||this).mParams=new s(!0),r.mPlayerId=e,r.mPlayerIndex=i,r.mGame=n,r.mDidConstruct=!1,r.mComponents=new o(0),r.mPendingActionsQueueMaxSize=1,r.mPendingActionsQueue=new o(0),r.mAutoActivatePendingActionsQueue=!0,r.mActions=new o(0),r.x2894909271713930867x=new s(!1),r}e(n,t);var r=n.prototype;return r.construct=function(){this.mDidConstruct||(this.x3540024188517731693x(),this.mDidConstruct=!0)},r.getParams=function(){return this.mParams},r.getPlayerId=function(){return this.mPlayerId},r.getPlayerIndex=function(){return this.mPlayerIndex},r.getGame=function(){return this.mGame},r.addComponentWithParams=function(t,e){var i=this.x2137809707598738194x(t,e);return i&&this.addComponent(i),i},r.addComponent=function(t){this.mComponents.pushBack(t)},r.getComponent=function(t){for(var e=this.mComponents.getNumObjects(),i=0;i<e;i++){var n=this.mComponents.getAtIndex(i);if(n.getComponentId()==t)return n}return null},r.getNumComponents=function(){return this.mComponents.getNumObjects()},r.getComponentAtIndex=function(t){return this.mComponents.getAtIndex(t)},r.addMessageListenerToComponents=function(t){for(var e=this.mComponents.getNumObjects(),i=0;i<e;i++)this.mComponents.getAtIndex(i).addMessageListener(t)},r.removeMessageListenerFromComponents=function(t){for(var e=this.mComponents.getNumObjects(),i=0;i<e;i++)this.mComponents.getAtIndex(i).removeMessageListener(t)},r.getAutoActivatePendingActionsQueue=function(){return this.mAutoActivatePendingActionsQueue},r.setAutoActivatePendingActionsQueue=function(t){this.mAutoActivatePendingActionsQueue=t},r.setPendingActionsQueueMaxSize=function(t){this.mPendingActionsQueueMaxSize=t,this.updatePendingActionsQueueSize()},r.enqueuePendingAction=function(t){this.mPendingActionsQueue.pushBack(t),this.x2894909271713930867x.setObjectValue(n.x2102628685640881757x,t),this.dispatchMessage(n.x1277176230042833576x,this,this.x2894909271713930867x),this.updatePendingActionsQueueSize(),this.mAutoActivatePendingActionsQueue&&this.tryActivateNextQueuedPendingAction()},r.getNextQueuedPendingAction=function(){return this.mPendingActionsQueue.getNumObjects()>0?this.mPendingActionsQueue.peekFront():null},r.tryActivateNextQueuedPendingAction=function(){if(this.mPendingActionsQueue.getNumObjects()>0){var t=this.mPendingActionsQueue.peekFront();t.tryActivate(t.getActivationMatrixX(),t.getActivationMatrixY())&&this.mPendingActionsQueue.popFront()}},r.dispatchActionSpawnedMessage=function(t){this.x2894909271713930867x.setObjectValue(n.x1997346734813325818x,t),this.dispatchMessage(n.x1343342519347217457x,this,this.x2894909271713930867x),this.x2894909271713930867x.clearObjectValues()},r.dispatchActionPreActivatedMessage=function(t){this.x2894909271713930867x.setObjectValue(n.x3323653632518506487x,t),this.dispatchMessage(n.x1525811004581138022x,this,this.x2894909271713930867x),this.x2894909271713930867x.clearObjectValues()},r.activateAndManageAction=function(t){switch(t.getConcurrencyType()){case u.x3453838725226529849x:break;case u.x1002207312953745111x:case u.x3700981341653593902x:var e=0,i=this.mActions.getNumObjects(),r=null,s=t.getActionId();switch(t.getConcurrencyType()){case u.x1002207312953745111x:for(e=0;e<i;e++)if(!(r=this.mActions.getAtIndex(e)).isComplete()&&r.getActionId()==s){t._cancel();break}break;case u.x3700981341653593902x:for(e=0;e<i;e++)if(!(r=this.mActions.getAtIndex(e)).isComplete()&&r.getActionId()==s){r._cancel();break}}}this.mActions.pushBack(t),t.isComplete()||(t._activate(),this.x2894909271713930867x.setObjectValue(n.x3044825115508512875x,t),this.dispatchMessage(n.x593103829868600629x,this,this.x2894909271713930867x),this.x2894909271713930867x.clearObjectValues())},r.askComponentsIfPlayerCanExitState=function(t){for(var e=this.mComponents.getNumObjects(),i=0;i<e;i++)if(!this.mComponents.getAtIndex(i).x4370941190603982559x(t))return!1;return!0},r.askComponentsIfPlayerCanEndGame=function(t){for(var e=this.mComponents.getNumObjects(),i=0;i<e;i++)if(!this.mComponents.getAtIndex(i).x3130238479305540278x(t))return!1;return!0},r.processComponents=function(t){for(var e=this.mComponents.getNumObjects(),i=0;i<e;i++)this.mComponents.getAtIndex(i).processTime(t)},r.processActions=function(t){this.mPendingActionsQueue.getNumObjects()>0&&(s=this.mPendingActionsQueue.peekFront()).didTryActivate()&&this.tryActivateNextQueuedPendingAction();for(var e=!1,i=this.mActions.getNumObjects(),r=0;r<i;r++){var s;(s=this.mActions.getAtIndex(r)).processTime(t),s.isComplete()&&(this.x2894909271713930867x.setObjectValue(n.x2564453184714498637x,s),this.dispatchMessage(n.x2260314614005639254x,this,this.x2894909271713930867x),this.x2894909271713930867x.clearObjectValues(),this.mActions.setAtIndex(r,null),null!==s&&(s.destroy(),s=null),e=!0)}e&&this.mActions.compactNullEntries()},r.updatePendingActionsQueueSize=function(){for(;this.mPendingActionsQueue.getNumObjects()>this.mPendingActionsQueueMaxSize;){var t=this.mPendingActionsQueue.peekFront();this.mPendingActionsQueue.popFront(),null!==t&&(t.destroy(),t=null)}},r.x3540024188517731693x=function(){},r.x2137809707598738194x=function(t,e){return null},r.x1721113016797186854x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),this.mComponents.destroyAll(),null!==this.mComponents&&(this.mComponents.destroy(),this.mComponents=null),this.mPendingActionsQueue.destroyAll(),null!==this.mPendingActionsQueue&&(this.mPendingActionsQueue.destroy(),this.mPendingActionsQueue=null),this.mActions.destroyAll(),null!==this.mActions&&(this.mActions.destroy(),this.mActions=null),null!==this.x2894909271713930867x&&(this.x2894909271713930867x.destroy(),this.x2894909271713930867x=null),t.prototype.x1721113016797186854x.call(this)},r.x4498870316303653116x=function(t,e,i,n){switch(t){case a.x2580340477778594771x:return e;case a.x2982972318080668761x:return 0;case a.x3793884777573381281x:return this.processComponents(n),this.processActions(n),n;case a.x4149106650117426330x:default:return 0}},r.x3807633800690357000x=function(e){switch(x.getFirstValueKeyInPath(e)){case n.x1130717480205930980x:return this.x3807633800690357000x(x.chompToNextItemInPath(e));case n.x4258932635300101504x:e=x.chompToNextItemInPath(e);var i=x.getFirstValueKeyInPath(e),r=this.getComponent(i);return r?r.x3807633800690357000x(x.chompToNextItemInPath(e)):null;default:return t.prototype.x3807633800690357000x.call(this,e)}},i(n,null,[{key:"x1130717480205930980x",get:function(){return 65853458}},{key:"x4258932635300101504x",get:function(){return 1136936839}},{key:"x1277176230042833576x",get:function(){return 201095054}},{key:"x2102628685640881757x",get:function(){return 1076778727}},{key:"x1343342519347217457x",get:function(){return 253778376}},{key:"x1997346734813325818x",get:function(){return 1076778727}},{key:"x1525811004581138022x",get:function(){return 1419743013}},{key:"x3323653632518506487x",get:function(){return 1076778727}},{key:"x593103829868600629x",get:function(){return 1214876754}},{key:"x3044825115508512875x",get:function(){return 1076778727}},{key:"x2260314614005639254x",get:function(){return 1941985592}},{key:"x2564453184714498637x",get:function(){return 1076778727}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x31903653904479621x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x940197673366484397x.ts","./x3693760142138385085x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x940197673366484397x},function(t){s=t.x3693760142138385085x}],execute:function(){n._RF.push({},"5eb10jWjp1I1a/z1mILg7dd","x31903653904479621x",void 0),t("x31903653904479621x",function(t){function n(e,i,r,a,o){var x;return(x=t.call(this,n.x1354666759423916142x,null)||this).mActionId=e,x.mConcurrencyType=i,x.mParams=new s(!0),a&&""!=a&&x.mParams.parseJSONString(a,!1,!1),o&&x.mParams.copy(o,!1),x.mPlayer=r,x.mSpawnedMatrixX=0,x.mSpawnedMatrixY=0,x.mActivationTries=0,x.mActivationMatrixX=0,x.mActivationMatrixY=0,x.mDidActivate=!1,x.mCustomData1=0,x.mMessageData=null,x}e(n,t);var r=n.prototype;return r.getActionId=function(){return this.mActionId},r.getParams=function(){return this.mParams},r.getPlayer=function(){return this.mPlayer},r.getConcurrencyType=function(){return this.mConcurrencyType},r.getCustomData1=function(){return this.mCustomData1},r.setCustomData1=function(t){this.mCustomData1=t},r.getSpawnedMatrixX=function(){return this.mSpawnedMatrixX},r.getSpawnedMatrixY=function(){return this.mSpawnedMatrixY},r.setSpawnedMatrixPosition=function(t,e){this.mSpawnedMatrixX=t,this.mSpawnedMatrixY=e},r.tryActivate=function(t,e){return this.getCurrentState()==n.x1354666759423916142x&&(this.mActivationMatrixX=t,this.mActivationMatrixY=e,this.x4048123437206285000x()?(this.mPlayer.activateAndManageAction(this),!0):(0==this.mActivationTries&&this.mPlayer.dispatchActionPreActivatedMessage(this),this.mActivationTries++,!1))},r.getActivationMatrixX=function(){return this.mActivationMatrixX},r.getActivationMatrixY=function(){return this.mActivationMatrixY},r.setActivationMatrixPosition=function(t,e){this.mActivationMatrixX=t,this.mActivationMatrixY=e},r.didTryActivate=function(){return this.mActivationTries>0},r.didActivate=function(){return this.mDidActivate},r.isComplete=function(){return this.getCurrentState()==n.x2345423266559458465x},r._activate=function(){this.mDidActivate||(this.mDidActivate=!0,this.x1762492116522425354x())},r._cancel=function(){this.mDidActivate&&(this.x1944610731612849851x(),this.setCurrentState(n.x2345423266559458465x,0))},r.getMessageData=function(){return this.mMessageData||(this.mMessageData=new s(!1)),this.mMessageData},r.x4048123437206285000x=function(){return!0},r.x1762492116522425354x=function(){this.setCurrentState(n.x2345423266559458465x,0)},r.x1944610731612849851x=function(){},r.x1721113016797186854x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x1354666759423916142x",get:function(){return 1524848358}},{key:"x1169698474296864278x",get:function(){return 713161411}},{key:"x2345423266559458465x",get:function(){return 885080214}},{key:"x3453838725226529849x",get:function(){return 1}},{key:"x1002207312953745111x",get:function(){return 2}},{key:"x3700981341653593902x",get:function(){return 3}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3339987402386958992x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x940197673366484397x.ts","./x3693760142138385085x.ts","./x1930801154962670888x.ts","./x4474588899120617551x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x940197673366484397x},function(t){s=t.x3693760142138385085x},function(t){a=t.x1930801154962670888x},function(t){o=t.x4474588899120617551x},function(t){x=t.x702435451033209193x}],execute:function(){n._RF.push({},"3fb4ciMpA9J8ZgRK3stITbU","x3339987402386958992x",void 0),t("x3339987402386958992x",function(t){function n(e,i){var n;return(n=t.call(this,0,null)||this).mParams=new s(!0),n.mComponentId=e,n.mPlayer=i,n.mTimerMgr=new o,n}e(n,t);var r=n.prototype;return r.getParams=function(){return this.mParams},r.getComponentId=function(){return this.mComponentId},r.getPlayer=function(){return this.mPlayer},r.getPlayerIndex=function(){return this.mPlayer.getPlayerIndex()},r.getGame=function(){return this.mPlayer?this.mPlayer.getGame():null},r.startTimer=function(t,e,i){this.mTimerMgr.startTimer(t,e,i)},r.resetTimer=function(t){this.mTimerMgr.resetTimer(t)},r.cancelTimer=function(t){this.mTimerMgr.cancelTimer(t)},r.cancelAllTimers=function(){this.mTimerMgr.cancelAllTimers()},r.x4370941190603982559x=function(t){return!0},r.x3130238479305540278x=function(t){return!0},r.x1721113016797186854x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mTimerMgr&&(this.mTimerMgr.destroy(),this.mTimerMgr=null),t.prototype.x1721113016797186854x.call(this)},r.x4498870316303653116x=function(t,e,i,n){switch(this.mTimerMgr.processTimeMSEC(n),t){case a.x2580340477778594771x:return e;case a.x2982972318080668761x:return 0;case a.x3793884777573381281x:return n;case a.x4149106650117426330x:default:return 0}},r.x4217507585807386070x=function(t){return x.getFirstValueKeyInPath(t)===n.x1130717480205930980x?this.getPlayer().x4217507585807386070x(x.chompToNextItemInPath(t)):0},i(n,null,[{key:"x1130717480205930980x",get:function(){return 65853458}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1734189169196685004x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x4127996380524714105x.ts","./x3461623316906106937x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x1930801154962670888x},function(t){a=t.x3196398007076860870x},function(t){o=t.x702435451033209193x},function(t){x=t.x4127996380524714105x},function(t){u=t.x3461623316906106937x}],execute:function(){n._RF.push({},"393a5jpTfRD5Jumn+DPwyQ2","x1734189169196685004x",void 0),t("x1734189169196685004x",function(t){function n(e,i){var s;return(s=t.call(this,n.x3730400382218827790x,r.x3700981341653593902x,e,o.x1012796168335938419x(n.x1902960440326634340x),i)||this).mRNG=new x,s.mScratchRowMinosArray=new a(0),s.mScratchMinosArray=new a(0),s.mStepTimerMSEC=0,s}e(n,t);var c=n.prototype;return c.setRNGSeed=function(t){0==t&&(t=o.nextNativeRandomInt()),this.mRNG.setSeed(t)},c.processState_active=function(t){var e=this.getPlayer().getMatrix();if(this.mScratchMinosArray.getNumObjects()>0&&(this.mStepTimerMSEC-=t,this.mStepTimerMSEC<=0)){this.mStepTimerMSEC+=this.getParams().getIntValue(n.x1407488916905018773x);var i=this.mScratchMinosArray.getAtIndex(0);this.getMessageData().setObjectValue(n.x309529847962487067x,i),this.getPlayer().dispatchMessage(n.x3280829469047158568x,this,this.getMessageData()),this.getMessageData().clearObjectValues(),e.killMino(i,this.getParams().getIntValue(n.x3011908716088212806x),!0),this.mScratchMinosArray.removeAtIndex(0)}0==this.mScratchMinosArray.getNumObjects()&&(e.popDestabilize(),e.popMovementDisabled(),this.setNextState(r.x2345423266559458465x,!1))},c.x1721113016797186854x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),null!==this.mScratchRowMinosArray&&(this.mScratchRowMinosArray.destroy(),this.mScratchRowMinosArray=null),null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x1721113016797186854x.call(this)},c.x4048123437206285000x=function(){var t=this.getPlayer(),e=t.getMatrix();return(t.getCurrentState()===u.x226737526530541234x||t.getNextState()===u.x226737526530541234x)&&e.isStable()},c.x1762492116522425354x=function(){this.mStepTimerMSEC=0;var t=this.getPlayer().getMatrix(),e=this.getParams().getIntValue(n.x358782613981024727x);this.mScratchMinosArray.removeAll(),this.mScratchMinosArray.reserveCapacity(e);var i=t.getWidth();this.mScratchRowMinosArray.reserveCapacity(i);var s=t.getHighestMinoY(),a=0;a=this.getParams().getBoolValue(n.x1354211976484719704x)?s+1-e:0;for(var x=o.minInt(a+e-1,s),u=a;u<=x;u++){this.mScratchRowMinosArray.removeAll(),t.getMinosInRect(0,u,i,1,this.mScratchRowMinosArray);var c=this.mScratchRowMinosArray.getNumObjects();if(c>0){var l=this.mRNG.nextIntInRange(0,c-1);this.mScratchMinosArray.pushBack(this.mScratchRowMinosArray.getAtIndex(l))}this.mScratchRowMinosArray.removeAll()}t.pushDestabilize(),t.pushMovementDisabled(),this.setCurrentState(r.x1169698474296864278x,0)},c.x4498870316303653116x=function(e,i,n,a){return i===r.x1169698474296864278x&&e===s.x3793884777573381281x?(this.processState_active(a),a):t.prototype.x4498870316303653116x.call(this,e,i,n,a)},i(n,null,[{key:"x3730400382218827790x",get:function(){return 372255306}},{key:"x1354211976484719704x",get:function(){return 1714318638}},{key:"x358782613981024727x",get:function(){return 1617420701}},{key:"x3011908716088212806x",get:function(){return 2139584221}},{key:"x1407488916905018773x",get:function(){return 808890794}},{key:"x3280829469047158568x",get:function(){return 69334705}},{key:"x309529847962487067x",get:function(){return 1485075374}},{key:"x1902960440326634340x",get:function(){return"AEDLFKRCRPVFASEQYRCPNSZOISMLTQXPFMUPVHOMPQCMDKSFLILQZINPLLXOFRAMSQYHOLNUSOZSEIDMVBUGVNJKJOGKZHUJQFQKKJRMJFLRYNBGPJGSPIBSCOBLQGJFMNHJLLWIHLNOJFUIVDRL"}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x2092587468266470742x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x3461623316906106937x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x1930801154962670888x},function(t){a=t.x3196398007076860870x},function(t){o=t.x702435451033209193x},function(t){x=t.x3461623316906106937x}],execute:function(){n._RF.push({},"99cd9GxvlxMP4Z7q5YwGRWM","x2092587468266470742x",void 0),t("x2092587468266470742x",function(t){function n(e,i){var s;return(s=t.call(this,n.x4562906994610874993x,r.x3700981341653593902x,e,o.x1012796168335938419x(n.x1902960440326634340x),i)||this).mStepTimerMSEC=0,s.mScratchMinosArray=new a(0),s.mIsToCenter=!0,s}e(n,t);var u=n.prototype;return u.isToCenter=function(){return this.mIsToCenter},u.processState_active=function(t){var e=this.getPlayer().getMatrix(),i=this.getParams().getIntValue(n.x1407488916905018773x),s=e.getWidth(),a=e.getHeight(),x=~~(s/2),u=this.mIsToCenter?o.x4374508417979542563x:o.x1751838633768770123x,c=s-x,l=o.getOppositeDirection(u);if(this.mStepTimerMSEC-=t,this.mStepTimerMSEC<=0&&(this.mStepTimerMSEC+=i,e.moveMinosInRect(0,0,x,a,u),e.moveMinosInRect(c,0,x,a,l),e.setMinosVisualAnimationOffsetX_FXPT(0),e.canMoveMinosInRect(0,0,x,a,u)||e.canMoveMinosInRect(c,0,x,a,l)||(e.setMinosVisualAnimationOffsetX_FXPT(0),e.popDestabilize(),e.popMovementDisabled(),this.setNextState(r.x2345423266559458465x,!1))),this.getNextState()!=r.x2345423266559458465x){var h=o.FXPTGetLerpFactor(o.FXPTFromInt(this.mStepTimerMSEC),o.FXPTFromInt(i),0),m=0,g=0,f=h;for(u==o.x1751838633768770123x&&(f*=-1),this.mScratchMinosArray.removeAll(),e.findMovableMinosInRect(0,0,x,a,u,this.mScratchMinosArray),g=this.mScratchMinosArray.getNumObjects(),m=0;m<g;m++)this.mScratchMinosArray.getAtIndex(m).setVisualAnimationOffsetX_FXPT(f);var d=h;for(l==o.x1751838633768770123x&&(d*=-1),this.mScratchMinosArray.removeAll(),e.findMovableMinosInRect(c,0,x,a,l,this.mScratchMinosArray),g=this.mScratchMinosArray.getNumObjects(),m=0;m<g;m++)this.mScratchMinosArray.getAtIndex(m).setVisualAnimationOffsetX_FXPT(d);this.mScratchMinosArray.removeAll()}},u.x1721113016797186854x=function(){null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x1721113016797186854x.call(this)},u.x4048123437206285000x=function(){var t=this.getPlayer(),e=t.getMatrix();return(t.getCurrentState()===x.x226737526530541234x||t.getNextState()===x.x226737526530541234x)&&e.isStable()},u.x1762492116522425354x=function(){var t=this.getPlayer().getMatrix();switch(t.pushDestabilize(),t.pushMovementDisabled(),o.stringToHash32(this.getParams().getStringValue(n.x743225472589137820x))){case n.x1018927775228998582x:this.mIsToCenter=!0;break;case n.x4506742202394287979x:this.mIsToCenter=!1;break;case n.x3331163618134742705x:var e=t.getWidth(),i=t.getHeight(),s=~~(e/2),a=e-s,x=0;this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(0,0,s,i,o.x4374508417979542563x,this.mScratchMinosArray),x+=this.mScratchMinosArray.getNumObjects(),this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(a,0,s,i,o.x1751838633768770123x,this.mScratchMinosArray),x+=this.mScratchMinosArray.getNumObjects();var u=0;this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(0,0,s,i,o.x1751838633768770123x,this.mScratchMinosArray),u+=this.mScratchMinosArray.getNumObjects(),this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(a,0,s,i,o.x4374508417979542563x,this.mScratchMinosArray),u+=this.mScratchMinosArray.getNumObjects(),this.mIsToCenter=x>u}this.mScratchMinosArray.removeAll(),t.getMinosInRect(0,0,t.getWidth(),t.getHeight(),this.mScratchMinosArray),t.unstickMinos(this.mScratchMinosArray),this.mScratchMinosArray.removeAll(),this.mStepTimerMSEC=this.getParams().getIntValue(n.x1407488916905018773x),this.setCurrentState(r.x1169698474296864278x,0)},u.x4498870316303653116x=function(e,i,n,a){return i===r.x1169698474296864278x&&e===s.x3793884777573381281x?(this.processState_active(a),a):t.prototype.x4498870316303653116x.call(this,e,i,n,a)},i(n,null,[{key:"x4562906994610874993x",get:function(){return 684884306}},{key:"x1407488916905018773x",get:function(){return 808890794}},{key:"x743225472589137820x",get:function(){return 2056434056}},{key:"x1018927775228998582x",get:function(){return 2132360993}},{key:"x4506742202394287979x",get:function(){return 1252440560}},{key:"x3331163618134742705x",get:function(){return 1425982939}},{key:"x1902960440326634340x",get:function(){return"IBPJHJDBDODFFRNOBSGMORSNIRDKIEPSAJZMPDYLLDHQZNSJXGNPJMNSKPQRAFJPEPAMRPVMNTSDDLQITHSLWTTPRPZP"}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1493861352095391953x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3339987402386958992x.ts","./x3693760142138385085x.ts","./x3798657797799130679x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x3482684588425346520x.ts","./x798347270567386436x.ts","./x4127996380524714105x.ts","./x3001588770202680173x.ts","./x923301222305930093x.ts","./x3461623316906106937x.ts","./x3513548718171000876x.ts","./x1119179591842280899x.ts","./x4177071645687641537x.ts","./x84946173450627179x.ts","./x880562797070432433x.ts","./x1734189169196685004x.ts","./x2092587468266470742x.ts","./x3663611298040580465x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g,f,d,p,S,y,P,I,v,M,V;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3339987402386958992x},function(t){a=t.x3693760142138385085x},function(t){o=t.x3798657797799130679x},function(t){x=t.x1930801154962670888x},function(t){u=t.x3196398007076860870x},function(t){c=t.x702435451033209193x},function(t){l=t.x3482684588425346520x},function(t){h=t.x798347270567386436x},function(t){m=t.x4127996380524714105x},function(t){g=t.x3001588770202680173x},function(t){f=t.x923301222305930093x},function(t){d=t.x3461623316906106937x},function(t){p=t.x3513548718171000876x},function(t){S=t.x1119179591842280899x},function(t){y=t.x4177071645687641537x},function(t){P=t.x84946173450627179x},function(t){I=t.x880562797070432433x},function(t){v=t.x1734189169196685004x},function(t){M=t.x2092587468266470742x},function(t){V=t.x3663611298040580465x}],execute:function(){r._RF.push({},"1dcacAhCKZCnZE5yGMIA5GT","x1493861352095391953x",void 0),t("x1493861352095391953x",function(t){function r(e,i){var s;s=t.call(this,r.x1329798803842681187x,e)||this,r.x3000229257095030135x(s.getParams(),!1),s.getParams().copy(i,!1),e.addMessageListener(n(s)),e.setAutoActivatePendingActionsQueue(!s.getParams().getBoolValue(r.x4035124732547306889x)),s.mRNG=new m;var x=s.getParams().getIntValueWithDefault(r.x3129728275255231106x,0);return 0==x&&(x=c.nextNativeRandomInt()),s.mRNG.setSeed(x),s.mSpawnActionItemTimerMSEC=-1,s.mSpawnedActionItemTimeMSEC=-1,s.mNumConsecutiveDespawns=0,s.mLastActivatedActionId=0,s.mItemActivationStreakCount=0,s.mScratchMinosArray=new u(0),s.mActionsIndicesBag=new o,s.mActionsIndicesBag.setRNGSeed(s.mRNG.nextInt()),s.mActionsIndicesBag.setBagSizeMultiplier(s.getParams().getDictionary(r.x2038514863226485484x).getIntValue(r.x3719681947277673161x)),s.mScratchActionsIndicesBagValues=new a(!0),s.mLevelsComponent=null,s.mScoreComponent=null,s.mDEBUG_actionItemOverride=-1,s.setNextState(r.x3721856678724173960x,!1),s}e(r,t),r.x33496361176517836x=function(t){var e=new a(!0);return r.x3000229257095030135x(e,t),e},r.x3000229257095030135x=function(t,e){t.parseJSONString(c.x1012796168335938419x("LDZMBMXDKAVDWPTNIBJNQAQNJDGLMHFFANBRXIKOFHCCTQOHHKDCEOBCEJPMCPZKAPWLQSAGMRRFULPOTLLOVSUOURMOMLYCALCPYKQOHEGRNNUFZIIQOHPPCMJJGFJEKMXIHNBMYPASLNBNGJDNHDXQXEFJZJHFAJRQRNDRWNUKIOKKEOKHZQQCLPANRCBGSOZFQONKUHNPUCKMALWOEKNOCLCIYKRHJLURQKIOGEPIEPNGOJEEDJAEOCTKNRCECQZDAMXHUFXMUAVIFRLMTIBGKSIPCJNFVITEAJELLFVFDSZEOOZIWLHSNPYIJPZHJEQHFCFQEDVPCDDPADBLQCARQPCUKLTTPKLSWQQMCQVIJEUGEPWSUETREERPWCIFHSEFRLYODGNNCBDNKABNIKVCYJIOSNRQBKDEFTFKYNLFZNHFESSPZJJKVSWOLSQLPQIBHOYMNHNLKDLPIDFJIIJQQHGRAQPTJQNLERBNSQZMLQJILPHMVJRMMFMQSPTMXJVFCKURTHLMTIYMZOEINMMCLHAPFKPNIDJHMKJCKKHGIKEHQHCLMGOKVGPKSRKOTMDUGHSPYJHPVLHJRFNTTMFIWLIIVIGMFCIIQEMIKRTMZNGOMBDKKBLJYFJJMQJOFHVGQJZFDKTMBGWEXPHHZKXBYFVBWPTLEPRHUORCRPBGYHHELIBPHRJLJHVJJRHPCIVNQHIUEHSTUQCFSQJUFQIRDKQFODGLROOGXCAFWAXOUGXJUBVNSBTNQBMESODSMOQSAKZEOKELNPZGROAHAOHRHOZJBUNPNTPKIONGXSARDLDQZTHOJTHPWMRDKMEQGMEQGLAQMRFORMQFPKMBUOWBLGOFONLFMNJJKNHJEHHKDHBOMJUNWENRWPYGWJPRAPSSXOTLTPWGKPDLBPMIVMKJYFIJRFUHKQTGUKDBOEFNMENMYHWILDHBIJFFGJJQGEHMEIAHIFNEFNRIYMUIWGANSQLJRCQHNCLJPHLDOCPOWBNKKGVJIQVOHIQGAKTGKJDGVUZGSSNHFTKHBPULXIXPUTEMPFYJVEQOZEZMWETAUEXLIPRBSNBGZOOBQENAOELKMOJGMNJBJOBEUQSOUGDONRFONOYHVCTTZGJKWCXOECVOCMPECHEPPMQSIOUSNEFQVPHLIPEHQSOHLKMKJBXQLALMMQJMQJJNGJHNEJPMCFENMNLJNNPFWRSFKLCJVPAIRPIMVPVGWKGNCJOMJIRMHPMKWNFEQHTKGHRKOGPKMCJELIFHUKOHDKHTMPFNPSBIFQNKFQNLSJTQJUHMAJCMKIAMGOMHNHKCMGCPVKYMHDTBKKHGSJFGQJJNQONGZDHKAGGKBMXILHVSZGEMRECHQDMRBIBQYHBPYCZOGCTEQAREULEQYKZGXLCQIESIYDGILRQFHNFPTCQOPAFNMADJAFHCAKLNYFVBGFCCPSBLUNKEDSNFASBGIHUOKSDPVPQINDFIZISLODPPMDNPKDNGUHVPIMJQFNKTDHJTHRLMJQLIQPGSKPINEFRRKQUJDOAJOQCOOKBJYEZIWANNUARGUFVNIKSODNVRPJVKRODKKOGKQMPEOQENBFCIUQQMNQCLYIVAZHZLWHHLUHFLUIRECIOFCMMEELPOXELHQRENXQBITLQTGFDNDKWLNDGHLPKJFICDVHBLTGIJOEBDCLBCCGZBAGXBIFVHEIWCWODCUKRGSKLACPPHMDZLTEWGMPPAIEJQQDRPODPLCIIGBQTDFMSIELEIQFTIFFKHYEHJZQYFVDWOGGYNUBVJUAWESKTOQGNCQBRNXBZMIOMHEOVRHOHQVJEDDSCIHMWEYQFETQZNNGONGRGNJPVHGPZAQNDMAILLYDZPWDSKSMDERRMDQQVESMWMORONBQONKQFJIPIOQJXNBGXRZFVMLHARXLOQHMKOYBJJWLTHELRHCLVOSKDOLFTLCEKLNNJKBPHGVHQNNFOICFDJZQOLKJJAKELMIIJMGIDGEODFDKXIMMGFZKLOZKLJPFEGTPQKSOJFJDSKOGZJMGXJKCJDUGHDSGPCPHCSQJDHXRMHAPZLOPXFHUULCJEJZFCEUMWDBFXAYEBMMPZHWDXHUNRBUEQBKIMECIUQUFKFARJEFQDELNRIKGJOROCIZCHJBCLPYHBPICZOGCHKECBEULFPBMQSFLYGIKAMQPTHTTPGCSXFTHOOLBDOZBWNZPNDOPLNIJTMGFJMKQHMOJBCBPBGBNBQOIYPORZOLRIJYMCFQRTEMKCKLQQNTQUMXOSHFNMMFIGMDESKOCPOMMLDMHNPKLLPILFJOFGIGMDIOLBEMLZNYEJIWETMDCWMGQRBCFTNQJBNOJBIOAKHLNFKMNMRTFSOPJZKNCNGQJDGOJLFIDJLYCJGGCGHSRBJFMRHAHATWEOOXHWMPBXQSJMFPJHFPIVQCHFGDCGFPMVDWLJIQFJNQAHJEFPINEIDYJJFRJCEGJPRIJOEESEGQQEGQNXEYHYOKSDLRGNKVRLFVKQRNEERXESGCOPGMCJAKMVPUCLPSCJPQNZIYPOTTODTHMNHBFWOHOEJWNOFTADEAKDJABRNYAZMWAXIKPWOQNFRZJSPEJSFCTIKXKIETOXDXPUNXQUMVQSMZPGCGODMAILLYHKLCPZKKOTEDJCEELVOBKEPOGNNCRBIVLLTEMWQRNOKECAGTMPIQMNIKGLOKFLJIFJJGBGOWOIKGKEGWIBSMNPRNGRFZOFKSOVKDLOENEBMPDZGQPXGYONGUDVPSDTLGIRLPDXDLMTIIMTHNMFPYLEJBEXICRRIZKRHFMWQWFFOODVHSSNGXNOESCNPPCUJABRJOFVCOKZNMGJCUFHCEUGIIPPCGPNCELBHIEVAMPLMTQIHEDFHCNFMCEPAAEBQIDYMMRGEYQFEYMGUIHUQPPMKKROFQMOAOMVJICJOGCJJUMHFDCPSOOQSUFLNXFNQVEUIDNWPQMXPWLWPYHEOPMPINMGEZKVCWOTMSDDHUPRLSPQLMJICIMXPRMGPGIPUISOHENEFALEFQQFEUEIJKRDOFRNNDRLERHAMNHPLBEALDNPJWGTCUGFOKGVJSFPDQLCJMKFGLKERAOOMUHEHKMOEFMTIPMABGQDIAEBIYDJHAQTFWETADFRQCMARFLLJVRLEJNKGTKQFEEUMTDEHRDCHDPMLXBDPKCLKJCJKIBJFGLHPEHAENKPRSFNMBULHYTZHMKSGIKBHPBOOZQFFBRQDQPXMKFNMKALMWPJIGEDCDPJQBJRQPIJEHITNYMAEIRQEQQZEGNRQBQYKMSAGMCXFUBVPUCVKSCTOQCROOMQQNPTTHPZSYKGRYPIMKPDIDPTGCOZQGHKJVCWNYRBJXMKFDLGNSJFISATMEQBMYJRNYEZMXIWNQMJKPSZIDNRJCNRFPRVOLLDKKSQJTQRNUREIMGGPLJEOTJINXDSKVIMFTIKRDNGPSLBECMZDQMNIZLXCUALJIFSJMIBMBQZKZIOFYIRRLJXLNIDMGSCGPMPESIGFCJGRHFAKVQWEZKUHVKJHLFIIDPCIRCBGOCZPMIPPWCNPUCVKIHPEBCJTQLQHCLYGKLZPWPQITDZHEUTHWORQKDJPZBYKVFNKPRMPJHQOVFRBSFVMSKPCQONCOOBNOFVALQLPYSLGNSRFASMFGKQPWRNOVSINFSFKKQZNSKPNKFUQZEAQSOCCNJORHNAQWLTJQBTIUMRISMPEMANOKKMKZEVQVEXQNDDGHIFSPNBSMNIRAERKWOLKYMRFGMPPVKAJRQQIPQEIPLAGWDXLKIVLUCVGWOJLQINEANSLEIPLMHNLKNHFKIHESHRIZIIQAGDFABLECNZIANHIEGWKDFUNMJRMPGUELMXGZFLCWFNOKKRHKPRCILFHQKMHYNPLRTDLGHGLSFUKJLQCBFURPFZNSERIOEGSNKASNFJRXDXPENRFUMRASMDQQINELCKPUQVIPFOHEFXIGLAMCGGSYDQRYEHNUSKSSNPSDKLGBKRFBRYEZLMEJQYCYOVMYPVLWPTLEPRHUORMOJLQEIGEZGBPDTVENMECDPKBUJANFEBKMNZJKNZAANLQYMFKSCUKCRDNLRQLMKETCKUNVGULBCJPFNCJFIGQDMEQXLQOMQFCMLJHKLIHSKFDCJFIBFYKOTRPLSAQUMZQANLQRMRPKMYGPLMGOKGGZIVAOIVFICTFUNHKUIRESIEMEGUNOFQJUEJJYQTGZJTRHGRNAKHOBHWFAIJHBHXCIGVCGQTIWPTDUPBDSLPHLGTEZTMMFIDMRGULEOPQNHLENIKBJGKNRRTEFRJFWMEHRIJQGODGRCBGYBZFCJZKWCXOTDRSMFCKAEITFPPSALUSJFNSCGLITMEGHMMQRMUOGHDNKADIOLBECQJDUOHNWAWNLUIQUTCMHMLFVMLQGNPPSHCDARQLRLOCHPCDDPWCLDXFOOLKMOJKUNHGGHHLEHPKBEZSIRAOILPSQPETTKGNOGZHIQHLYOTEIJCQNNVJKGIKLNMIWLTHULRNOFRIPEPIMENIWEIGKFHBIFJNGJHNEJBHEKNKLLAGKJXBEDVLUCFGSCNFUOQLXLSTMGRPOLWLHJSLEMIESHFERHNDOHRKABLEMQJEJNTGWKKHWEDNZIPLTTCFBOIONHPDMHROFSKKMGLEHQOOTFPBQFNBYELHYNLCMOTBVNQCONPTZSAOOSTKCHUIGGLUUFCUUGDTAGEPMQFJZPVTXPRTXISFPCIKFOUEQAREOAFPOBPNWANNKBNIXMHIAOGSVMFRLFFQJEEOJMXDQLWOBKLNYFFHGPVGGKDGFKBCSOYMSLJKHTCOMSAPKSKEHJQNNIFNBFMMZEWKZJWFDJMQIMTPGMNJGNEJENBJMMZEFHKNQIXMDIGNHFVMGKDGXJDSWOYOVGWJANSIVKRGSKVNSFTNCENHKDNCOKKHEOGKIIMLQGELQGTKZRTDBNNTGHDUHEWNUIDKRBHQUIRECIPEAINKMBYEKBVELOVIXQRGPFYPCFKNMJVNAIJRSIDFHHCEDHBLTMMEFPBDMOZCCGZBAQXLYPVHYOVCVPAFIIOECIEPFTHLYSKLHQZEJMJPHFGSOEGREREFSQVDFRXDCNATMEMNXQTMSQGJZBCPYKBKYBZNWBXNUBBDUKVOEPVOQGBOOGNHOLLHGKJDKPTHULSHIQFMGQDMOPDDAJBNYIINIMYPCTMPHNQGZKWBCNEMAIBMYNXEYIVEWITAUIRANHBJAFSJSQLNLRXLWKKLFIGLUHJLAEQJRNVEVINEGIPQHMWISEFDWLTHELRHCLRIOEZHLFTLUDCMTNFFYIREZGPQRHDKRHZEINVIJNTDQIIQMGMJSFCHDLLBRKKGZCZOGCZFWBXFUBFFSHVOSCSPWFJOVFENAUETAPSSJIEFPHDEVBGEGQNDOPLDMLVBGFTLKQHIHRCMMHGGRLRQFJLEDIUBTGSCLPGDHPEDFLMCFGYLRONKYNLGONVAMNTKGDHPUNGLDRPJSPMSDLLNAHPOWFWSSPLMFIERRMTQVLEPWAPIBMXHYLVDGLTDQJTIPFJMLESQPEXPHOZQYMEQSMUQQIZOIOCHLLYCWNACCJJGWCHGYOVKGOVFQITLQHAMRLCPGSOOHQXHPLLGAMLNOJCNWIMFLOKEGJYEVIOPGFHJKQHEIMPDGMDIAGXBKAAKLIRMXIVLQNWFMJPFZIQQYNARYGWCVPCCVKZJVNGJYGUKSGRKPGVIDSSTYGXSMHIMHDHLGCHQEMFQCIZDAIDPKCJJVAVEYLJPWHTDUHRNOBRIOQIFNAXDKAVNKBLNSAJNQAHJNPBGONQROJXQAJVEHQCNFLPGXODCEOCCYDRLCPZKAPXGUCUHELHPVHVOOHOTAGEOXIICJNFCYNRRZECLFOTKEOQGYNIQEMLJYFJJWBJIKMHIIMWORLZRMIKNVDPREFXKFNXRXJJQXNJRONLKROZJWOKKGOIGYLINPEGIYQEIRQGLCJZEMDDMAIVKYHJLWNWEFJPIWLOEHPRTTFNILRWFWOIKKOEFTBTJGGRJOFRESMBDMGJCKGMKQEVMPJUFUSIHUJYFDHIDJGNJPQNENQUDLMIIFMQAQOTHEPRHPDZGMDTAMEJATEWTCHJPLEPJUQNEINPIJMVHOGIKHPEGSCOGDBDFCCDOACBOYBZJYAZEWKWPWJCSUKYRDFQRMOBHHSVGPOTQIKLQJRFOPQRHJPPCGPNMKILMOPBMMPJLKPDBVJEQIMBQXGNEGIZNXLVEUKSEYQHEVQUOTOOLPOGLJOYEKLLPKGWJICJOGCHOEMDDOGEQDPLSHPZLXPZLWOWLJPRSUOESGHXKWCFKVNDLBPMJMISQYHUIPFQIIRAHBLWBPEQMMINMKIHGIORASIFFGJDFOJROKFAKJEXISRNNZQUHDDTMZCIMRGBKYFVDOHLDWGTCUGVOKQNHTPPDQLDIOLNCKALIMQJICIQJLPHDFFBBCFZAAFDIAELHXOKFRNCFVISBBGOBMSQGSNZAQNXAOJLPSCLKWNJGFDBJQFSTULNOJGPRHFKPFECFQNFRVMYQYIOEXIZNRNIFBMYDYPVDWPTNSATMQARMCQOJLNZQTNSPIJTQMEUOQNGGCMGGUMNQAMOQMSFPHSRJHNXEXOCDPIAMFQUKEOCKCOZJWHZKWGXKEGVKRDLMJQMHFKFTTPDTHPIKDDQEYNQJJMFIQLDOCFDJAFLIYAZMKQUCCJRQBOUPGNIRQHUFZKKIVKJHTKMOVEGIEEEIBQIGSJPFMDXKKDLLKCMGICTFFJOHQGXSXEGPQKDPAFBTXLJHGMUEDJQEOCCGRABEOAZDAMJCUFNNVALJIFSJIIKGGPERYIYFYIYEDIRKBTRFESHGFLAIDGNPGPBHYCZGCOZBAKHLUDVPSDVKFPDKXPFEKQJTRHHTKHKTRPZIOQJTBPHTRPYRYFYMSQHMJQZGGTPGKMGKCDSOUCQOBBBJYKBOYJZNWJXNUFRLSPDLTKPCQONCOOLMOPVGMPTKGTILSOHMEIPLCINLAEDLKSYEIIVAXMHQWHHLUDNJ"),e,!0)};var s=r.prototype;return s.DEBUG_setActionItemSpawnTimerTo0=function(){this.mSpawnActionItemTimerMSEC>0&&(this.mSpawnActionItemTimerMSEC=0)},s.DEBUG_setActionItemOverride=function(t){this.mDEBUG_actionItemOverride=t},s.setupActionsIndicesBagForLevel=function(t){this.mActionsIndicesBag.removeAllRefillValues();for(var e=this.getParams().getDictionary(r.x1855799981060771967x),i=e.getNumValues(),n=0;n<i;n++){var s=e.getDictionaryAtIndex(n),a=s.getIntValue(r.x3735954561173793987x),o=s.getIntValue(r.x4292543491558250220x);if(t<a||t>o)this.mActionsIndicesBag.removeValueFromBag(n,-1);else{var x=s.getIntValue(r.x1494336193313627366x);this.mActionsIndicesBag.addRefillValue(n,x)}}},s.processSpawnActionItemTimer=function(t){if(this.mSpawnActionItemTimerMSEC>0)this.mSpawnActionItemTimerMSEC-=t,this.mSpawnActionItemTimerMSEC<=0&&(this.mSpawnActionItemTimerMSEC=0);else if(this.mSpawnActionItemTimerMSEC<0){var e=this.getPlayer();0!=e.getMatrix().getNumMinosWithActionItems()||e.getNextQueuedPendingAction()||(this.mSpawnActionItemTimerMSEC=1e3*this.getParams().getIntValue(r.x2391065722437783502x),this.mNumConsecutiveDespawns=0)}},s.trySpawnActionItem=function(){if(0==this.mSpawnActionItemTimerMSEC){var t=this.getPlayer(),e=t.getMatrix();if(!(e.areAnyMinosObscured()||e.getNumMinosWithActionItems()>0)){var i=e.getHighestMinoY();if(this.mDEBUG_actionItemOverride<0){if((this.mLevelsComponent?this.mLevelsComponent.getCurrentLevelIndex():0)<this.getParams().getIntValue(r.x2993200617949283297x)-1)return;if(t.getTotalMatrixMinoPatternMatches()<this.getParams().getIntValue(r.x3081387043915493793x))return;if(i<this.getParams().getIntValue(r.x191845213840028949x)-1)return}var n=this.getParams().getIntValue(r.x3284676944990074114x),s=this.getParams().getIntValue(r.x3742282105864255167x),a=c.isOdd(this.mNumConsecutiveDespawns)?s:n,o=i+1,x=o-a;e.getMinosInRect(0,x,e.getWidth(),a,this.mScratchMinosArray);var u=this.mScratchMinosArray.getNumObjects();if(u>0){var h=this.mRNG.nextIntInRange(0,u-1),m=this.mScratchMinosArray.getAtIndex(h),g=this.getParams().getDictionary(r.x1855799981060771967x),f=null,d=-1;if(this.mDEBUG_actionItemOverride<0){this.mScratchActionsIndicesBagValues.removeAllValues(),this.mActionsIndicesBag.refillBagIfEmpty(),this.mActionsIndicesBag.copyBagValuesIntoDictionary(this.mScratchActionsIndicesBagValues);for(var p=this.mScratchActionsIndicesBagValues.getNumValues(),S=0;S<p;S++){d=this.mScratchActionsIndicesBagValues.getIntValueAtIndex(S),f=g.getDictionaryAtIndex(d);var y=!0;y=y&&!(f.getStringValueAsHash32(r.x1678223199360566427x)==this.mLastActivatedActionId);var P=f.getIntValue(r.x1419305303160059238x);(y=y&&!(P>0&&o>f.getIntValue(r.x1419305303160059238x)))||(this.mScratchActionsIndicesBagValues.removeIntValue(d,-1),S--,p=this.mScratchActionsIndicesBagValues.getNumValues()),f=null}if((p=this.mScratchActionsIndicesBagValues.getNumValues())>0){var I=this.mRNG.nextIntInRange(0,p-1);d=this.mScratchActionsIndicesBagValues.getIntValueAtIndex(I),f=g.getDictionaryAtIndex(d),this.mActionsIndicesBag.removeValueFromBag(d,1)}else this.mActionsIndicesBag.refillBag(!0);this.mScratchActionsIndicesBagValues.removeAllValues()}else{var v=this.getParams().getDictionary(r.x1855799981060771967x).getNumValues();f=g.getDictionaryAtIndex(c.clampInt(this.mDEBUG_actionItemOverride,0,v-1))}if(f){var M=this.createAction(f.getStringValueAsHash32(r.x1678223199360566427x),f.getDictionary(r.x720274305860091058x));M.setCustomData1(d),m.attachPlayerAction(M,l.x3977686130243259702x),t.dispatchActionSpawnedMessage(M),M=null,this.mSpawnActionItemTimerMSEC=-1,this.mSpawnedActionItemTimeMSEC=t.getElapsedActiveGameTimeMSEC()}}this.mScratchMinosArray.removeAll()}}},s.createAction=function(t,e){var i=this.getPlayer();switch(t){case p.x2113334628118377893x:return new p(i,e);case S.x3194209701878920299x:return new S(i,e);case y.x2808148533898659766x:return new y(i,e);case P.x3814876417137536124x:var n=new P(i,e);return n.setRNGSeed(this.mRNG.nextIntInRange(1,c.x4486032239274713138x)),n;case I.x568122050052276579x:return new I(i,e);case v.x3730400382218827790x:var r=new v(i,e);return r.setRNGSeed(this.mRNG.nextIntInRange(1,c.x4486032239274713138x)),r;case M.x4562906994610874993x:return new M(i,e);case V.x3447025935325255921x:return new V(i,e);default:return null}},s.tryDespawnActionItem=function(){if(!(this.mSpawnActionItemTimerMSEC>=0)){var t=this.getPlayer(),e=1e3*this.getParams().getIntValue(r.x1456379652756144387x);if(this.mSpawnedActionItemTimeMSEC>0&&t.getElapsedActiveGameTimeMSEC()>=this.mSpawnedActionItemTimeMSEC+e){this.mScratchMinosArray.removeAll(),t.getMatrix().getMinosWithActionItems(this.mScratchMinosArray);var i=this.mScratchMinosArray.getNumObjects();if(i>0){for(var n=0;n<i;n++){var s=this.mScratchMinosArray.getAtIndex(n),a=s.getMinoPlayerActionItem().getPlayerAction().getCustomData1();this.mActionsIndicesBag.containsRefillValue(a)&&this.mActionsIndicesBag.addBagValue(a,1),s.destroyPlayerAction()}if(this.mSpawnActionItemTimerMSEC=1e3*this.getParams().getIntValue(r.x4113979702502245445x),this.mSpawnedActionItemTimeMSEC=-1,this.mNumConsecutiveDespawns++,this.mItemActivationStreakCount>0){this.mItemActivationStreakCount=c.maxInt(this.mItemActivationStreakCount-1,0);var o=this.getParams().getDictionary(r.x1054240202890453756x).getIntValue(r.x1327518299854793859x);if(0!=o){var x=this.mScoreComponent.getScoreMultiplier(),u=c.maxInt(x-o,0);u!=x&&this.mScoreComponent.setScoreMultiplier(u)}}}this.mScratchMinosArray.removeAll()}}},s.x1721113016797186854x=function(){null!==this.mRNG&&(this.mRNG.destroy(),this.mRNG=null),null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),null!==this.mActionsIndicesBag&&(this.mActionsIndicesBag.destroy(),this.mActionsIndicesBag=null),null!==this.mScratchActionsIndicesBagValues&&(this.mScratchActionsIndicesBagValues.destroy(),this.mScratchActionsIndicesBagValues=null),this.mLevelsComponent=null,this.mScoreComponent=null,t.prototype.x1721113016797186854x.call(this)},s.x4498870316303653116x=function(e,i,n,s){return i===r.x3721856678724173960x&&e===x.x3793884777573381281x?(this.processSpawnActionItemTimer(s),s):t.prototype.x4498870316303653116x.call(this,e,i,n,s)},s.x601562840631873202x=function(t,e,i){var n=this.getPlayer();switch(t){case d.x1368156971866977203x:n.getCurrentState()===d.x374706818329705401x&&(this.tryDespawnActionItem(),this.trySpawnActionItem());break;case h.x1277176230042833576x:var s=i.getObjectValue(h.x3044825115508512875x);if(this.mLastActivatedActionId=s.getActionId(),this.mItemActivationStreakCount++,this.mScoreComponent){var a=this.getParams().getDictionary(r.x1054240202890453756x),o=a.getIntValue(r.x4231618752738261335x);0!=o&&this.mScoreComponent.addExternalEventScore(o,r.x1859567496227516425x);var x=a.getIntValue(r.x2228502524438845480x);if(0!=x){var u=a.getIntValue(r.x4221709032196817616x),l=this.mScoreComponent.getScoreMultiplier(),m=c.minInt(l+x,u);m!=l&&this.mScoreComponent.setScoreMultiplier(m)}}break;case g.x2973273170559740354x:this.setupActionsIndicesBagForLevel(this.mLevelsComponent.getCurrentLevelIndex()+1);break;case d.x2571108714608016537x:this.mLevelsComponent=n.getComponent(g.x4314461242255220561x),this.mLevelsComponent&&(this.mLevelsComponent.addMessageListener(this),this.setupActionsIndicesBagForLevel(this.mLevelsComponent.getCurrentLevelIndex()+1)),this.mScoreComponent=n.getComponent(f.x2355730316075620282x)}},i(r,null,[{key:"x1329798803842681187x",get:function(){return 1557791586}},{key:"x3129728275255231106x",get:function(){return 1326329515}},{key:"x2993200617949283297x",get:function(){return 166759957}},{key:"x3081387043915493793x",get:function(){return 1774184266}},{key:"x191845213840028949x",get:function(){return 1228338441}},{key:"x2391065722437783502x",get:function(){return 1926984805}},{key:"x1456379652756144387x",get:function(){return 1598328996}},{key:"x4113979702502245445x",get:function(){return 1244659634}},{key:"x3284676944990074114x",get:function(){return 1381910414}},{key:"x3742282105864255167x",get:function(){return 83078441}},{key:"x4035124732547306889x",get:function(){return 172564624}},{key:"x1054240202890453756x",get:function(){return 1026088449}},{key:"x4231618752738261335x",get:function(){return 697741553}},{key:"x2228502524438845480x",get:function(){return 1785642501}},{key:"x1327518299854793859x",get:function(){return 1480627247}},{key:"x4221709032196817616x",get:function(){return 840165184}},{key:"x2038514863226485484x",get:function(){return 198372668}},{key:"x3719681947277673161x",get:function(){return 302575929}},{key:"x1855799981060771967x",get:function(){return 575562572}},{key:"x1678223199360566427x",get:function(){return 1638311218}},{key:"x1419305303160059238x",get:function(){return 817065079}},{key:"x3735954561173793987x",get:function(){return 2050597539}},{key:"x4292543491558250220x",get:function(){return 647887633}},{key:"x1494336193313627366x",get:function(){return 1914099045}},{key:"x720274305860091058x",get:function(){return 775810380}},{key:"x1859567496227516425x",get:function(){return 445349600}},{key:"x3721856678724173960x",get:function(){return 1}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x1507132269332393985x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3339987402386958992x.ts","./x3693760142138385085x.ts","./x1930801154962670888x.ts","./x702435451033209193x.ts","./x935098930897063106x.ts","./x798347270567386436x.ts","./x3461623316906106937x.ts","./x4205701266739920358x.ts","./x923301222305930093x.ts","./x1300708268651209083x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3339987402386958992x},function(t){a=t.x3693760142138385085x},function(t){o=t.x1930801154962670888x},function(t){x=t.x702435451033209193x},function(t){u=t.x935098930897063106x},function(t){c=t.x798347270567386436x},function(t){l=t.x3461623316906106937x},function(t){h=t.x4205701266739920358x},function(t){m=t.x923301222305930093x},function(t){g=t.x1300708268651209083x}],execute:function(){r._RF.push({},"1f70eDbLN9HS6E4bQRkzEZq","x1507132269332393985x",void 0),t("x1507132269332393985x",function(t){function r(e,i){var s;return s=t.call(this,r.x3189582392570647395x,e)||this,r.x2445597358057845553x(s.getParams(),!1),s.getParams().copy(i,!1),e.addMessageListener(n(s)),e.addMessageListenerToComponents(n(s)),s.mScoreComponent=null,s.mAchievementsComponent=null,s.mTotalSmallPointsVisual=0,s.mTotalSmallPointsMusic=0,s.mPrevLargeScorePoints=0,s.mNumLineClearsPerSendCurrentScores=10,s.mRemainingLineClearsUntilSendCurrentScores=s.mNumLineClearsPerSendCurrentScores,s.setNextState(r.x959673944138801266x,!1),s}e(r,t),r.x1097757399352158513x=function(t){var e=new a(!0);return r.x2445597358057845553x(e,t),e},r.x2445597358057845553x=function(t,e){t.parseJSONString(x.x1012796168335938419x("JGHNZMBQXMUSBODMAFPMIQDLPPOFJCKPLGSLPDIKWCIOHLPL"),e,!0)};var s=r.prototype;return s.sendDifficulty=function(t){try{window.sendDifficulty(t)}catch(t){}},s.sendSmallScore=function(t,e){if(0!=t)try{window.sendSmallScore(t,e)}catch(t){}},s.sendLargeScore=function(t){if(0!=t)try{window.sendLargeScore(t)}catch(t){}},s.sendAchievement=function(t){try{window.sendAchievement(t)}catch(t){}},s.sendCurrentScores=function(){if(this.getParams().getStringValueAsHash32(r.x1684477376171214012x)===r.x3537064514881258784x&&this.mScoreComponent){var t=this.mScoreComponent.getScore(),e=t-this.mPrevLargeScorePoints;this.sendLargeScore(e),this.mPrevLargeScorePoints=t}},s.sendGameOver=function(){try{window.sendGameOver()}catch(t){}},s.x1721113016797186854x=function(){this.mScoreComponent=null,this.mAchievementsComponent=null,t.prototype.x1721113016797186854x.call(this)},s.x4498870316303653116x=function(e,i,n,s){if(i===r.x959673944138801266x&&e===o.x3793884777573381281x){var a=this.getPlayer();if(a.getGame().wasMusicActiveDuringGame()){var x=~~(a.getElapsedActiveGameTimeMSEC()/(1e3*this.getParams().getIntValue(r.x2898045662481175291x))),u=x-this.mTotalSmallPointsMusic;u>0&&(this.sendSmallScore(u,"music"),this.mTotalSmallPointsMusic=x)}return s}return t.prototype.x4498870316303653116x.call(this,e,i,n,s)},s.x601562840631873202x=function(t,e,i){var n=null;switch(t){case g.x792076145386777064x:i.getIntValue(g.x3416993641028547947x)===u.x3654181238410086381x&&this.sendSmallScore(1,"memory");break;case m.x4563261606863935423x:if(!i.getBoolValue(m.x3846704088808192491x)){var s=i.getIntValue(m.x4021322772183539622x);switch(s){case 1:this.sendSmallScore(1,"logic");break;case 2:case 3:this.sendSmallScore(1,"creativity");break;case 4:this.sendSmallScore(1,"strategy")}if(i.getIntValue(m.x4268196375255836292x)!=x.x2088302373693961418x&&this.sendSmallScore(1,"strategy"),this.getParams().getStringValueAsHash32(r.x1684477376171214012x)===r.x2919338446410829403x){var a=~~(((n=this.getPlayer()).getTotalMatrixMinoPatternMatches()-10*this.mTotalSmallPointsVisual)/10);a>0&&(this.sendSmallScore(a,"visual"),this.mTotalSmallPointsVisual+=a)}this.mRemainingLineClearsUntilSendCurrentScores-=s,this.mRemainingLineClearsUntilSendCurrentScores<=0&&(this.sendCurrentScores(),this.mRemainingLineClearsUntilSendCurrentScores=this.mNumLineClearsPerSendCurrentScores)}break;case c.x593103829868600629x:this.sendSmallScore(1,"visual");break;case l.x2571108714608016537x:this.mScoreComponent=this.getPlayer().getComponent(m.x2355730316075620282x),this.mScoreComponent&&this.mScoreComponent.addMessageListener(this),this.mAchievementsComponent=this.getPlayer().getComponent(h.x2987804182516709922x),this.mAchievementsComponent&&this.mAchievementsComponent.addMessageListener(this);break;case l.x1368156971866977203x:if((n=e).getCurrentState()===l.x3265934470092458605x){if(this.sendCurrentScores(),this.getParams().getStringValueAsHash32(r.x1684477376171214012x)===r.x2919338446410829403x&&n.didCompleteGameSuccessfully()){var o=this.getParams().getIntValueWithKeyStringPath("RB02.largePoints.maxScore"),f=1e3*this.getParams().getIntValueWithKeyStringPath("RB02.largePoints.maxTimeSEC"),d=n.getElapsedActiveGameTimeMSEC(),p=~~((f-x.clampInt(d,0,f))/f*o);this.sendLargeScore(p)}n.getGameEndCondition(),this.sendGameOver()}break;case h.x3680727610590955592x:var S=i.getObjectValue(h.x3546967576087875683x);this.sendAchievement(S.getAchievementId())}},i(r,null,[{key:"x3189582392570647395x",get:function(){return 1703339161}},{key:"x1684477376171214012x",get:function(){return 1143865294}},{key:"x2898045662481175291x",get:function(){return 1110938844}},{key:"kParamKeyDict_RB02",get:function(){return 1557791587}},{key:"kParamKeyDict_RB02_largePoints",get:function(){return 102513197}},{key:"kParamKeyInt_RB02_largePoints_maxScore",get:function(){return 564234559}},{key:"kParamKeyInt_RB02_largePoints_maxTimeSEC",get:function(){return 1683927601}},{key:"x3537064514881258784x",get:function(){return 1557791586}},{key:"x2919338446410829403x",get:function(){return 1557791587}},{key:"x959673944138801266x",get:function(){return 1}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x479284151344649910x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3393034802217169555x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x3393034802217169555x}],execute:function(){i._RF.push({},"541b78qelhPqrfthBNt/s+b","x479284151344649910x",void 0),t("x479284151344649910x",function(t){function i(e,i,n,r){var s;return(s=t.call(this)||this).setRect(e,i,n,r),s}e(i,t);var n=i.prototype;return n.setRect=function(t,e,i,n){this.mX=t,this.mY=e,this.mWidth=i,this.mHeight=n},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},n.x2033860288639419121x=function(){},n.x160513729297198725x=function(t){return t<this.mWidth*this.mHeight},n.x3200154973422099298x=function(t){return this.mX+t%this.mWidth},n.x2644137728337727973x=function(t){return this.mY+~~(t/this.mWidth)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x850700817827885953x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x940197673366484397x.ts","./x1930801154962670888x.ts","./x3375026250715268596x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x940197673366484397x},function(t){r=t.x1930801154962670888x},function(t){s=t.x3375026250715268596x}],execute:function(){i._RF.push({},"b3a9cuA3g5BQ7v0Jgoru5rR","x850700817827885953x",void 0),t("x850700817827885953x",function(t){function i(e,i,n,r){var s;return(s=t.call(this,0,null)||this).mResourceMgr=e,s.mResourceId=i,s.mResourceName=n,s.mResourceGroupName=r,s}e(i,t);var n=i.prototype;return n.getResourceMgr=function(){return this.mResourceMgr},n.getResourceId=function(){return this.mResourceId},n.getResourceName=function(){return this.mResourceName},n.getResourceGroupName=function(){return this.mResourceGroupName},n.addDependenciesToMgr=function(){this.x2249892239750456702x()},n.processLoading=function(){return this.getCurrentState()===s.x170763479412772967x&&this.setNextState(s.x435844797934444114x,!1),this.processTime(1),this.getCurrentState()},n.x2249892239750456702x=function(){},n.x1937515428629277026x=function(){},n.x485164082923534672x=function(){return s.x816060623491963128x},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},n.x4498870316303653116x=function(t,e,i,n){switch(t){case r.x2580340477778594771x:return e;case r.x2982972318080668761x:return e===s.x435844797934444114x&&this.x1937515428629277026x(),0;case r.x3793884777573381281x:if(e===s.x435844797934444114x)switch(this.x485164082923534672x()){case s.x435844797934444114x:break;case s.x816060623491963128x:this.setNextState(s.x816060623491963128x,!1);break;default:this.setNextState(s.x2810067176957391831x,!1)}return n;case r.x4149106650117426330x:default:return 0}},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3375026250715268596x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x1442954324271535409x.ts","./x3693760142138385085x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x1084482300746541296x.ts","./x2444935425342845025x.ts","./x1824733160648178692x.ts","./x3419518525438048359x.ts","./x3666328017471509521x.ts","./x3750285720313746912x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x2205868517935256955x},function(t){s=t.x1442954324271535409x},function(t){a=t.x3693760142138385085x},function(t){o=t.x3196398007076860870x},function(t){x=t.x702435451033209193x},function(t){u=t.x1084482300746541296x},function(t){c=t.x2444935425342845025x},function(t){l=t.x1824733160648178692x},function(t){h=t.x3419518525438048359x},function(t){m=t.x3666328017471509521x},function(t){g=t.x3750285720313746912x}],execute:function(){n._RF.push({},"d0615FkqbJLe6OgVr/jwZ8H","x3375026250715268596x",void 0),t("x3375026250715268596x",function(t){function n(e){var i;return(i=t.call(this)||this).mResourcesPath=e,i.mResources=new a(!0),i.mResourcesToLoad=new o(0),i.mIsLoading=!1,i.mMessageData=new a(!1),i}e(n,t);var r=n.prototype;return r.addBitmapFontResource=function(t,e,i){if(!i||""==i)return 0;var n=u.x1802428022661735748x(t);if(!this.mResources.getObjectValue(n)){var r=new u(this,n,t,e,i);this.addResource(r)}return n},r.getBitmapFontResourceState=function(t){return this.getResourceStateWithId(u.x1802428022661735748x(t))},r.getBitmapFontResource=function(t){return this.mResources.getObjectValue(u.x1802428022661735748x(t))},r.removeBitmapFontResource=function(t){this.mResources.setObjectValue(u.x1802428022661735748x(t),null)},r.addNativeBitmapResource=function(t,e,i){if(!i||""==i)return 0;var n=c.x2698438219630994316x(t);if(!this.mResources.getObjectValue(n)){var r=new c(this,n,t,e,i);this.addResource(r)}return n},r.getNativeBitmapResourceState=function(t){return this.getResourceStateWithId(c.x2698438219630994316x(t))},r.getNativeBitmap=function(t){var e=this.mResources.getObjectValue(c.x2698438219630994316x(t));return e?e.getNativeBitmap():null},r.removeNativeBitmapResource=function(t){this.mResources.setObjectValue(c.x2698438219630994316x(t),null)},r.addNativeSpriteFrameResource=function(t,e,i){if(!i||""==i)return 0;var n=h.x3659968214579871874x(t);if(!this.mResources.getObjectValue(n)){var r=new h(this,n,t,e,i);this.addResource(r)}return n},r.getNativeSpriteFrameResourceState=function(t){return this.getResourceStateWithId(h.x3659968214579871874x(t))},r.getNativeSpriteFrameResource=function(t){return this.mResources.getObjectValue(h.x3659968214579871874x(t))},r.getNativeSpriteFrame=function(t,e){var i=this.getNativeSpriteFrameResource(t);return i?i.getNativeSpriteFrame(e):null},r.removeNativeSpriteFrameResource=function(t){this.mResources.setObjectValue(h.x3659968214579871874x(t),null)},r.addNativeSoundResource=function(t,e,i,n,r){if(!i||""==i)return 0;var s=l.x2645505544587084981x(t);if(!this.mResources.getObjectValue(s)){var a=new l(this,s,t,e,i,n,r);this.addResource(a)}return s},r.getNativeSoundResourceState=function(t){return this.getResourceStateWithId(l.x2645505544587084981x(t))},r.getNativeSoundResource=function(t){return this.mResources.getObjectValue(l.x2645505544587084981x(t))},r.getNativeSound=function(t,e){var i=this.getNativeSoundResource(t);return i?i.getNativeSound():null},r.removeNativeSoundResource=function(t){this.mResources.setObjectValue(l.x2645505544587084981x(t),null)},r.addNativeTextureResource=function(t,e,i){if(!i||""==i)return 0;var n=g.x78051563000699619x(t);if(!this.mResources.getObjectValue(n)){var r=new g(this,n,t,e,i);this.addResource(r)}return n},r.getNativeTextureResourceState=function(t){return this.getResourceStateWithId(g.x78051563000699619x(t))},r.getNativeTextureResource=function(t){return this.mResources.getObjectValue(g.x78051563000699619x(t))},r.getNativeTexture=function(t){var e=this.mResources.getObjectValue(g.x78051563000699619x(t));return e?e.getNativeTexture():null},r.removeNativeTextureResource=function(t){this.mResources.setObjectValue(g.x78051563000699619x(t),null)},r.addTextResource=function(t,e,i){if(!i||""==i)return 0;var n=m.x4165327605482766573x(t);if(!this.mResources.getObjectValue(n)){var r=new m(this,n,t,e,i);this.addResource(r)}return n},r.getTextResourceState=function(t){return this.getResourceStateWithId(m.x4165327605482766573x(t))},r.getText=function(t,e){var i=this.mResources.getObjectValue(m.x4165327605482766573x(t));return i?i.getText(e):""},r.removeTextResource=function(t){this.mResources.setObjectValue(m.x4165327605482766573x(t),null)},r.startLoading=function(){this.mIsLoading=!0},r.processLoading=function(){if(this.mIsLoading){for(var t=null,e="",i=this.mResourcesToLoad.getNumObjects(),r=0;r<i;r++)if(t=this.mResourcesToLoad.getAtIndex(r),""==e&&(e=t.getResourceGroupName()),t.getResourceGroupName()==e){var s=!1;switch(t.processLoading()){case n.x435844797934444114x:break;case n.x816060623491963128x:s=!0;break;case n.x2810067176957391831x:s=!0,this.mMessageData.setIntValue(n.x2491770958628223780x,t.getResourceId()),this.mMessageData.setStringValue(n.x485972557747515673x,t.getResourceName()),this.dispatchMessage(n.x2109141985923158648x,this,this.mMessageData)}s&&(this.mResourcesToLoad.removeAtIndex(r),r--,i--)}this.mIsLoading=this.mResourcesToLoad.getNumObjects()>0}},r.isDoneLoading=function(t){if(this.mIsLoading){for(var e=null,i=this.mResourcesToLoad.getNumObjects(),r=0;r<i;r++)if(e=this.mResourcesToLoad.getAtIndex(r),!t||""==t||e.getResourceGroupName()==t)switch(e.getCurrentState()){case n.x170763479412772967x:case n.x435844797934444114x:return!1}return!0}return!0},r.getResourceStateWithId=function(t){var e=this.mResources.getObjectValue(t);return e?e.getCurrentState():n.x4409586630981676627x},r.expandFilePath=function(t){return x.stringStartsWith(t,"/")||s.isFilePathRemote(t)?t:this.mResourcesPath+"/"+t},r.addResource=function(t){this.mResources.getObjectValue(t.getResourceId())||(t.addDependenciesToMgr(),this.mResources.setObjectValue(t.getResourceId(),t),this.mResourcesToLoad.pushBack(t))},r.x1721113016797186854x=function(){null!==this.mResources&&(this.mResources.destroy(),this.mResources=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),null!==this.mResourcesToLoad&&(this.mResourcesToLoad.destroy(),this.mResourcesToLoad=null),t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x170763479412772967x",get:function(){return 0}},{key:"x435844797934444114x",get:function(){return 725494694}},{key:"x816060623491963128x",get:function(){return 1539576827}},{key:"x2810067176957391831x",get:function(){return 1444051506}},{key:"x4409586630981676627x",get:function(){return 2095299568}},{key:"kBPSTetResourceMgrMessageId_loadingStarted",get:function(){return 2094229076}},{key:"kBPSTetResourceMgrMessageId_loadingEnded",get:function(){return 1230625869}},{key:"x2109141985923158648x",get:function(){return 1086178089}},{key:"x2491770958628223780x",get:function(){return 585222863}},{key:"x485972557747515673x",get:function(){return 136336319}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x4127996380524714105x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x}],execute:function(){n._RF.push({},"849e4ZYlXNK/Yr+dj8s4oef","x4127996380524714105x",void 0),t("x4127996380524714105x",function(t){function n(){var e;for((e=t.call(this)||this).mt=new Array,e.mag01=new Array,e.mSeed=0,e.mt.length=0;e.mt.length<n.N;)e.mt.push(0);for(var i=0;i<n.N;i++)e.mt[i]=0;for(e.mti=n.N+1,e.mag01.length=0;e.mag01.length<2;)e.mag01.push(0);return e.mag01[0]=0,e.mag01[1]=n.MATRIX_A,e.reset(),e}e(n,t);var r=n.prototype;return r.getSeed=function(){return this.mSeed},r.setSeed=function(t){for(this.mSeed=t,this.mt[0]=4294967295&this.mSeed,this.mti=1;this.mti<n.N;this.mti++)this.mt[this.mti]=1812433253*(this.mt[this.mti-1]^this.mt[this.mti-1]>>>30)+this.mti,this.mt[this.mti]&=4294967295},r.nextInt=function(){var t;if(this.mti>=n.N){var e;for(e=0;e<n.N-n.M;e++)t=this.mt[e]&n.UPPER_MASK|this.mt[e+1]&n.LOWER_MASK,this.mt[e]=this.mt[e+n.M]^t>>>1^this.mag01[1&t];for(;e<n.N-1;e++)t=this.mt[e]&n.UPPER_MASK|this.mt[e+1]&n.LOWER_MASK,this.mt[e]=this.mt[e+(n.M-n.N)]^t>>>1^this.mag01[1&t];t=this.mt[n.N-1]&n.UPPER_MASK|this.mt[0]&n.LOWER_MASK,this.mt[n.N-1]=this.mt[n.M-1]^t>>>1^this.mag01[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,2147483647&((t^=t<<15&4022730752)^t>>>18)},r.nextIntInRange=function(t,e){return e<t?t:t+this.nextInt()%(e-t+1)},r.reset=function(){this.setSeed(this.mSeed)},r.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"N",get:function(){return 624}},{key:"M",get:function(){return 397}},{key:"MATRIX_A",get:function(){return 2567483615}},{key:"UPPER_MASK",get:function(){return 2147483648}},{key:"LOWER_MASK",get:function(){return 2147483647}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x2575454559594932682x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x982037128155278742x.ts","./x702435451033209193x.ts","./x935098930897063106x.ts","./x349179295227638153x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x982037128155278742x},function(t){r=t.x702435451033209193x},function(t){s=t.x935098930897063106x},function(t){a=t.x349179295227638153x}],execute:function(){i._RF.push({},"7d1c6yNCMxPQrY47u8vbyTx","x2575454559594932682x",void 0),t("x2575454559594932682x",function(t){function i(e,i){var n;return(n=t.call(this,i.getMatrixWidth(),i.getMatrixHeight(),i.getMatrixVisibleHeight(),i.getPieceFactory().getPieceData())||this).x579531782215431710x=e,n.mPlayer=i,n}e(i,t);var o=i.prototype;return o.destroy=function(){t.prototype.destroy.call(this)},o.x2837559168208578010x=function(){for(var t=this.mPlayer.getMatrix(),e=t.getWidth(),i=t.getHeight(),n=0;n<i;n++)for(var r=0;r<e;r++){var s=t.getMinoAt(r,n);s&&this.setCurrentStateMatrixMino(s.getMinoTypeId(),r,n)}},o.x1305601496123613613x=function(){return this.mPlayer.getTotalElapsedTimeMSEC()},o.x1168407876190680895x=function(t,e,i,n,r){var a=this.mPlayer.getLivePiece();a&&a.setTransform(t,e,i),n===s.x274660332411645642x&&this.isSoftDropOn()&&this.mPlayer.handleLivePieceSoftDropSteps(1),this.x579531782215431710x.dispatchControlActionSucceededMessage(n)},o.x1512348144720096233x=function(t){switch(t){case s.x3654181238410086381x:return this.mPlayer.performHoldAction(),this.x579531782215431710x.dispatchControlActionSucceededMessage(t),!0;case s.x2288110086882958751x:return this.mPlayer.tryActivateNextQueuedPendingAction(),!0;default:return!1}},o.x1702561433221128338x=function(t){this.x579531782215431710x.dispatchControlActionFailedMessage(t)},o.x207740918435054839x=function(t,e,i){var n=this.mPlayer.getGhostPiece(!0);n&&n.setTransform(t,e,i)},o.x4128265775335110378x=function(t){this.mPlayer.setIsGhostPieceValid(t)},o.x4386291552209372470x=function(t){var e=this.mPlayer.getLivePiece();e&&e.setMinosLogicalState(a.x3729310023219695253x);var i=this.mPlayer.getGhostPiece(!0);i&&i.setMinosLogicalState(a.x853617920205802087x)},o.x3319777695370227496x=function(t,e){var i=r.FXPTDivide(r.FXPTFromInt(t),r.FXPTFromInt(t+e)),n=this.mPlayer.getLivePiece();n&&(n.setMinosLogicalState(a.x3729310023219695253x),n.setMinosLogicalStateTween_FXPT(i));var s=this.mPlayer.getGhostPiece(!0);s&&(s.setMinosLogicalState(a.x853617920205802087x),s.setMinosLogicalStateTween_FXPT(i))},o.x1382977277032518788x=function(){var t=this.mPlayer.getLivePiece();t&&(t.setMinosLogicalState(a.x3729310023219695253x),t.setMinosLogicalStateTween_FXPT(r.x3167629350924187699x));var e=this.mPlayer.getGhostPiece(!0);e&&(e.setMinosLogicalState(a.x853617920205802087x),e.setMinosLogicalStateTween_FXPT(r.x3167629350924187699x))},o.x1980753659206536435x=function(){var t=this.mPlayer.getLivePiece();t&&t.setMinosLogicalState(a.x2419069812277367245x);var e=this.mPlayer.getGhostPiece(!0);e&&e.setMinosLogicalState(a.x1778395811108923465x)},o.x1600135720966771003x=function(){this.getActiveInputType()==n.x481964451504965421x&&this.mPlayer.handleLivePieceSoftDropSteps(this.getSoftDropStepsForPiece()),this.mPlayer.handleLivePieceHardDropSteps(this.getHardDropStepsForPiece()),this.mPlayer.handleLivePieceTSpin(this.getTSpinTypeForPiece()),this.mPlayer.lockLivePieceIntoMatrix()},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x1300708268651209083x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3339987402386958992x.ts","./x2575454559594932682x.ts","./x3693760142138385085x.ts","./x1232577566642415821x.ts","./x1930801154962670888x.ts","./x702435451033209193x.ts","./x982037128155278742x.ts","./x49008801373907804x.ts","./x3461623316906106937x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3339987402386958992x},function(t){a=t.x2575454559594932682x},function(t){o=t.x3693760142138385085x},function(t){x=t.x1232577566642415821x},function(t){u=t.x1930801154962670888x},function(t){c=t.x702435451033209193x},function(t){l=t.x982037128155278742x},function(t){h=t.x49008801373907804x},function(t){m=t.x3461623316906106937x}],execute:function(){r._RF.push({},"96eeaY1NdRIYrOwFnX96Rha","x1300708268651209083x",void 0),t("x1300708268651209083x",function(t){function r(e,i){var s;return(s=t.call(this,r.x2958512089971287522x,e)||this).getParams().setIntValue(r.x1889189572273146763x,1),s.getParams().setIntValue(r.x2288572811181378879x,1),s.getParams().setIntValue(r.x2506213318390583504x,1),s.getParams().setIntValue(r.x1747295659412860073x,1e3),s.getParams().setIntValue(r.x4447096661129722368x,50),s.getParams().setIntValue(r.x1113631842119506086x,500),s.getParams().setBoolValue(r.x238645490396048231x,!0),s.getParams().setBoolValue(r.x1243698928419496678x,!1),s.getParams().setBoolValue(r.x2414738948654762204x,!1),s.getParams().setStringValue(r.x1180876976189756047x,"direct"),s.getParams().setBoolValue(r.x2149666500415112980x,!0),s.getParams().createDictionary(r.x2003570946515375886x,"",999,!0),s.getParams().getDictionary(r.x2003570946515375886x).setBoolValue(r.x1651871492772466688x,!1),s.getParams().getDictionary(r.x2003570946515375886x).setBoolValue(r.x2082010852612396817x,!0),s.getParams().getDictionary(r.x2003570946515375886x).setBoolValue(r.x2834940315978304066x,!0),s.getParams().getDictionary(r.x2003570946515375886x).setBoolValue(r.x439015863162601267x,!0),s.getParams().getDictionary(r.x2003570946515375886x).setBoolValue(r.x3499663172379106806x,!1),s.getParams().getDictionary(r.x2003570946515375886x).setIntValue(r.x4483296546809494979x,0),s.getParams().getDictionary(r.x2003570946515375886x).setIntValue(r.x3077521158705307390x,200),s.getParams().getDictionary(r.x2003570946515375886x).setIntValue(r.x3611508355657884921x,400),s.getParams().getDictionary(r.x2003570946515375886x).setIntValue(r.x1932269299472430410x,50),s.getParams().getDictionary(r.x2003570946515375886x).createDictionary(r.x1432327093733771019x,"",999,!0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x3944207614407395603x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x3389989162336962390x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x4301028775658722610x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x1525853313228968679x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x4121729464153953453x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x440597886295691369x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x1220798543241579896x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x1073913433682046709x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x92363712584835138x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x3981976879877316126x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x4497721849902637071x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x3828025037679175570x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x2208836823634645889x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x3065255864221441744x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x1661556988401355454x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x681765871620034291x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x2016644452148779882x,0),s.getParams().getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).setIntValue(r.x4340587798663113300x,0),s.getParams().createDictionary(r.x4389815947638728277x,"",999,!0),s.getParams().getDictionary(r.x4389815947638728277x).setBoolValue(r.x4386078551772316897x,!0),s.getParams().getDictionary(r.x4389815947638728277x).setBoolValue(r.x3754557951868703913x,!0),s.getParams().getDictionary(r.x4389815947638728277x).setIntValue(r.x243323854770617279x,170),s.getParams().getDictionary(r.x4389815947638728277x).setIntValue(r.x3184348390516835842x,50),s.getParams().getDictionary(r.x4389815947638728277x).setIntValue(r.x1452721090616684655x,15),s.getParams().getDictionary(r.x4389815947638728277x).createDictionary(r.x4413180936551149923x,"",999,!0),s.getParams().getDictionary2(r.x4389815947638728277x,r.x4413180936551149923x).setStringValue(r.x1574170212971589287x,x.getKeyboardDeviceControlString(x.x1597228462527623109x)),s.getParams().getDictionary2(r.x4389815947638728277x,r.x4413180936551149923x).setStringValue(r.x811435244723270106x,x.getKeyboardDeviceControlString(x.x3108845472590638251x)),s.getParams().getDictionary2(r.x4389815947638728277x,r.x4413180936551149923x).setStringValue(r.x4542408558815725369x,x.getKeyboardDeviceControlString(x.x1807416947540734653x)),s.getParams().getDictionary2(r.x4389815947638728277x,r.x4413180936551149923x).setStringValue(r.x2898477135344454250x,x.getKeyboardDeviceControlString(x.x2509339878574813410x)),s.getParams().getDictionary2(r.x4389815947638728277x,r.x4413180936551149923x).setStringValue(r.x417808279870630201x,x.getKeyboardDeviceControlString(x.x1860907962812433353x)),s.getParams().getDictionary2(r.x4389815947638728277x,r.x4413180936551149923x).setStringValue(r.x144159732418709698x,x.getKeyboardDeviceControlString(x.x996033665766562016x)),s.getParams().getDictionary2(r.x4389815947638728277x,r.x4413180936551149923x).setStringValue(r.x3435424149473420478x,x.getKeyboardDeviceControlString(x.x4045304976290217061x)),s.getParams().getDictionary2(r.x4389815947638728277x,r.x4413180936551149923x).setStringValue(r.x33542030152053744x,""),s.getParams().createDictionary(r.x141473379542339770x,"",999,!0),s.getParams().getDictionary(r.x141473379542339770x).setBoolValue(r.x479756839825140796x,!0),s.getParams().getDictionary(r.x141473379542339770x).setBoolValue(r.x179048128773358313x,!0),s.getParams().getDictionary(r.x141473379542339770x).setIntValue(r.x821315891013836756x,2),s.getParams().getDictionary(r.x141473379542339770x).setBoolValue(r.x3642238406334353505x,!1),s.getParams().getDictionary(r.x141473379542339770x).setIntValue(r.x3227895495611036052x,c.FXPTFromFloat(.1)),s.getParams().getDictionary(r.x141473379542339770x).setBoolValue(r.x859493416718465993x,!1),s.getParams().getDictionary(r.x141473379542339770x).setBoolValue(r.x815279212891980593x,!0),s.getParams().getDictionary(r.x141473379542339770x).setBoolValue(r.x1838432691759323853x,!0),s.getParams().getDictionary(r.x141473379542339770x).setBoolValue(r.x2572574690382978026x,!0),s.getParams().getDictionary(r.x141473379542339770x).setIntValue(r.x2218323921589093109x,20),s.getParams().getDictionary(r.x141473379542339770x).setBoolValue(r.x1461650096496468011x,!0),s.getParams().getDictionary(r.x141473379542339770x).setBoolValue(r.x2037696948833675224x,!0),s.getParams().getDictionary(r.x141473379542339770x).setIntValue(r.x670428133324870837x,1e3),s.getParams().getDictionary(r.x141473379542339770x).setIntValue(r.x3940825770665246208x,1e3),s.getParams().getDictionary(r.x141473379542339770x).setIntValue(r.x1200622413024129904x,c.FXPTFromFloat(0)),s.getParams().getDictionary(r.x141473379542339770x).setBoolValue(r.x3078524103470255578x,!0),s.getParams().getDictionary(r.x141473379542339770x).setIntValue(r.x2890595488587048525x,30),s.getParams().getDictionary(r.x141473379542339770x).setIntValue(r.x4025007901577418250x,0),s.getParams().getDictionary(r.x141473379542339770x).createDictionary(r.x2062418546955432343x,"",999,!0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x3944207614407395603x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x3389989162336962390x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x4301028775658722610x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x1525853313228968679x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x4121729464153953453x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x440597886295691369x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x1220798543241579896x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x1073913433682046709x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x92363712584835138x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x3981976879877316126x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x4497721849902637071x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x3828025037679175570x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x2208836823634645889x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x3065255864221441744x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x1661556988401355454x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x681765871620034291x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x2016644452148779882x,0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2062418546955432343x).setIntValue(r.x4340587798663113300x,0),s.getParams().getDictionary(r.x141473379542339770x).createDictionary(r.x2599673411601714061x,"",999,!0),s.getParams().getDictionary2(r.x141473379542339770x,r.x2599673411601714061x).setStringValue(r.x1138341603510442844x,x.getGamePointerDeviceControlString(x.x3423209971934666902x)),s.getParams().getDictionary2(r.x141473379542339770x,r.x2599673411601714061x).setStringValue(r.x1616454791414851771x,x.getGamePointerDeviceControlString(x.x3423209971934666902x)),s.getParams().getDictionary2(r.x141473379542339770x,r.x2599673411601714061x).setStringValue(r.x3943540342149086157x,""),s.getParams().getDictionary2(r.x141473379542339770x,r.x2599673411601714061x).setStringValue(r.x4151420192562989922x,""),s.getParams().getDictionary2(r.x141473379542339770x,r.x2599673411601714061x).setStringValue(r.x2979549595693024905x,""),s.getParams().getDictionary2(r.x141473379542339770x,r.x2599673411601714061x).setStringValue(r.x1954531380908176994x,x.getKeyboardDeviceControlString(x.x996033665766562016x)),s.getParams().getDictionary2(r.x141473379542339770x,r.x2599673411601714061x).setStringValue(r.x1745844286975101128x,x.getGamePointerDeviceControlString(x.x3361498628613778653x)),s.getParams().getDictionary2(r.x141473379542339770x,r.x2599673411601714061x).setStringValue(r.x1665173941170854035x,""),s.getParams().getDictionary2(r.x141473379542339770x,r.x2599673411601714061x).setStringValue(r.x1131481219667063240x,""),s.getParams().getDictionary2(r.x141473379542339770x,r.x2599673411601714061x).setStringValue(r.x664783984897691975x,""),s.getParams().createDictionary(r.x3972835115247936127x,"",999,!0),s.getParams().getDictionary(r.x3972835115247936127x).setBoolValue(r.x2720532332734695802x,!0),s.getParams().getDictionary(r.x3972835115247936127x).setIntValue(r.x3241273249599443780x,c.FXPTFromFloat(1.399)),s.getParams().getDictionary(r.x3972835115247936127x).setBoolValue(r.x3575943529029749173x,!0),s.getParams().getDictionary(r.x3972835115247936127x).setIntValue(r.x136927643447107373x,c.FXPTFromFloat(1.4)),s.getParams().getDictionary(r.x3972835115247936127x).setIntValue(r.x3206360509061965303x,c.FXPTFromFloat(2)),s.getParams().getDictionary(r.x3972835115247936127x).setIntValue(r.x3329381232760175037x,c.FXPTFromFloat(4)),s.getParams().getDictionary(r.x3972835115247936127x).setIntValue(r.x3900925345264767837x,c.FXPTFromFloat(1)),s.getParams().getDictionary(r.x3972835115247936127x).setIntValue(r.x2155247458807087879x,c.FXPTFromFloat(1)),s.getParams().getDictionary(r.x3972835115247936127x).setIntValue(r.x73470404395284133x,c.FXPTFromFloat(1.5)),s.getParams().getDictionary(r.x3972835115247936127x).setIntValue(r.x546026045631871709x,c.FXPTFromFloat(8)),s.getParams().getDictionary(r.x3972835115247936127x).setIntValue(r.x1123601440976234539x,c.FXPTFromFloat(1.5)),s.getParams().getDictionary(r.x3972835115247936127x).setIntValue(r.x892956784091154870x,c.FXPTFromFloat(8)),s.getParams().getDictionary(r.x3972835115247936127x).setIntValue(r.x3790065025115118361x,c.FXPTFromFloat(.9)),s.getParams().getDictionary(r.x3972835115247936127x).createDictionary(r.x840412874150542925x,"",999,!0),s.getParams().getDictionary2(r.x3972835115247936127x,r.x840412874150542925x).setStringValue(r.x3878856900235735674x,x.getGamePointerDeviceControlString(x.x3423209971934666902x)),s.getParams().getDictionary2(r.x3972835115247936127x,r.x840412874150542925x).setStringValue(r.x1303075520446425715x,x.getGamePointerDeviceControlString(x.x3423209971934666902x)),s.getParams().getDictionary2(r.x3972835115247936127x,r.x840412874150542925x).setStringValue(r.x2158378947391088298x,x.getGamePointerDeviceControlString(x.x3361498628613778653x)),s.getParams().getDictionary2(r.x3972835115247936127x,r.x840412874150542925x).setStringValue(r.x765758482534106828x,""),s.getParams().copy(i,!1),s.x2257488163762061338x=null,s.mInputMgr=null,s.mMessageData=null,e&&(e.addMessageListener(n(s)),e.getGame().addMessageListener(n(s)),s.mInputMgr=new x(n(s)),s.x2257488163762061338x=new a(n(s),s.getPlayer()),s.x2300749246457708277x(s.getParams()),s.x2257488163762061338x.suspendActivity(),s.mMessageData=new o(!1),s.setNextState(1,!1)),s}e(r,t),r.createDefaultParams=function(){var t=new o(!0),e=new r(null,null);return t.copy(e.getParams(),!0),null!==e&&(e.destroy(),e=null),t};var s=r.prototype;return s.x3633925409096558838x=function(){return this.x2257488163762061338x},s.x2300749246457708277x=function(t){this.getParams().copy(t,!1);var e=this.getParams();if(this.x2257488163762061338x.x3615577876709611752x(e.getIntValue(r.x2506213318390583504x)),this.x2257488163762061338x.x4164087698951727173x(e.getIntValue(r.x1747295659412860073x)),this.x2257488163762061338x.x2754687971609592792x(e.getIntValue(r.x4447096661129722368x)),this.x2257488163762061338x.x2107994403366030938x(e.getIntValue(r.x1113631842119506086x)),this.x2257488163762061338x.x158787207057406356x(e.getBoolValue(r.x238645490396048231x)),this.x2257488163762061338x.x3624274912751898799x(e.getBoolValue(r.x1243698928419496678x)),this.x2257488163762061338x.getModel().mAllowInfiniteHold=e.getBoolValue(r.x2414738948654762204x),e.getDictionary(r.x2003570946515375886x).getBoolValue(r.x1651871492772466688x)){this.x2257488163762061338x.enableInputType(l.x383607419347711601x),this.x2257488163762061338x.getController().getAIInputMgr().mParameter_enablePieceFall=e.getDictionary(r.x2003570946515375886x).getBoolValue(r.x2082010852612396817x),this.x2257488163762061338x.getController().getAIInputMgr().mParameter_enableLockTimer=e.getDictionary(r.x2003570946515375886x).getBoolValue(r.x2834940315978304066x),this.x2257488163762061338x.getController().getAIInputMgr().mParameter_enableHardDrop=e.getDictionary(r.x2003570946515375886x).getBoolValue(r.x439015863162601267x),this.x2257488163762061338x.getController().getAIInputMgr().mParameter_enableHold=e.getDictionary(r.x2003570946515375886x).getBoolValue(r.x3499663172379106806x),this.x2257488163762061338x.getController().getAIInputMgr().mParameter_actionPreDelayMSEC_firstStepMin=e.getDictionary(r.x2003570946515375886x).getIntValue(r.x3077521158705307390x),this.x2257488163762061338x.getController().getAIInputMgr().mParameter_actionPreDelayMSEC_firstStepMax=e.getDictionary(r.x2003570946515375886x).getIntValue(r.x3611508355657884921x);var i=e.getDictionary(r.x2003570946515375886x).getIntValue(r.x1932269299472430410x);this.x2257488163762061338x.getController().getAIInputMgr().mParameter_actionPreDelayMSEC_moveLR=i,this.x2257488163762061338x.getController().getAIInputMgr().mParameter_actionPreDelayMSEC_rotate=i,this.x2257488163762061338x.getController().getAIInputMgr().mParameter_actionPreDelayMSEC_hardDrop=i;var n=this.x2257488163762061338x.getController().getAIInputMgr().getTargetFinder();n.mParameter_evaluation_singleLineClear=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x3944207614407395603x),n.mParameter_evaluation_doubleLineClear=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x3389989162336962390x),n.mParameter_evaluation_tripleLineClear=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x4301028775658722610x),n.mParameter_evaluation_tetrisLineClear=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x1525853313228968679x),n.mParameter_evaluation_perTouchedNSurface=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x4121729464153953453x),n.mParameter_evaluation_perTouchedSSurface=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x440597886295691369x),n.mParameter_evaluation_perTouchedESurface=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x1220798543241579896x),n.mParameter_evaluation_perTouchedWSurface=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x1073913433682046709x),n.mParameter_evaluation_perRowFit=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x92363712584835138x),n.mParameter_evaluation_touchingRightWall=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x3981976879877316126x),n.mParameter_evaluation_perCave=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x4497721849902637071x),n.mParameter_evaluation_holeCheckDepthLimit=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x3828025037679175570x),n.mParameter_evaluation_perHole=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x2208836823634645889x),n.mParameter_evaluation_perCoveredISlotDepth=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x3065255864221441744x),n.mParameter_evaluation_coveredISlotMaxTopDepth=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x1661556988401355454x),n.mParameter_evaluation_coveredISlotMaxSize=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x681765871620034291x),n.mParameter_evaluation_NFacingVSEquivalent=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x2651261134673421364x),n.mParameter_evaluation_maxMinoYMultiplier=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValue(r.x2016644452148779882x),n.mParameter_evaluation_digModeActivationHeight=e.getDictionary2(r.x2003570946515375886x,r.x1432327093733771019x).getIntValueWithDefault(r.x4340587798663113300x,1e6)}else this.x2257488163762061338x.disableInputType(l.x383607419347711601x);if(e.getDictionary(r.x4389815947638728277x).getBoolValue(r.x4386078551772316897x)?(this.x2257488163762061338x.enableInputType(l.x3435724326894576505x),this.x2257488163762061338x.setDirectInputParameter_enableMoveLRAutoRepeat(e.getDictionary(r.x4389815947638728277x).getBoolValue(r.x3754557951868703913x)),this.x2257488163762061338x.setDirectInputParameter_moveLRAutoRepeatInitialDelayMSEC(e.getDictionary(r.x4389815947638728277x).getIntValue(r.x243323854770617279x)),this.x2257488163762061338x.setDirectInputParameter_moveLRAutoRepeatDelayMSEC(e.getDictionary(r.x4389815947638728277x).getIntValue(r.x3184348390516835842x))):this.x2257488163762061338x.disableInputType(l.x3435724326894576505x),this.x2257488163762061338x.setDirectInputParameter_placementsAllowedBeforeLock(e.getDictionary(r.x4389815947638728277x).getIntValue(r.x1452721090616684655x)),e.getDictionary(r.x141473379542339770x).getBoolValue(r.x479756839825140796x)){this.x2257488163762061338x.enableInputType(l.x481964451504965421x),this.x2257488163762061338x.setSmartInputParameter_isTargetFacingFixed(e.getDictionary(r.x141473379542339770x).getBoolValue(r.x3642238406334353505x)),this.x2257488163762061338x.setSmartInputParameter_cellTrackingInset_FXPT(e.getDictionary(r.x141473379542339770x).getIntValue(r.x3227895495611036052x)),this.x2257488163762061338x.setSmartInputParameter_restrictReachableTransforms(e.getDictionary(r.x141473379542339770x).getBoolValue(r.x859493416718465993x)),this.x2257488163762061338x.setSmartInputParameter_searchCellForTarget(e.getDictionary(r.x141473379542339770x).getBoolValue(r.x815279212891980593x)),this.x2257488163762061338x.setSmartInputParameter_searchColumnForTarget(e.getDictionary(r.x141473379542339770x).getBoolValue(r.x1838432691759323853x)),this.x2257488163762061338x.setSmartInputParameter_lockLivePieceAtTarget(e.getDictionary(r.x141473379542339770x).getBoolValue(r.x2572574690382978026x)),this.x2257488163762061338x.setSmartInputParameter_snapToTargetOnTouchDownFallSpeedMSEC(e.getDictionary(r.x141473379542339770x).getIntValue(r.x2218323921589093109x)),this.x2257488163762061338x.setSmartInputParameter_updateTargetWhilePointerInputIsOff(e.getDictionary(r.x141473379542339770x).getBoolValue(r.x1461650096496468011x)),this.x2257488163762061338x.setSmartInputParameter_forceValidTarget(e.getDictionary(r.x141473379542339770x).getBoolValue(r.x3078524103470255578x)),this.x2257488163762061338x.setSmartInputParameter_pointerSelectTargetMatrixBufferX(e.getDictionary(r.x141473379542339770x).getIntValue(r.x670428133324870837x)),this.x2257488163762061338x.setSmartInputParameter_pointerSelectTargetMatrixBufferY(e.getDictionary(r.x141473379542339770x).getIntValue(r.x3940825770665246208x)),this.x2257488163762061338x.setSmartInputParameter_selectTargetAtPointerInputOn(e.getDictionary(r.x141473379542339770x).getBoolValue(r.x2037696948833675224x)),this.x2257488163762061338x.setSmartInputParameter_pointerSmoothingWeight_FXPT(e.getDictionary(r.x141473379542339770x).getIntValue(r.x1200622413024129904x)),this.x2257488163762061338x.getModel().mEnablePathToTarget=e.getDictionary(r.x141473379542339770x).getIntValue(r.x4025007901577418250x)>0;var s=this.x2257488163762061338x.getController().getSmartInputMgr().getTargetFinder();s.mParameter_evaluation_singleLineClear=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x3944207614407395603x),s.mParameter_evaluation_doubleLineClear=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x3389989162336962390x),s.mParameter_evaluation_tripleLineClear=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x4301028775658722610x),s.mParameter_evaluation_tetrisLineClear=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x1525853313228968679x),s.mParameter_evaluation_perTouchedNSurface=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x4121729464153953453x),s.mParameter_evaluation_perTouchedSSurface=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x440597886295691369x),s.mParameter_evaluation_perTouchedESurface=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x1220798543241579896x),s.mParameter_evaluation_perTouchedWSurface=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x1073913433682046709x),s.mParameter_evaluation_perRowFit=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x92363712584835138x),s.mParameter_evaluation_touchingRightWall=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x3981976879877316126x),s.mParameter_evaluation_perCave=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x4497721849902637071x),s.mParameter_evaluation_holeCheckDepthLimit=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x3828025037679175570x),s.mParameter_evaluation_perHole=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x2208836823634645889x),s.mParameter_evaluation_perCoveredISlotDepth=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x3065255864221441744x),s.mParameter_evaluation_coveredISlotMaxTopDepth=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x1661556988401355454x),s.mParameter_evaluation_coveredISlotMaxSize=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x681765871620034291x),s.mParameter_evaluation_NFacingVSEquivalent=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x2651261134673421364x),s.mParameter_evaluation_maxMinoYMultiplier=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValue(r.x2016644452148779882x),s.mParameter_evaluation_digModeActivationHeight=e.getDictionary2(r.x141473379542339770x,r.x1432327093733771019x).getIntValueWithDefault(r.x4340587798663113300x,999999),this.x2257488163762061338x.getController().getSmartInputMgr().mEnablePathToTargetHardDrop=!0,this.x2257488163762061338x.getController().getSmartInputMgr().mOptimizePathToTarget=!0}else this.x2257488163762061338x.disableInputType(l.x481964451504965421x);this.x2257488163762061338x.setSmartInputParameter_smartPlacementsAllowedBeforeLock(e.getDictionary(r.x141473379542339770x).getIntValue(r.x2890595488587048525x)),e.getDictionary(r.x3972835115247936127x).getBoolValue(r.x2720532332734695802x)?(this.x2257488163762061338x.enableInputType(l.x4564893816674366522x),this.x2257488163762061338x.setGestureInputParameter_maxRotationTapDistance_FXPT(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x3241273249599443780x)),this.x2257488163762061338x.setGestureInputParameter_maxRotationTapTimeMSEC(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x2580804264498068655x)),this.x2257488163762061338x.setGestureInputParameter_enableCCWRotation(e.getDictionary(r.x3972835115247936127x).getBoolValue(r.x3575943529029749173x)),this.x2257488163762061338x.setGestureInputParameter_moveLRDragDistanceX_FXPT(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x136927643447107373x)),this.x2257488163762061338x.setGestureInputParameter_minSoftDropDragDistanceY_FXPT(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x3206360509061965303x)),this.x2257488163762061338x.setGestureInputParameter_minSoftDropDragVelocityY_FXPT(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x3329381232760175037x)),this.x2257488163762061338x.setGestureInputParameter_minStopSoftDropDragDistanceY_FXPT(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x3900925345264767837x)),this.x2257488163762061338x.setGestureInputParameter_minStopSoftDropDragVelocityY_FXPT(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x2155247458807087879x)),this.x2257488163762061338x.setGestureInputParameter_minHardDropDragDistanceY_FXPT(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x73470404395284133x)),this.x2257488163762061338x.setGestureInputParameter_minHardDropDragVelocityY_FXPT(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x546026045631871709x)),this.x2257488163762061338x.setGestureInputParameter_minHoldDragDistanceY_FXPT(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x1123601440976234539x)),this.x2257488163762061338x.setGestureInputParameter_minHoldDragVelocityY_FXPT(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x892956784091154870x)),this.x2257488163762061338x.setGestureInputParameter_velocitySmoothingWeight_FXPT(e.getDictionary(r.x3972835115247936127x).getIntValue(r.x3790065025115118361x))):this.x2257488163762061338x.disableInputType(l.x4564893816674366522x),this.initializeInputs()},s.getInputMgr=function(){return this.mInputMgr},s.initializeInputs=function(){this.remapInputs(),this.x2257488163762061338x.setActiveInputType(l.getInputTypeForName(this.getParams().getStringValue(r.x1180876976189756047x))),this.x2257488163762061338x.setEnableAutomaticInputTypeSwitching(this.getParams().getBoolValue(r.x2149666500415112980x))},s.remapInputs=function(){this.remapInputsForInputType(l.x3435724326894576505x),this.remapInputsForPointerInputType(this.getParams().getIntValue(r.x1889189572273146763x),!1)},s.handleDeviceControlOn=function(t,e,i,n){return this.mInputMgr.handleDeviceControlOn(t,e,i,n)},s.handleDeviceControlOff=function(t,e,i,n){return this.mInputMgr.handleDeviceControlOff(t,e,i,n)},s.handleDeviceControlValues=function(t,e,i,n){return this.mInputMgr.handleDeviceControlValues(t,e,i,n)},s.handleDeviceControlCancelled=function(t,e){return this.mInputMgr.handleDeviceControlCancelled(t,e)},s.dispatchControlActionSucceededMessage=function(t){this.mMessageData.setIntValue(r.x3416993641028547947x,t),this.dispatchMessage(r.x792076145386777064x,this,this.mMessageData)},s.dispatchControlActionFailedMessage=function(t){this.mMessageData.setIntValue(r.x211056964961241978x,t),this.dispatchMessage(r.x2991095198426092779x,this,this.mMessageData)},s.remapInputsForInputType=function(t){var e=this.getParams().getDictionary2(r.x4389815947638728277x,r.x4413180936551149923x);switch(t){case l.x3435724326894576505x:this.x2257488163762061338x.isInputTypeEnabled(t)&&(this.mapDeviceControlString(e.getStringValue(r.x1574170212971589287x),l.x84167985331149937x,!0),this.mapDeviceControlString(e.getStringValue(r.x811435244723270106x),l.x441876573218134362x,!0),this.mapDeviceControlString(e.getStringValue(r.x4542408558815725369x),l.x115904339937760766x,!0),this.mapDeviceControlString(e.getStringValue(r.x2898477135344454250x),l.x1832706965136798514x,!0),this.mapDeviceControlString(e.getStringValue(r.x417808279870630201x),l.x168675351609879829x,!0),this.mapDeviceControlString(e.getStringValue(r.x144159732418709698x),l.x4273351845952634648x,!0),this.mapDeviceControlString(e.getStringValue(r.x3435424149473420478x),l.x358855786334357761x,!0),this.mapDeviceControlString(e.getStringValue(r.x33542030152053744x),l.x4273481718810612699x,!0));break;case l.x481964451504965421x:if(this.x2257488163762061338x.isInputTypeEnabled(t)){var i=this.getParams().getDictionary2(r.x141473379542339770x,r.x2599673411601714061x);i.setStringValue(r.x1954531380908176994x,e.getStringValue(r.x144159732418709698x)),this.mapDeviceControlString(i.getStringValue(r.x1138341603510442844x),l.x1095031602718912558x,!0),this.mapDeviceControlString(i.getStringValue(r.x1616454791414851771x),l.x1095031602718912558x,!0),this.mapDeviceControlString(i.getStringValue(r.x3943540342149086157x),l.x3949101582641483860x,!0),this.mapDeviceControlString(i.getStringValue(r.x4151420192562989922x),l.x2434766824209919569x,!0),this.mapDeviceControlString(i.getStringValue(r.x2979549595693024905x),l.x3647089360411258748x,!0),this.mapDeviceControlString(i.getStringValue(r.x1954531380908176994x),l.x1546462877909911830x,!0),this.mapDeviceControlString(i.getStringValue(r.x1745844286975101128x),l.x4581489581482744052x,!0),this.mapDeviceControlString(i.getStringValue(r.x1665173941170854035x),l.x4160855571444675896x,!0),this.mapDeviceControlString(i.getStringValue(r.x1131481219667063240x),l.x4184125807101587686x,!0),this.mapDeviceControlString(i.getStringValue(r.x664783984897691975x),l.x4608136935488644028x,!0)}break;case l.x4564893816674366522x:if(this.x2257488163762061338x.isInputTypeEnabled(t)){var n=this.getParams().getDictionary2(r.x3972835115247936127x,r.x840412874150542925x);this.mapDeviceControlString(n.getStringValue(r.x3878856900235735674x),l.x3722075694695496715x,!0),this.mapDeviceControlString(n.getStringValue(r.x1303075520446425715x),l.x3722075694695496715x,!0),this.mapDeviceControlString(n.getStringValue(r.x2158378947391088298x),l.x3933010103051562368x,!0),this.mapDeviceControlString(n.getStringValue(r.x765758482534106828x),l.x947917825047960394x,!0)}}},s.remapInputsForPointerInputType=function(t,e){switch(this.getParams().setIntValue(r.x1889189572273146763x,t),t){case 1:this.remapInputsForInputType(l.x481964451504965421x);break;case 2:this.remapInputsForInputType(l.x4564893816674366522x)}if(e&&this.x2257488163762061338x)switch(t){case 1:this.x2257488163762061338x.setActiveInputType(l.x481964451504965421x);break;case 2:this.x2257488163762061338x.setActiveInputType(l.x4564893816674366522x)}},s.mapDeviceControlString=function(t,e,i){t&&""!=t?(this.mInputMgr.addInputAction(e),this.mInputMgr.mapDeviceControlString(t,e,i)):i&&this.mInputMgr.unmapInputAction(e)},s.x1721113016797186854x=function(){null!==this.x2257488163762061338x&&(this.x2257488163762061338x.destroy(),this.x2257488163762061338x=null),null!==this.mInputMgr&&(this.mInputMgr.destroy(),this.mInputMgr=null),null!==this.mMessageData&&(this.mMessageData.destroy(),this.mMessageData=null),t.prototype.x1721113016797186854x.call(this)},s.x4498870316303653116x=function(t,e,i,n){switch(t){case u.x2580340477778594771x:return e;case u.x2982972318080668761x:return 0;case u.x3793884777573381281x:return this.getPlayer().isGameActive()&&this.x2257488163762061338x.processTime(),n;case u.x4149106650117426330x:default:return 0}},s.x601562840631873202x=function(t,e,i){if(e==this.getPlayer()){var n=this.getPlayer();switch(t){case m.x1368156971866977203x:switch(this.getPlayer().getCurrentState()){case m.x2202293818172776902x:var s=n.getLivePiece();this.x2257488163762061338x.performEvaluationForIncomingPiece(s.getPieceTypeId(),s.getX(),s.getY(),s.getFacing(),n.getHoldPieceTypeId()),this.dispatchMessage(r.x1477873378143437655x,this,null),this.x2257488163762061338x.handleLivePieceDidActivate();break;case m.x2087090934618865543x:this.x2257488163762061338x.handleLivePieceDidDeactivate()}break;case m.x1596677612753542970x:var a=n.getMatrix();this.x2257488163762061338x.setMatrixLimits(a.getWidth(),a.getHeight(),a.getVisibleHeight())}}else if(e==this.getGame())switch(t){case h.x1837688871124046825x:this.getGame().getCurrentState()===h.x1514772141815616644x&&(this.x2257488163762061338x.resumeActivity(),this.mInputMgr.restartAllOnInputActions());break;case h.x2836302803929192583x:this.getGame().getCurrentState()===h.x1514772141815616644x&&this.x2257488163762061338x.suspendActivity()}},s.x2709359389131215735x=function(t,e,i){switch(this.getGame().getCurrentState()){case h.x1514772141815616644x:var n=c.FXPTFromFloat(e),r=c.FXPTFromFloat(i);this.x2257488163762061338x.handleInputIsOn(t,n,r);break;case h.x4101553028593694779x:var s=this.getPlayer();if(!s.isReadyToStartGame())switch(t){case l.x84167985331149937x:case l.x441876573218134362x:case l.x115904339937760766x:case l.x1832706965136798514x:case l.x168675351609879829x:case l.x4273351845952634648x:case l.x358855786334357761x:case l.x4273481718810612699x:s.setIsReadyToStartGame()}}return!0},s.x3129901173839047052x=function(t,e,i){if(this.getGame().getCurrentState()===h.x1514772141815616644x){var n=c.FXPTFromFloat(e),r=c.FXPTFromFloat(i);this.x2257488163762061338x.handleInputIsOff(t,n,r)}return!0},s.x982989056058830075x=function(t,e,i,n){var r=c.FXPTFromFloat(e),s=c.FXPTFromFloat(i);return this.x2257488163762061338x.handleInputPositionChanged(t,r,s),!0},s.x3700651796509435934x=function(t){return this.x2257488163762061338x.handleInputOnIsCancelled(t),!0},i(r,null,[{key:"x2958512089971287522x",get:function(){return 1114946604}},{key:"x1889189572273146763x",get:function(){return 1047210200}},{key:"x2288572811181378879x",get:function(){return 590791853}},{key:"x2506213318390583504x",get:function(){return 1189968019}},{key:"x1747295659412860073x",get:function(){return 1350722040}},{key:"x4447096661129722368x",get:function(){return 584792710}},{key:"x1113631842119506086x",get:function(){return 167210893}},{key:"x238645490396048231x",get:function(){return 622665322}},{key:"x1243698928419496678x",get:function(){return 474009247}},{key:"x2414738948654762204x",get:function(){return 984330603}},{key:"x1180876976189756047x",get:function(){return 1299843627}},{key:"x2149666500415112980x",get:function(){return 681216289}},{key:"x2003570946515375886x",get:function(){return 484565649}},{key:"x1651871492772466688x",get:function(){return 488921072}},{key:"x2082010852612396817x",get:function(){return 679462389}},{key:"x2834940315978304066x",get:function(){return 321788102}},{key:"x439015863162601267x",get:function(){return 1386830446}},{key:"x3499663172379106806x",get:function(){return 226925331}},{key:"x4483296546809494979x",get:function(){return 1587504546}},{key:"x3077521158705307390x",get:function(){return 242002602}},{key:"x3611508355657884921x",get:function(){return 1191826712}},{key:"x1932269299472430410x",get:function(){return 1791712459}},{key:"x1432327093733771019x",get:function(){return 941248493}},{key:"x3944207614407395603x",get:function(){return 1197318688}},{key:"x3389989162336962390x",get:function(){return 282740567}},{key:"x4301028775658722610x",get:function(){return 368452490}},{key:"x1525853313228968679x",get:function(){return 679015631}},{key:"x4121729464153953453x",get:function(){return 1356492561}},{key:"x440597886295691369x",get:function(){return 3336140}},{key:"x1220798543241579896x",get:function(){return 356200282}},{key:"x1073913433682046709x",get:function(){return 209301192}},{key:"x92363712584835138x",get:function(){return 1208623235}},{key:"x3981976879877316126x",get:function(){return 1733430738}},{key:"x4497721849902637071x",get:function(){return 1685229017}},{key:"x3828025037679175570x",get:function(){return 1061770863}},{key:"x2208836823634645889x",get:function(){return 1408202796}},{key:"x3065255864221441744x",get:function(){return 1478291558}},{key:"x1661556988401355454x",get:function(){return 2053636528}},{key:"x681765871620034291x",get:function(){return 43460291}},{key:"x2651261134673421364x",get:function(){return 914205182}},{key:"x2016644452148779882x",get:function(){return 962738282}},{key:"x4340587798663113300x",get:function(){return 1593130929}},{key:"x4389815947638728277x",get:function(){return 1549362512}},{key:"x4386078551772316897x",get:function(){return 488921072}},{key:"x3754557951868703913x",get:function(){return 477486351}},{key:"x243323854770617279x",get:function(){return 1304103375}},{key:"x3184348390516835842x",get:function(){return 343082491}},{key:"x1452721090616684655x",get:function(){return 548306771}},{key:"x4413180936551149923x",get:function(){return 384192327}},{key:"x1574170212971589287x",get:function(){return 111885618}},{key:"x811435244723270106x",get:function(){return 862820689}},{key:"x4542408558815725369x",get:function(){return 1055329417}},{key:"x2898477135344454250x",get:function(){return 122753314}},{key:"x417808279870630201x",get:function(){return 56765075}},{key:"x144159732418709698x",get:function(){return 378870580}},{key:"x3435424149473420478x",get:function(){return 1185341913}},{key:"x33542030152053744x",get:function(){return 1400929786}},{key:"x141473379542339770x",get:function(){return 2079135890}},{key:"x479756839825140796x",get:function(){return 488921072}},{key:"x179048128773358313x",get:function(){return 2084874335}},{key:"x821315891013836756x",get:function(){return 571174877}},{key:"x3642238406334353505x",get:function(){return 1956132718}},{key:"x3227895495611036052x",get:function(){return 1552564841}},{key:"x859493416718465993x",get:function(){return 178963719}},{key:"x815279212891980593x",get:function(){return 872043519}},{key:"x1838432691759323853x",get:function(){return 1541444011}},{key:"x2572574690382978026x",get:function(){return 2019411786}},{key:"x2218323921589093109x",get:function(){return 1756665589}},{key:"x1461650096496468011x",get:function(){return 395171474}},{key:"x2037696948833675224x",get:function(){return 415469309}},{key:"x670428133324870837x",get:function(){return 847681022}},{key:"x3940825770665246208x",get:function(){return 847681023}},{key:"x1200622413024129904x",get:function(){return 582062390}},{key:"x3078524103470255578x",get:function(){return 203174259}},{key:"x2890595488587048525x",get:function(){return 548306771}},{key:"x4025007901577418250x",get:function(){return 941619813}},{key:"x2062418546955432343x",get:function(){return 941248493}},{key:"x2599673411601714061x",get:function(){return 384192327}},{key:"x1138341603510442844x",get:function(){return 742736366}},{key:"x1616454791414851771x",get:function(){return 414835339}},{key:"x3943540342149086157x",get:function(){return 2121949249}},{key:"x4151420192562989922x",get:function(){return 1383479810}},{key:"x2979549595693024905x",get:function(){return 406780223}},{key:"x1954531380908176994x",get:function(){return 299849701}},{key:"x1745844286975101128x",get:function(){return 1135099415}},{key:"x1665173941170854035x",get:function(){return 179748338}},{key:"x1131481219667063240x",get:function(){return 1624685049}},{key:"x664783984897691975x",get:function(){return 2134877244}},{key:"x3972835115247936127x",get:function(){return 1127149842}},{key:"x2720532332734695802x",get:function(){return 488921072}},{key:"x3241273249599443780x",get:function(){return 1217261725}},{key:"x2580804264498068655x",get:function(){return 60106083}},{key:"x3575943529029749173x",get:function(){return 942400097}},{key:"x136927643447107373x",get:function(){return 761230109}},{key:"x3206360509061965303x",get:function(){return 131933164}},{key:"x3329381232760175037x",get:function(){return 1531833348}},{key:"x3900925345264767837x",get:function(){return 1542785354}},{key:"x2155247458807087879x",get:function(){return 795201890}},{key:"x73470404395284133x",get:function(){return 690053003}},{key:"x546026045631871709x",get:function(){return 2089953187}},{key:"x1123601440976234539x",get:function(){return 463925030}},{key:"x892956784091154870x",get:function(){return 1863825214}},{key:"x3790065025115118361x",get:function(){return 1826249940}},{key:"x840412874150542925x",get:function(){return 384192327}},{key:"x3878856900235735674x",get:function(){return 1523702382}},{key:"x1303075520446425715x",get:function(){return 705358347}},{key:"x2158378947391088298x",get:function(){return 333989271}},{key:"x765758482534106828x",get:function(){return 187317436}},{key:"x1477873378143437655x",get:function(){return 916890388}},{key:"x792076145386777064x",get:function(){return 211591815}},{key:"x3416993641028547947x",get:function(){return 586782071}},{key:"x2991095198426092779x",get:function(){return 1550314967}},{key:"x211056964961241978x",get:function(){return 57093263}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x923301222305930093x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3339987402386958992x.ts","./x3461623316906106937x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3339987402386958992x},function(t){a=t.x3461623316906106937x},function(t){o=t.x3693760142138385085x},function(t){x=t.x702435451033209193x}],execute:function(){r._RF.push({},"6d477fdzDtK0rFXFGhZm2Zk","x923301222305930093x",void 0),t("x923301222305930093x",function(t){function r(e,i){var s;return(s=t.call(this,r.x2355730316075620282x,e)||this).getParams().setIntValue(r.x1477533520620759850x,1),s.getParams().setIntValue(r.x1450421863377912557x,100),s.getParams().setIntValue(r.x3993941807738575944x,300),s.getParams().setIntValue(r.x3326506871262244583x,500),s.getParams().setIntValue(r.x3328823014003533285x,800),s.getParams().setIntValue(r.x2582075252069483669x,50),s.getParams().setIntValue(r.x4009647590603860395x,20),s.getParams().setIntValue(r.x1795961219863865237x,100),s.getParams().setIntValue(r.x353519868376793165x,400),s.getParams().setIntValue(r.x4388091419558060877x,800),s.getParams().setIntValue(r.x4329982363537471750x,1200),s.getParams().setIntValue(r.x669191974942232687x,1600),s.getParams().setIntValue(r.x1261175364386797121x,100),s.getParams().setIntValue(r.x3098969598092833225x,200),s.getParams().setIntValue(r.x1750108152243430312x,1),s.getParams().setIntValue(r.x926779541904934053x,2),s.getParams().setBoolValue(r.x806081530945082657x,!1),s.getParams().setIntValue(r.x634424695983142109x,50),s.getParams().setIntValue(r.x3849688344828451081x,800),s.getParams().setIntValue(r.x2841194055586440733x,1200),s.getParams().setIntValue(r.x1538817256878830740x,1800),s.getParams().setIntValue(r.x1877909340868658648x,2e3),s.getParams().setIntValue(r.x758400301987104004x,3200),s.getParams().setIntValue(r.x305537136035499049x,1500),s.getParams().copy(i,!1),e.addMessageListener(n(s)),s.mScore=0,s.mTSpinType=x.x2088302373693961418x,s.mCurrentCascadeCount=0,s.mIsBackToBackChainActive=!1,s.mCurrentComboCount=0,s.mScoreEventMessageData=new o(!1),s.mStats=new o(!0),s.initStats(),s.setNextState(1,!1),s}e(r,t),r.getEventDescriptionWithMessageData=function(t){var e=t.getIntValue(r.x4021322772183539622x);return x.getStandardScoreEventDescription(e,t.getIntValue(r.x4268196375255836292x),t.getBoolValue(r.x623771060938972829x),t.getBoolValue(r.x141493927620337356x),t.getIntValue(r.x4017599486629318019x),t.getIntValue(r.x4002130832260486610x))};var s=r.prototype;return s.getScore=function(){return this.mScore},s.addExternalEventScore=function(t,e){if(0!=t){var i=t,n=i*this.getParams().getIntValue(r.x1477533520620759850x);this.mScore+=n,this.mScoreEventMessageData.setBoolValue(r.x3846704088808192491x,!0),this.mScoreEventMessageData.setIntValue(r.x1630673541259986390x,e),this.mScoreEventMessageData.setIntValue(r.x4304238202900221771x,this.mScore),this.mScoreEventMessageData.setIntValue(r.x1612446680244354218x,i),this.mScoreEventMessageData.setIntValue(r.x438248116822016767x,n),this.mScoreEventMessageData.setIntValue(r.x1280598769350886052x,0),this.mScoreEventMessageData.setIntValue(r.x752335141195081299x,0),this.mScoreEventMessageData.setIntValue(r.x4021322772183539622x,0),this.mScoreEventMessageData.setIntValue(r.x4268196375255836292x,x.x2088302373693961418x),this.mScoreEventMessageData.setBoolValue(r.x623771060938972829x,!1),this.mScoreEventMessageData.setBoolValue(r.x141493927620337356x,!1),this.mScoreEventMessageData.setIntValue(r.x4017599486629318019x,0),this.mScoreEventMessageData.setIntValue(r.x4002130832260486610x,0),this.mScoreEventMessageData.setObjectValue(r.x3527621570082328501x,null),this.dispatchMessage(r.x4563261606863935423x,this,this.mScoreEventMessageData)}},s.getScoreMultiplier=function(){return this.getParams().getIntValue(r.x1477533520620759850x)},s.setScoreMultiplier=function(t){if(t!=this.getScoreMultiplier()){var e=t>this.getScoreMultiplier();this.getParams().setIntValue(r.x1477533520620759850x,t),e?this.dispatchMessage(r.x43516974774647162x,this,null):this.dispatchMessage(r.x3344905842568611137x,this,null)}},s.getStatValue=function(t){return this.mStats.getIntValue(t)},s.getLastScoreEventDescription=function(){return r.getEventDescriptionWithMessageData(this.mScoreEventMessageData)},s.initStats=function(){this.setStat(r.x2525864238981041063x,0),this.setStat(r.x1445210183493051637x,0),this.setStat(r.x373023498009486798x,0),this.setStat(r.x1539113283222517313x,0),this.setStat(r.x1976455281709926251x,0),this.setStat(r.x3640301862713624179x,0),this.setStat(r.x789775832422534552x,0),this.setStat(r.x244885010047260839x,0),this.setStat(r.x4114426057851385750x,0),this.setStat(r.x1096565513323462120x,0),this.setStat(r.x4049015726496343021x,0),this.setStat(r.x3762882784409151210x,0),this.setStat(r.x487959128244215149x,0),this.setStat(r.x1235503021308131245x,0)},s.setStat=function(t,e){this.mStats.setIntValue(t,e)},s.addStat=function(t,e){this.mStats.setIntValue(t,this.mStats.getIntValue(t)+e)},s.tryStatMax=function(t,e){e>this.mStats.getIntValue(e)&&this.setStat(t,e)},s.tryStatMin=function(t,e){e<this.mStats.getIntValue(e)&&this.setStat(t,e)},s.processPatternMatches=function(t){var e=this.getPlayer(),i=t.getIntValue(a.x3636015554140465439x),n=t.getIntValue(a.x1513664317004380374x),s=i+n,o=t.getIntValue(a.x1456409522531022791x);o>this.mCurrentCascadeCount&&(this.mCurrentCascadeCount=o),this.addStat(r.x2525864238981041063x,s);var u,c=0,l=x.x2088302373693961418x,h=!1,m=!1,g=!1,f=!1,d=!1,p=!1,S=o>0||this.mCurrentCascadeCount>0,y=this.getParams().getIntValue(r.x634424695983142109x);if(S)c=s*this.getParams().getIntValue(r.x1795961219863865237x)*this.mCurrentCascadeCount;else{switch(this.mCurrentComboCount>0&&0==s&&(this.mCurrentComboCount=0),l=this.mTSpinType){case x.x2088302373693961418x:switch(s){case 0:c=0;break;case 1:c=this.getParams().getIntValue(r.x1450421863377912557x),m=!0,this.addStat(r.x1445210183493051637x,1);break;case 2:c=this.getParams().getIntValue(r.x3993941807738575944x),m=!0,this.addStat(r.x373023498009486798x,1);break;case 3:c=this.getParams().getIntValue(r.x3326506871262244583x),m=!0,this.addStat(r.x1539113283222517313x,1);break;case 4:c=this.getParams().getIntValue(r.x3328823014003533285x),h=!0,this.addStat(r.x1976455281709926251x,1);break;default:c=this.getParams().getIntValue(r.x3328823014003533285x)}break;case x.x3879340559840163537x:switch(this.addStat(r.x789775832422534552x,1),s){case 0:c=this.getParams().getIntValue(r.x353519868376793165x);break;case 1:c=this.getParams().getIntValue(r.x4388091419558060877x),h=!0,this.addStat(r.x1445210183493051637x,1);break;case 2:c=this.getParams().getIntValue(r.x4329982363537471750x),h=!0,this.addStat(r.x373023498009486798x,1);break;case 3:c=this.getParams().getIntValue(r.x669191974942232687x),h=!0,this.addStat(r.x1539113283222517313x,1)}break;case x.x2242998426507838948x:switch(this.addStat(r.x4114426057851385750x,1),s){case 0:c=this.getParams().getIntValue(r.x1261175364386797121x);break;case 1:c=this.getParams().getIntValue(r.x3098969598092833225x),h=!0,this.addStat(r.x1445210183493051637x,1),this.addStat(r.x1096565513323462120x,1)}}if(this.mIsBackToBackChainActive&&h){switch(g=!0,(f=4==s)&&this.addStat(r.x3640301862713624179x,1),this.mTSpinType){case x.x3879340559840163537x:d=!0;break;case x.x2242998426507838948x:d=1==s}d&&(this.addStat(r.x244885010047260839x,1),this.mTSpinType===x.x2242998426507838948x)&&1===s&&this.addStat(r.x4049015726496343021x,1),c=~~(c*x.FXPTToFloat(this.getParams().getIntValue(r.x305537136035499049x)))}if(h?this.mIsBackToBackChainActive=!0:m&&(this.mIsBackToBackChainActive=!1),y>0&&this.mCurrentComboCount>0&&s>0&&(c+=this.getParams().getIntValue(r.x634424695983142109x)*this.mCurrentComboCount,this.addStat(r.x487959128244215149x,1),this.tryStatMax(r.x1235503021308131245x,this.mCurrentComboCount)),!e.getMatrix().hasAnyLiveMinos()&&i>0){switch(p=!0,i){case 1:c+=this.getParams().getIntValue(r.x3849688344828451081x);break;case 2:c+=this.getParams().getIntValue(r.x2841194055586440733x);break;case 3:c+=this.getParams().getIntValue(r.x1538817256878830740x);break;case 4:c+=f?this.getParams().getIntValue(r.x758400301987104004x):this.getParams().getIntValue(r.x1877909340868658648x)}this.addStat(r.x3762882784409151210x,1)}}(u=c*this.getParams().getIntValue(r.x1477533520620759850x))>0&&(this.mScore+=u,this.mScoreEventMessageData.setBoolValue(r.x3846704088808192491x,!1),this.mScoreEventMessageData.setIntValue(r.x1630673541259986390x,0),this.mScoreEventMessageData.setIntValue(r.x4304238202900221771x,this.mScore),this.mScoreEventMessageData.setIntValue(r.x1612446680244354218x,c),this.mScoreEventMessageData.setIntValue(r.x438248116822016767x,u),this.mScoreEventMessageData.setIntValue(r.x1280598769350886052x,i),this.mScoreEventMessageData.setIntValue(r.x752335141195081299x,n),this.mScoreEventMessageData.setIntValue(r.x4021322772183539622x,s),this.mScoreEventMessageData.setIntValue(r.x4268196375255836292x,l),this.mScoreEventMessageData.setBoolValue(r.x623771060938972829x,g),this.mScoreEventMessageData.setBoolValue(r.x141493927620337356x,p),this.mScoreEventMessageData.setIntValue(r.x4017599486629318019x,this.mCurrentComboCount),this.mScoreEventMessageData.setIntValue(r.x4002130832260486610x,this.mCurrentCascadeCount),this.mScoreEventMessageData.setObjectValue(r.x3527621570082328501x,t.getObjectValue(a.x3159895743632273218x)),this.mScoreEventMessageData.setIntValue(r.x2377910191850054785x,t.getIntValue(a.x1036833601447007790x)),this.mScoreEventMessageData.setIntValue(r.x2884497006678173975x,t.getIntValue(a.x4525234019659043945x)),this.mScoreEventMessageData.setIntValue(r.x2550703068145646014x,t.getIntValue(a.x2324639955419495093x)),this.mScoreEventMessageData.setIntValue(r.x388206241421991151x,t.getIntValue(a.x535540274371571841x)),this.mScoreEventMessageData.setIntValue(r.x3879893247735724908x,t.getIntValue(a.x3505784253052775308x)),this.dispatchMessage(r.x4563261606863935423x,this,this.mScoreEventMessageData)),s>0&&(y>0&&0==this.mCurrentCascadeCount&&this.mCurrentComboCount++,this.mCurrentCascadeCount++)},s.x1721113016797186854x=function(){null!==this.mScoreEventMessageData&&(this.mScoreEventMessageData.destroy(),this.mScoreEventMessageData=null),null!==this.mStats&&(this.mStats.destroy(),this.mStats=null),t.prototype.x1721113016797186854x.call(this)},s.x601562840631873202x=function(t,e,i){if(e==this.getPlayer())switch(t){case a.x1368156971866977203x:this.getPlayer().getCurrentState()===a.x374706818329705401x&&(this.mTSpinType=x.x2088302373693961418x,this.mCurrentCascadeCount=0);break;case a.x4249687894066459938x:if(0!=this.getParams().getIntValue(r.x1750108152243430312x)){var n=i.getIntValue(a.x1524401607809932723x);this.getParams().getBoolValue(r.x806081530945082657x)?this.mScore+=n*this.getParams().getIntValue(r.x1750108152243430312x)*this.getParams().getIntValue(r.x1477533520620759850x):this.mScore+=n*this.getParams().getIntValue(r.x1750108152243430312x)}break;case a.x2894254231694125496x:if(0!=this.getParams().getIntValue(r.x926779541904934053x)){var s=i.getIntValue(a.x1473828083645811259x);this.getParams().getBoolValue(r.x806081530945082657x)?this.mScore+=s*this.getParams().getIntValue(r.x926779541904934053x)*this.getParams().getIntValue(r.x1477533520620759850x):this.mScore+=s*this.getParams().getIntValue(r.x926779541904934053x)}break;case a.x4325327394528613932x:this.mTSpinType=i.getIntValue(a.x3114741353604128629x);break;case a.x4511960253925599628x:this.processPatternMatches(i)}},s.x3385998454822718298x=function(e){switch(e){case r.x442462525735689342x:return this.mScore;case r.x1057048674657110551x:return this.getScoreMultiplier();default:return this.mStats.hasValue(e)?this.mStats.getIntValue(e):t.prototype.x3385998454822718298x.call(this,e)}},i(r,null,[{key:"x2355730316075620282x",get:function(){return 1026088449}},{key:"x1477533520620759850x",get:function(){return 257226498}},{key:"x1450421863377912557x",get:function(){return 1423845520}},{key:"x3993941807738575944x",get:function(){return 1661474713}},{key:"x3326506871262244583x",get:function(){return 1780897958}},{key:"x3328823014003533285x",get:function(){return 2011798561}},{key:"x2582075252069483669x",get:function(){return 738501629}},{key:"x4009647590603860395x",get:function(){return 168910384}},{key:"x1795961219863865237x",get:function(){return 237427488}},{key:"x353519868376793165x",get:function(){return 2098375470}},{key:"x4388091419558060877x",get:function(){return 679579382}},{key:"x4329982363537471750x",get:function(){return 917208575}},{key:"x669191974942232687x",get:function(){return 1036631820}},{key:"x1261175364386797121x",get:function(){return 1002430231}},{key:"x3098969598092833225x",get:function(){return 239424863}},{key:"x1750108152243430312x",get:function(){return 1942066381}},{key:"x926779541904934053x",get:function(){return 1705788526}},{key:"x806081530945082657x",get:function(){return 1528072750}},{key:"x634424695983142109x",get:function(){return 1980717767}},{key:"x3849688344828451081x",get:function(){return 349255024}},{key:"x2841194055586440733x",get:function(){return 586884217}},{key:"x1538817256878830740x",get:function(){return 706307462}},{key:"x1877909340868658648x",get:function(){return 937208065}},{key:"x758400301987104004x",get:function(){return 686504682}},{key:"x305537136035499049x",get:function(){return 707848476}},{key:"x442462525735689342x",get:function(){return 1026088449}},{key:"x1057048674657110551x",get:function(){return 257226498}},{key:"x2525864238981041063x",get:function(){return 2059679406}},{key:"x1445210183493051637x",get:function(){return 2061800314}},{key:"x373023498009486798x",get:function(){return 1715431089}},{key:"x1539113283222517313x",get:function(){return 1740531940}},{key:"x1976455281709926251x",get:function(){return 127206168}},{key:"x3640301862713624179x",get:function(){return 1600330696}},{key:"x789775832422534552x",get:function(){return 655045486}},{key:"x244885010047260839x",get:function(){return 1055302686}},{key:"x4114426057851385750x",get:function(){return 1481420997}},{key:"x1096565513323462120x",get:function(){return 1770438397}},{key:"x4049015726496343021x",get:function(){return 819427245}},{key:"x3762882784409151210x",get:function(){return 912443106}},{key:"x487959128244215149x",get:function(){return 216875990}},{key:"x1235503021308131245x",get:function(){return 770377563}},{key:"x4563261606863935423x",get:function(){return 130161864}},{key:"x4304238202900221771x",get:function(){return 752801961}},{key:"x3846704088808192491x",get:function(){return 62778580}},{key:"x1630673541259986390x",get:function(){return 967554516}},{key:"x1612446680244354218x",get:function(){return 612843888}},{key:"x438248116822016767x",get:function(){return 105068801}},{key:"x1280598769350886052x",get:function(){return 1571823306}},{key:"x752335141195081299x",get:function(){return 431332910}},{key:"x4021322772183539622x",get:function(){return 871483411}},{key:"x4268196375255836292x",get:function(){return 1782381223}},{key:"x623771060938972829x",get:function(){return 1754335484}},{key:"x141493927620337356x",get:function(){return 2087305459}},{key:"x4017599486629318019x",get:function(){return 1879716138}},{key:"x4002130832260486610x",get:function(){return 1570042340}},{key:"x3527621570082328501x",get:function(){return 1181808500}},{key:"x2377910191850054785x",get:function(){return 1518292488}},{key:"x2884497006678173975x",get:function(){return 698078297}},{key:"x2550703068145646014x",get:function(){return 632642247}},{key:"x388206241421991151x",get:function(){return 698078298}},{key:"x3879893247735724908x",get:function(){return 632642248}},{key:"x43516974774647162x",get:function(){return 420124114}},{key:"x3344905842568611137x",get:function(){return 1873900054}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x1238458550837138019x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x702435451033209193x.ts","./x923301222305930093x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x702435451033209193x},function(t){a=t.x923301222305930093x}],execute:function(){n._RF.push({},"00b94JFnupDR4odil+d0sP5","x1238458550837138019x",void 0),t("x1238458550837138019x",function(t){function n(e,i){var a;return(a=t.call(this,n.x579590291329446689x,r.x3700981341653593902x,e,s.x1012796168335938419x(n.x1902960440326634340x),i)||this).mMultiplierIncrement=1,a}e(n,t);var o=n.prototype;return o.getMultiplierIncrement=function(){return this.mMultiplierIncrement},o.setMultiplierIncrement=function(t){this.mMultiplierIncrement=t},o.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},o.x4048123437206285000x=function(){return!0},o.x1762492116522425354x=function(){var t=this.getPlayer().getComponent(a.x2355730316075620282x),e=t.getScoreMultiplier();e+=this.mMultiplierIncrement,t.setScoreMultiplier(e),this.setCurrentState(r.x2345423266559458465x,0)},i(n,null,[{key:"x579590291329446689x",get:function(){return 1985963746}},{key:"x1902960440326634340x",get:function(){return""}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3663611298040580465x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x3461623316906106937x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x1930801154962670888x},function(t){a=t.x3196398007076860870x},function(t){o=t.x702435451033209193x},function(t){x=t.x3461623316906106937x}],execute:function(){n._RF.push({},"fe118flBhtL0ZoOF50c8hq7","x3663611298040580465x",void 0),t("x3663611298040580465x",function(t){function n(e,i){var s;return(s=t.call(this,n.x3447025935325255921x,r.x3700981341653593902x,e,o.x1012796168335938419x(n.x1902960440326634340x),i)||this).mStepTimerMSEC=0,s.mScratchMinosArray=new a(0),s.mDirection=0,s}e(n,t);var u=n.prototype;return u.isToLeft=function(){return this.mDirection==o.x1751838633768770123x},u.processState_active=function(t){var e=this.getPlayer().getMatrix(),i=this.getParams().getIntValue(n.x3723200369354768975x);if(this.mStepTimerMSEC-=t,this.mStepTimerMSEC<=0&&(this.mStepTimerMSEC+=i,e.moveMinosInRect(0,0,e.getWidth(),e.getHeight(),this.mDirection),e.setMinosVisualAnimationOffsetX_FXPT(0),e.canMoveMinosInRect(0,0,e.getWidth(),e.getHeight(),this.mDirection)||(e.popDestabilize(),e.popMovementDisabled(),this.setNextState(r.x2345423266559458465x,!1))),this.getNextState()!=r.x2345423266559458465x){var s=o.FXPTGetLerpFactor(o.FXPTFromInt(this.mStepTimerMSEC),o.FXPTFromInt(i),0);this.mDirection==o.x1751838633768770123x&&(s*=-1),this.mScratchMinosArray.removeAll(),e.findMovableMinosInRect(0,0,e.getWidth(),e.getHeight(),this.mDirection,this.mScratchMinosArray);for(var a=this.mScratchMinosArray.getNumObjects(),x=0;x<a;x++)this.mScratchMinosArray.getAtIndex(x).setVisualAnimationOffsetX_FXPT(s);this.mScratchMinosArray.removeAll()}},u.x1721113016797186854x=function(){null!==this.mScratchMinosArray&&(this.mScratchMinosArray.destroy(),this.mScratchMinosArray=null),t.prototype.x1721113016797186854x.call(this)},u.x4048123437206285000x=function(){var t=this.getPlayer(),e=t.getMatrix();return(t.getCurrentState()===x.x226737526530541234x||t.getNextState()===x.x226737526530541234x)&&e.isStable()},u.x1762492116522425354x=function(){var t=this.getPlayer().getMatrix();switch(t.pushDestabilize(),t.pushMovementDisabled(),o.stringToHash32(this.getParams().getStringValue(n.x743225472589137820x))){case n.x2712447716916271769x:this.mDirection=o.x1751838633768770123x;break;case n.x1669675235957009622x:this.mDirection=o.x4374508417979542563x;break;case n.x3331163618134742705x:this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(0,0,t.getWidth(),t.getHeight(),o.x4374508417979542563x,this.mScratchMinosArray);var e=this.mScratchMinosArray.getNumObjects();this.mScratchMinosArray.removeAll(),t.findMovableMinosInRect(0,0,t.getWidth(),t.getHeight(),o.x1751838633768770123x,this.mScratchMinosArray);var i=this.mScratchMinosArray.getNumObjects();this.mDirection=e>i?o.x4374508417979542563x:o.x1751838633768770123x}this.mScratchMinosArray.removeAll(),t.getMinosInRect(0,0,t.getWidth(),t.getHeight(),this.mScratchMinosArray),t.unstickMinos(this.mScratchMinosArray),this.mScratchMinosArray.removeAll(),this.mStepTimerMSEC=this.getParams().getIntValue(n.x3723200369354768975x),this.setCurrentState(r.x1169698474296864278x,0)},u.x4498870316303653116x=function(e,i,n,a){return i===r.x1169698474296864278x&&e===s.x3793884777573381281x?(this.processState_active(a),a):t.prototype.x4498870316303653116x.call(this,e,i,n,a)},i(n,null,[{key:"x3447025935325255921x",get:function(){return 624865713}},{key:"x3723200369354768975x",get:function(){return 808890794}},{key:"x743225472589137820x",get:function(){return 2056434056}},{key:"x2712447716916271769x",get:function(){return 670917368}},{key:"x1669675235957009622x",get:function(){return 208332043}},{key:"x3331163618134742705x",get:function(){return 1425982939}},{key:"x1902960440326634340x",get:function(){return"GENKPJBCBPLFFNXJZSENWRQOQRDGMQZNYJHNNEWMZORLJJCFVHVPJINOUKQNOQSLCQCHRLOQJNKQJJINOUFHJMRM"}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1898681029348292370x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x31903653904479621x.ts","./x1930801154962670888x.ts","./x702435451033209193x.ts","./x3461623316906106937x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x31903653904479621x},function(t){s=t.x1930801154962670888x},function(t){a=t.x702435451033209193x},function(t){o=t.x3461623316906106937x}],execute:function(){n._RF.push({},"117e6mc/cNBWInrq67R5xX4","x1898681029348292370x",void 0),t("x1898681029348292370x",function(t){function n(e,i){var s;return(s=t.call(this,n.x3643542377906426234x,r.x3700981341653593902x,e,a.x1012796168335938419x(n.x1902960440326634340x),i)||this).mCurrentStep=0,s.mStepTimerMSEC=0,s}e(n,t);var x=n.prototype;return x.processState_active=function(t){var e=this.getPlayer().getMatrix(),i=a.maxInt(100,100)+1;if(this.mCurrentStep<i&&(this.mStepTimerMSEC-=t,this.mStepTimerMSEC<=0)){this.mStepTimerMSEC+=50;var n=this.getActivationMatrixY(),s=n+this.mCurrentStep,o=n-this.mCurrentStep;0==this.mCurrentStep?this.shatterRow(n,500):(this.mCurrentStep<=100&&this.shatterRow(s,500),this.mCurrentStep<=100&&this.shatterRow(o,500)),s<e.getHighestMinoY()||o>0?this.mCurrentStep++:this.mCurrentStep=a.x4486032239274713138x}this.mCurrentStep>=i&&(e.popDestabilize(),e.popMovementDisabled(),this.setNextState(r.x2345423266559458465x,!1))},x.shatterRow=function(t,e){for(var i=this.getPlayer().getMatrix(),n=0;n<i.getWidth();n++)i.shatterMino(i.getMinoAt(n,t),e)},x.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},x.x4048123437206285000x=function(){var t=this.getPlayer(),e=t.getMatrix();return t.getCurrentState()===o.x226737526530541234x&&e.isStable()},x.x1762492116522425354x=function(){this.mCurrentStep=0,this.mStepTimerMSEC=0;var t=this.getPlayer().getMatrix();t.pushDestabilize(),t.pushMovementDisabled(),this.setCurrentState(r.x1169698474296864278x,0)},x.x4498870316303653116x=function(e,i,n,a){return i===r.x1169698474296864278x&&e===s.x3793884777573381281x?(this.processState_active(a),a):t.prototype.x4498870316303653116x.call(this,e,i,n,a)},i(n,null,[{key:"x3643542377906426234x",get:function(){return 1788046122}},{key:"x1902960440326634340x",get:function(){return""}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x2435732701735449926x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x1442954324271535409x.ts","./x1824733160648178692x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x},function(t){s=t.x1442954324271535409x},function(t){a=t.x1824733160648178692x},function(t){o=t.x3693760142138385085x},function(t){x=t.x702435451033209193x}],execute:function(){n._RF.push({},"4a38fvlPBhP1KQwyKFcCNcr","x2435732701735449926x",void 0),t("x2435732701735449926x",function(t){function n(e){var i;i=t.call(this)||this,a.verifyNativeAudioSupport(),i.mSoundMgrType=e,i.mIsEnabled=!0,i.mIsMuted=!1,i.mSounds=new o(!1),i.mSoundsVolumes=new o(!0),i.mVolume=1,i.mIsPaused=!1;try{i.mAudioContext=null,i.mGainNode=null,s.isBrowserIE()||a.verifyNativeAudioSupport()&&(i.mAudioContext=n.getAvailableAudioContext(),i.mGainNode=i.mAudioContext.createGain(),i.mGainNode.connect(i.mAudioContext.destination),i.mAudioContext.resume())}catch(t){}return i}e(n,t),n.createAudioContexts=function(t){try{if(!a.verifyNativeAudioSupport())return;for(null==n.sAllAudioContexts&&(n.sAllAudioContexts=[]),window.AudioContext=window.AudioContext||window.webkitAudioContext;t-- >0;){var e=new AudioContext,i=e.createBuffer(1,1,22050),r=e.createBufferSource();r.buffer=i,r.connect(e.destination),r.start(0),n.sAllAudioContexts.push(e),n.recycleAvailableAudioContext(e)}}catch(t){}},n.awakenAllAudioContexts=function(){try{for(var t=n.sAllAudioContexts.length,e=0;e<t;e++)n.sAllAudioContexts[e].resume()}catch(t){}},n.closeAllAudioContexts=function(){try{for(var t=n.sAllAudioContexts.length,e=0;e<t;e++)n.sAllAudioContexts[e].close();n.sAllAudioContexts=[]}catch(t){}},n.getAvailableAudioContext=function(){try{return n.sAvailableAudioContexts.pop()}catch(t){return null}},n.recycleAvailableAudioContext=function(t){if(null!=t)try{null==n.sAvailableAudioContexts&&(n.sAvailableAudioContexts=[]),n.sAvailableAudioContexts.push(t)}catch(t){}},n.setIsSoundPlaybackEnabled=function(t){n.sIsSoundPlaybackEnabled=t};var r=n.prototype;return r.getIsEnabled=function(){return this.mIsEnabled},r.setIsEnabled=function(t){this.mIsEnabled!=t&&(this.mIsEnabled=t,this.mIsEnabled||this.stopAllSounds())},r.getIsMuted=function(){return this.mIsMuted},r.setIsMuted=function(t){this.mIsMuted!=t&&(this.mIsMuted=t,this.mIsMuted&&this.stopAllSounds())},r.getVolume=function(){return this.mVolume},r.setVolume=function(t){if(t=x.clamp01(t),this.mVolume!=t){this.mVolume=t;try{if(!s.isBrowserIE()){if(!this.mAudioContext)return;this.mGainNode.gain.value=t}}catch(t){}}},r.addSound=function(t,e,i){this.mSounds.setObjectValue(t,e),this.setSoundVolume(t,i)},r.getSoundIdAtIndex=function(t){return this.mSounds.getValueKeyAtIndex(t)},r.isSoundLoaded=function(t){var e=this.getSoundResource(t);return!!e&&e.isNativeSoundLoaded()},r.canPlaySounds=function(){return(null==this.mAudioContext||"suspended"!=this.mAudioContext.state)&&n.sIsSoundPlaybackEnabled&&this.mIsEnabled&&!this.mIsMuted&&!this.mIsPaused&&this.mVolume>0&&this.mSounds.getNumValues()>0},r.playSound=function(t){if(this.canPlaySounds()){var e=this.getSoundResource(t);if(e&&!e.getDidPlay()){var i=this.getSoundVolume(t);if(!(i*this.mVolume<=.001)){var r=e.getNativeSound();if(r){var a=!1;switch(this.mSoundMgrType){case n.x2955420652194200412x:a=!1;break;case n.x3898919149543657472x:this.stopAllSounds(),a=!0}try{if(!s.isBrowserIE()){if(!this.mAudioContext)return;var o;i<1?((o=this.mAudioContext.createGain()).gain.value=i,o.connect(this.mGainNode)):o=this.mGainNode;var x=this.mAudioContext.createBufferSource();x.connect(o),x.buffer=r,x.loop=a,x.start(0)}}catch(t){}e.setDidPlay(!0)}}}}},r.getIsPaused=function(){return this.mIsPaused},r.setIsPaused=function(t){if(this.mIsEnabled&&this.mIsPaused!=t)if(this.mIsPaused=t,t)try{if(!s.isBrowserIE()){if(!this.mAudioContext)return;try{this.mAudioContext.suspend()}catch(t){this.mGainNode.gain.value=0}}}catch(t){}else try{if(!s.isBrowserIE()){if(!this.mAudioContext)return;try{this.mAudioContext.resume()}catch(t){this.mGainNode.gain.value=this.mVolume}}}catch(t){}},r.stopAllSounds=function(){try{if(!s.isBrowserIE()){if(!this.mAudioContext)return;this.mGainNode.disconnect(),this.mGainNode=this.mAudioContext.createGain(),this.mGainNode.connect(this.mAudioContext.destination),this.mGainNode.gain.value=this.mVolume}}catch(t){}},r.processTimeMSEC=function(t){for(var e=this.mSounds.getNumValues(),i=0;i<e;i++)this.mSounds.getObjectValueAtIndex(i).setDidPlay(!1)},r.getSoundResource=function(t){return this.mSounds.getObjectValue(t)},r.getSoundVolume=function(t){return this.mSoundsVolumes.getFloatValue(t)},r.setSoundVolume=function(t,e){this.mSoundsVolumes.setFloatValue(t,e)},r.x1721113016797186854x=function(){this.stopAllSounds(),null!==this.mSounds&&(this.mSounds.destroy(),this.mSounds=null),null!==this.mSoundsVolumes&&(this.mSoundsVolumes.destroy(),this.mSoundsVolumes=null),n.recycleAvailableAudioContext(this.mAudioContext),t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x2955420652194200412x",get:function(){return 1}},{key:"x3898919149543657472x",get:function(){return 2}}]),n}(r)).sIsSoundPlaybackEnabled=!0,n._RF.pop()}}})),System.register("chunks:///_virtual/x392472850944302700x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4037811246765908194x.ts","./x1442954324271535409x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x4037811246765908194x},function(t){s=t.x1442954324271535409x}],execute:function(){n._RF.push({},"3d00ciVsqBCB43YybibTeG+","x392472850944302700x",void 0),t("x392472850944302700x",function(t){function n(e){var i;return(i=t.call(this)||this).mNativeSprite=s.NativeSprite_createWithSpriteFrame(e),s.NativeView_setName(i.mNativeSprite,"x392472850944302700x"),i.mNativeSpriteFrame=e,i.mSpriteFrameWidth=s.NativeSpriteFrame_getWidth(e),i.mSpriteFrameHeight=s.NativeSpriteFrame_getHeight(e),i.mSizeX=0,i.mSizeY=0,i.setNativeView(i.mNativeSprite),i}e(n,t),n.createWithParams=function(t,e,i){var r=new n(null);return r.setParams(t,e,i),r};var r=n.prototype;return r.setNativeSpriteFrame=function(t){this.mNativeSpriteFrame!=t&&(this.mNativeSpriteFrame=t,s.NativeSprite_setSpriteFrame(this.mNativeSprite,t,!0),this.mSpriteFrameWidth=s.NativeSpriteFrame_getWidth(t),this.mSpriteFrameHeight=s.NativeSpriteFrame_getHeight(t),this.x381015683058225432x(this.getScaleX(),this.getScaleY()))},r.setSizeX=function(t){this.setSize(t,this.mSizeY)},r.setSizeY=function(t){this.setSize(this.mSizeX,t)},r.setSize=function(t,e){this.mSizeX==t&&this.mSizeY==e||(this.mSizeX=t,this.mSizeY=e,this.x381015683058225432x(this.getScaleX(),this.getScaleY()))},r.x1721113016797186854x=function(){this.mNativeSprite=null,this.mNativeSpriteFrame=null,t.prototype.x1721113016797186854x.call(this)},r.x3167505010554309161x=function(t,e){var i=t.getDictionary(n.x2444900417146494524x);if(i){if(i.hasValue(n.x3525251784795351540x)){var r=i.getStringValue(n.x3525251784795351540x),s=i.getIntValue(n.x2529624177641192522x),a=e.getNativeSpriteFrame(r,s);this.setNativeSpriteFrame(a)}this.setSize(i.getIntValueWithDefault(n.x374622371215268174x,this.mSizeX),i.getIntValueWithDefault(n.x1299257958896408531x,this.mSizeY)),this.x381015683058225432x(this.getScaleX(),this.getScaleY())}},r.x3932003368878528254x=function(){return(this.mSizeX>0?this.mSizeX:this.mSpriteFrameWidth)*this.getScaleX()},r.x3461043678756308731x=function(){return(this.mSizeY>0?this.mSizeY:this.mSpriteFrameHeight)*this.getScaleY()},r.x381015683058225432x=function(t,e){s.NativeSprite_setSize(this.mNativeSprite,this.x3932003368878528254x(),this.x3461043678756308731x())},r.x3245888370579836546x=function(t){s.NativeSprite_setAlpha(this.mNativeSprite,t)},i(n,null,[{key:"x449072410778966486x",get:function(){return 1221677881}},{key:"x2444900417146494524x",get:function(){return 1221677881}},{key:"x3525251784795351540x",get:function(){return 863751099}},{key:"x2529624177641192522x",get:function(){return 1309668948}},{key:"x374622371215268174x",get:function(){return 1504668102}},{key:"x1299257958896408531x",get:function(){return 1504668103}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x465198262610160323x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1888856487047269142x.ts","./x3001588770202680173x.ts","./x923301222305930093x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1888856487047269142x},function(t){s=t.x3001588770202680173x},function(t){a=t.x923301222305930093x}],execute:function(){n._RF.push({},"4c39amVDFBJEb/x/XtYnZKx","x465198262610160323x",void 0),t("x465198262610160323x",function(t){function n(e){var i;return(i=t.call(this,e)||this).mTrackedValueId=0,i.mTargetValue=0,i.mTargetValueType=0,i.mPlayer=e.getPlayer(),i.mLevelsComponent=null,i.mScoreComponent=null,i}e(n,t);var r=n.prototype;return r.processTrackedValue=function(t){var e=!1;switch(this.mTargetValueType){case n.x968849461127170608x:e=t>this.mTargetValue;break;case n.x2469351309158743154x:e=t>=this.mTargetValue;break;case n.x3268827414373819965x:e=t<this.mTargetValue;break;case n.x806912115046082467x:e=t<=this.mTargetValue;break;case n.x4305211130785311236x:e=t==this.mTargetValue}e&&this.setStatusComplete()},r.x1721113016797186854x=function(){this.mPlayer=null,this.mLevelsComponent=null,this.mScoreComponent=null,t.prototype.x1721113016797186854x.call(this)},r.x2092887497860563669x=function(t){var e=t.getDictionary(n.x1415361061033074726x);e&&(this.mTrackedValueId=e.getStringValueAsHash32(n.x3502262349343944882x),this.mTargetValue=e.getIntValue(n.x3734839730451568928x),this.mTargetValueType=e.getStringValueAsHash32(n.x1383745142400449284x))},r.x4489870146836287515x=function(){switch(this.mScoreComponent=this.getAchievementsComponent().getPlayer().getComponent(a.x2355730316075620282x),this.mLevelsComponent=this.getAchievementsComponent().getPlayer().getComponent(s.x4314461242255220561x),this.mTrackedValueId){case n.x1925245972540742956x:case n.x2447844126289073644x:case n.x1506297374225174916x:this.setDoProcessTime(!1)}},r.x875014192504693702x=function(){switch(this.mTrackedValueId){case n.x1925245972540742956x:this.processTrackedValue(this.mLevelsComponent.getCurrentLevelIndex()+1);break;case n.x2447844126289073644x:this.mPlayer.didCompleteGameSuccessfully()&&this.processTrackedValue(1);break;case n.x1506297374225174916x:this.mPlayer.didCompleteGameSuccessfully()&&this.processTrackedValue(this.mPlayer.getElapsedActiveGameTimeMSEC())}},r.x811945498404567267x=function(t){switch(this.mTrackedValueId){case n.x552287428181948425x:this.processTrackedValue(this.mScoreComponent.getScore());break;case n.x3156429811053950109x:this.processTrackedValue(this.mLevelsComponent.getCurrentLevelIndex()+1);break;default:this.processTrackedValue(this.mScoreComponent.getStatValue(this.mTrackedValueId))}},i(n,null,[{key:"x1415361061033074726x",get:function(){return 2137801923}},{key:"x3502262349343944882x",get:function(){return 425115699}},{key:"x3734839730451568928x",get:function(){return 1104766767}},{key:"x1383745142400449284x",get:function(){return 1538901705}},{key:"x552287428181948425x",get:function(){return 1067253217}},{key:"x3156429811053950109x",get:function(){return 1150906291}},{key:"kTrackedValueId_Lines",get:function(){return 2059679406}},{key:"kTrackedValueId_Tetrises",get:function(){return 127206168}},{key:"kTrackedValueId_B2BTetrises",get:function(){return 1600330696}},{key:"kTrackedValueId_TSpins",get:function(){return 655045486}},{key:"kTrackedValueId_B2BTSpins",get:function(){return 1055302686}},{key:"kTrackedValueId_MiniTSpins",get:function(){return 1481420997}},{key:"kTrackedValueId_MiniTSpinSingles",get:function(){return 1770438397}},{key:"kTrackedValueId_B2BMiniTSpinSingles",get:function(){return 819427245}},{key:"kTrackedValueId_Combos",get:function(){return 216875990}},{key:"kTrackedValueId_MaxCombo",get:function(){return 770377563}},{key:"kTrackedValueId_PerfectClears",get:function(){return 912443106}},{key:"x1925245972540742956x",get:function(){return 659738989}},{key:"x2447844126289073644x",get:function(){return 1254451100}},{key:"x1506297374225174916x",get:function(){return 1233794408}},{key:"x968849461127170608x",get:function(){return 385932202}},{key:"x2469351309158743154x",get:function(){return 1281623330}},{key:"x3268827414373819965x",get:function(){return 679468939}},{key:"x806912115046082467x",get:function(){return 975993729}},{key:"x4305211130785311236x",get:function(){return 2139689694}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x49008801373907804x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2498168056815666929x.ts","./x3461623316906106937x.ts","./x1930801154962670888x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x2498168056815666929x},function(t){s=t.x3461623316906106937x},function(t){a=t.x1930801154962670888x},function(t){o=t.x702435451033209193x}],execute:function(){n._RF.push({},"75e07Ut/ZZNFa8tVHC03XbK","x49008801373907804x",void 0),t("x49008801373907804x",function(t){function n(e){var i;return(i=t.call(this)||this).getParams().setIntValue(n.x8726347257553262x,1),i.getParams().setBoolValue(n.x203811967604465381x,!1),i.getParams().setIntValue(n.x2503999824992680385x,0),i.getParams().setIntValue(n.x4036321091763997988x,0),i.getParams().setIntValue(n.x2587691166674988575x,2e3),i.getParams().copy(e,!1),i.mRemainingWaitTimeForReadyPlayersMSEC=0,i.mIsAnyPlayerReady=!1,i.mDidStartPlayers=!1,i.mDidStartGame=!1,i.mPrevCountdownTween321=-1,i.mWasMusicActiveDuringGame=!1,i}e(n,t);var r=n.prototype;return r.startGame=function(){if(0==this.getCurrentState()&&(this.mRemainingWaitTimeForReadyPlayersMSEC=1e3*this.getParams().getIntValue(n.x2503999824992680385x),this.mIsAnyPlayerReady=!1,this.setNextState(n.x4101553028593694779x,!1),!this.getParams().getBoolValue(n.x203811967604465381x)))switch(this.getCurrentState()){case 0:case n.x4101553028593694779x:for(var t=this.getNumPlayers(),e=0;e<t;e++)this.getPlayerAtIndex(e).setIsReadyToStartGame()}},r.getDidStartPlayers=function(){return this.mDidStartPlayers},r.enterBreak=function(){this.getCurrentState()===n.x1514772141815616644x&&(this.setNextState(n.x586834288206199424x,!1),this.processTime(0))},r.pauseGame=function(){switch(this.getCurrentState()){case n.x1514772141815616644x:case n.x2011879311002059536x:this.setNextState(n.x968731194594044803x,!1),this.processTime(0)}},r.resumeGame=function(){switch(this.getCurrentState()){case n.x586834288206199424x:case n.x968731194594044803x:this.setNextState(n.x2011879311002059536x,!1),this.processTime(0)}},r.togglePauseGame=function(){switch(this.getCurrentState()){case n.x1514772141815616644x:case n.x2011879311002059536x:this.pauseGame();break;case n.x586834288206199424x:case n.x968731194594044803x:this.resumeGame()}},r.terminateGame=function(){if(!this.isGameEnded()){for(var t=this.getNumPlayers(),e=0;e<t;e++){var i=this.getPlayerAtIndex(e);i.tryEndGame(s.x2639760855526379562x,!1,!1,!1),i.processTime(0)}this.processTime(0)}},r.isGameEnded=function(){return this.getCurrentState()==n.x3265934470092458605x},r.getCountdownTween_FXPT=function(){return this.getCurrentState()===n.x2011879311002059536x?o.FXPTDivide(o.FXPTFromInt(this.getCurrentStateElapsedTimeMSEC()),o.FXPTFromInt(this.getParams().getIntValue(n.x2587691166674988575x))):0},r.getCountdownTween321=function(){return this.getCurrentState()===n.x2011879311002059536x?o.clampInt(o.FXPTToInt(o.FXPTMultiply(o.x3167629350924187699x-this.getCountdownTween_FXPT(),o.FXPTFromInt(3))+o.x3167629350924187699x),1,3):0},r.setWasMusicActiveDuringGame=function(t){this.mWasMusicActiveDuringGame=t},r.wasMusicActiveDuringGame=function(){return this.mWasMusicActiveDuringGame},r.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},r.x4498870316303653116x=function(t,e,i,r){switch(t){case a.x2580340477778594771x:return e;case a.x2982972318080668761x:return this.dispatchMessage(n.x1837688871124046825x,this,null),e===n.x1514772141815616644x&&(this.mDidStartGame||(this.dispatchMessage(n.x331280717235701147x,this,null),this.mDidStartGame=!0)),0;case a.x3793884777573381281x:var s=this.getNumPlayers(),o=0,x=null;switch(e){case n.x1514772141815616644x:var u=!0;for(o=0;o<s;o++)(x=this.getPlayerAtIndex(o)).processTime(r),x.isGameEnded()||(u=!1);return u&&this.setNextState(n.x3265934470092458605x,!1),r;case n.x4101553028593694779x:var c=!0;for(this.getParams().getBoolValue(n.x203811967604465381x)&&this.mRemainingWaitTimeForReadyPlayersMSEC>0&&(this.mRemainingWaitTimeForReadyPlayersMSEC-=r),o=0;o<s;o++)x=this.getPlayerAtIndex(o),this.getParams().getBoolValue(n.x203811967604465381x)&&(!this.mIsAnyPlayerReady&&x.isReadyToStartGame()&&(this.mIsAnyPlayerReady=!0,this.getParams().getIntValue(n.x4036321091763997988x)>0&&(this.mRemainingWaitTimeForReadyPlayersMSEC=1e3*this.getParams().getIntValue(n.x4036321091763997988x))),this.mRemainingWaitTimeForReadyPlayersMSEC<=0&&(x.isReadyToStartGame()||x.isAIControlled()||x.setIsAIControlled())),x.isReadyToStartGame()||(c=!1);return c&&this.setNextState(n.x931376307819657111x,!1),r;case n.x931376307819657111x:for(o=0;o<s;o++)this.getPlayerAtIndex(o).preStartGame();return this.setNextState(n.x2011879311002059536x,!1),r;case n.x2011879311002059536x:if(this.mPrevCountdownTween321!=this.getCountdownTween321()&&(this.dispatchMessage(n.x1129133322210150877x,this,null),this.mPrevCountdownTween321=this.getCountdownTween321()),i>=this.getParams().getIntValue(n.x2587691166674988575x)){if(!this.mDidStartPlayers){for(o=0;o<s;o++)this.getPlayerAtIndex(o).startGame();this.mDidStartPlayers=!0}return this.setNextState(n.x1514772141815616644x,!1),i-this.getParams().getIntValue(n.x2587691166674988575x)}return r;default:return r}case a.x4149106650117426330x:return this.dispatchMessage(n.x2836302803929192583x,this,null),0;default:return 0}},r.x3385998454822718298x=function(t){switch(t){case n.x2352833465299150628x:return this.getCountdownTween_FXPT();case n.x2224746281824396204x:return this.getCountdownTween321();default:return 0}},r.x4217507585807386070x=function(t){return this.x3385998454822718298x(o.getFirstValueKeyInPath(t))},i(n,null,[{key:"x8726347257553262x",get:function(){return 2018316349}},{key:"x203811967604465381x",get:function(){return 1080275783}},{key:"x2503999824992680385x",get:function(){return 327057537}},{key:"x4036321091763997988x",get:function(){return 632544111}},{key:"x2587691166674988575x",get:function(){return 1600659601}},{key:"x4101553028593694779x",get:function(){return 1781379263}},{key:"x931376307819657111x",get:function(){return 952250112}},{key:"x2400624050725621205x",get:function(){return 1081266892}},{key:"x2011879311002059536x",get:function(){return 2145222954}},{key:"x1514772141815616644x",get:function(){return 1842818272}},{key:"x586834288206199424x",get:function(){return 957789285}},{key:"x968731194594044803x",get:function(){return 1710917928}},{key:"x3265934470092458605x",get:function(){return 1246134240}},{key:"x2352833465299150628x",get:function(){return 1121523617}},{key:"x2224746281824396204x",get:function(){return 1407849831}},{key:"x1837688871124046825x",get:function(){return 1156735194}},{key:"x2836302803929192583x",get:function(){return 1442133228}},{key:"x1129133322210150877x",get:function(){return 246041754}},{key:"x331280717235701147x",get:function(){return 720188518}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3461623316906106937x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x798347270567386436x.ts","./x3693760142138385085x.ts","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x2695390456455002218x.ts","./x702435451033209193x.ts","./x1457729986902235133x.ts","./x2847047702101370365x.ts","./x4480444526479763272x.ts","./x349179295227638153x.ts","./x1420616482037214709x.ts","./x2555157633242097915x.ts","./x1784166390312374285x.ts","./x479284151344649910x.ts","./x4205701266739920358x.ts","./x1300708268651209083x.ts","./x3026372372374902841x.ts","./x1479493434950596026x.ts","./x1721469586937880116x.ts","./x3001588770202680173x.ts","./x923301222305930093x.ts","./x4083617637690936339x.ts","./x1507132269332393985x.ts","./x1493861352095391953x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g,f,d,p,S,y,P,I,v,M,V,T,C,A;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x798347270567386436x},function(t){s=t.x3693760142138385085x},function(t){a=t.x1930801154962670888x},function(t){o=t.x3196398007076860870x},function(t){x=t.x2695390456455002218x},function(t){u=t.x702435451033209193x},function(t){c=t.x1457729986902235133x},function(t){l=t.x2847047702101370365x},function(t){h=t.x4480444526479763272x},function(t){m=t.x349179295227638153x},function(t){g=t.x1420616482037214709x},function(t){f=t.x2555157633242097915x},function(t){d=t.x1784166390312374285x},function(t){p=t.x479284151344649910x},function(t){S=t.x4205701266739920358x},function(t){y=t.x1300708268651209083x},function(t){P=t.x3026372372374902841x},function(t){I=t.x1479493434950596026x},function(t){v=t.x1721469586937880116x},function(t){M=t.x3001588770202680173x},function(t){V=t.x923301222305930093x},function(t){T=t.x4083617637690936339x},function(t){C=t.x1507132269332393985x},function(t){A=t.x1493861352095391953x}],execute:function(){n._RF.push({},"d76a9Pi2OpDl7lxbktT/Htz","x3461623316906106937x",void 0),t("x3461623316906106937x",function(t){function n(e,i,r,a){var x;x=t.call(this,e,i,r)||this,n.setDefaultParams(x.getParams()),x.getParams().copy(a,!1),x.mAvatarIndex=x.getParams().getIntValue(n.x727040172878763963x),x.x4223313763764631816x=new s(!1),x.mDidPreStartGame=!1,x.mIsPieceGenerationEnabled=!0,x.mIsGameBreakPending=!1,x.mGameEndCondition=0,x.mDidCompleteGameSuccessfully=!1,x.mControlComponent=null,x.mMatrix=null,x.mPieceFactory=null,x.mPieceSequenceGenerator=null,x.mPieceQueue=null,x.mIncomingPiece=null,x.mLivePiece=null,x.mDidLivePieceExistForPieceCycle=!1,x.mDidHoldLivePiece=!1,x.mLockedPieceTypeId=0,x.mLockedPieceMinX=0,x.mLockedPieceMaxX=0,x.mLockedPieceMinY=0,x.mLockedPieceMaxY=0,x.mLockedPieceCenterX=0,x.mLockedPieceCenterY=0,x.mNumProcessStableMatrixForPiece=0,x.mIsGhostPieceEnabled=!0,x.mGhostPiece=null,x.mIsGhostPieceValid=!1,x.mHoldPiece=null,x.mMatrixMinoMatchPattern=null,x.mMatrixMinoMatchSearchPattern=null,x.mMatrixMinoPatternMatches=new o(0),x.mMatrixMinoPatternMatchesPool=null,x.mNumMatrixMinoPatternMatchesForPiece=0,x.mNumCascadesForPieceCycle=0,x.mTotalMatrixMinoPatternMatches=0,x.mElapsedActiveGameTimeMSEC=0,x.mRemainingTimeMSEC=0,x.mEnableEndGameOnTopoutDelaySEC=x.getParams().getIntValueWithDefault(n.x2947544049343513421x,0);var c=x.getParams().getIntValue(n.x4170743891865476791x);return 0==c&&(c=u.nextNativeRandomInt()),x.getParams().setIntValue(n.x4170743891865476791x,c),x.setNextState(n.x4483878114479908451x,!1),x}e(n,t),n.createDefaultParams=function(){var t=new s(!0);return n.setDefaultParams(t),t},n.setDefaultParams=function(t){t.setIntValue(n.x727040172878763963x,0),t.setIntValue(n.x2406170567094743633x,10),t.setIntValue(n.x2697919850503481567x,20),t.setIntValue(n.x2910791991709521340x,4),t.setIntValue(n.x660614251459542375x,c.x4357731673361944875x),t.setIntValue(n.x1012139396145883347x,3),t.setBoolValue(n.x2656792006470700586x,!0),t.setStringValue(n.x1971282542231700472x,"I,J,L,O,S,T,Z"),t.setIntValue(n.x184975715465121618x,1),t.setIntValue(n.x4170743891865476791x,0),t.setIntValue(n.x3681796350421208933x,50),t.setIntValue(n.x350710799275768278x,0),t.setIntValue(n.x2888701171442282398x,-1),t.setIntValue(n.x1102868363650185213x,1),t.setStringValue(n.x4246407540979693710x,u.getNameForFacing(u.x2628258654593101865x)),t.setIntValue(n.x3330028576793957582x,200),t.setIntValue(n.x3011908716088212806x,200),t.setIntValue(n.x2757245060363298732x,50),t.setIntValue(n.x889865218054556554x,50),t.setIntValue(n.x2501586804444665477x,0),t.setBoolValue(n.x3439933605323128167x,!0),t.setBoolValue(n.x1378011321075658123x,!1),t.setIntValue(n.x2642078901339874906x,u.FXPTFromInt(1)),t.setIntValue(n.x2183013554796335061x,u.FXPTFromInt(1)),t.setIntValue(n.x1578203976968637461x,0),t.setBoolValue(n.x1084863967191812714x,!1),t.setBoolValue(n.x3547030710720434372x,!0),t.setIntValue(n.x3387969524122154470x,500),t.setIntValue(n.x2301205906752427332x,5)},n.getStateName=function(t){switch(t){case n.x4483878114479908451x:return"notReadyToStart";case n.x2819943549660168046x:return"readyToStart";case n.x2400624050725621205x:return"startGame";case n.x374706818329705401x:return"pieceCycleStarting";case n.x2172909829492338280x:return"pieceGeneration";case n.x2202293818172776902x:return"pieceActive";case n.x2087090934618865543x:return"matrixCycleStarting";case n.x1960549647389459690x:return"processStableMatrix";case n.x3707795073384569765x:return"stabilizeMatrix";case n.x226737526530541234x:return"matrixCycleComplete";case n.x1001359532371888113x:return"pieceCycleComplete";case n.x1204455106380534249x:return"gameEnding";case n.x3265934470092458605x:return"gameEnded";default:return u.stringFromInt(t,1,!1)}};var r=n.prototype;return r.getAvatarIndex=function(){return this.mAvatarIndex},r.isReadyToStartGame=function(){return this.isAIControlled()&&this.setCurrentState(n.x2819943549660168046x,0),this.getCurrentState()==n.x2819943549660168046x},r.setIsReadyToStartGame=function(){switch(this.getCurrentState()){case 0:case n.x4483878114479908451x:this.setCurrentState(n.x2819943549660168046x,0)}},r.preStartGame=function(){this.mDidPreStartGame||(this.dispatchMessage(n.x2571108714608016537x,this,null),this.getParams().getBoolValue(n.x2656792006470700586x)&&this.mPieceQueue.fillToCapacity(),this.setRemainingTimeMSEC(1e3*this.getParams().getIntValue(n.x1578203976968637461x)),this.mDidPreStartGame=!0)},r.startGame=function(){this.getCurrentState()==n.x2819943549660168046x&&this.setNextState(n.x2400624050725621205x,!1)},r.setIsPieceGenerationEnabled=function(t){this.mIsPieceGenerationEnabled=t},r.setGameBreakPending=function(){this.mIsGameBreakPending=!0},r.isGameBreakPending=function(){return this.mIsGameBreakPending},r.isGameActive=function(){switch(this.getCurrentState()){case n.x1204455106380534249x:case n.x3265934470092458605x:return!1;default:return!0}},r.tryEndGame=function(t,e,i,r){if(this.mGameEndCondition=t,this.mDidCompleteGameSuccessfully=e,this.isGameActive()){this.dispatchMessage(n.x1410816192890927705x,this,null);var s=!0;if(s&&i)switch(this.getCurrentState()){case n.x226737526530541234x:case n.x1001359532371888113x:s=this.mMatrix.isStable();break;default:s=!1}s&&r&&(s=this.askComponentsIfPlayerCanEndGame(t)),s&&this.setNextState(n.x1204455106380534249x,!1)}},r.isGameEnded=function(){return this.getCurrentState()==n.x3265934470092458605x},r.getGameEndCondition=function(){return this.mGameEndCondition},r.didCompleteGameSuccessfully=function(){return this.mDidCompleteGameSuccessfully},r.getControlComponent=function(){return this.mControlComponent},r.isAIControlled=function(){return this.mControlComponent.x3633925409096558838x().getActiveInputType()==l.x2924843484704743760x},r.setIsAIControlled=function(){this.mControlComponent.x3633925409096558838x().setActiveInputType(l.x2924843484704743760x)},r.constructMatrix=function(t,e,i){null!==this.mMatrix&&(this.mMatrix.destroy(),this.mMatrix=null),this.getParams().setIntValue(n.x2406170567094743633x,t),this.getParams().setIntValue(n.x2697919850503481567x,e),this.getParams().setIntValue(n.x2910791991709521340x,i);var r=e+i;this.mMatrix=new h(t,r,e,this.getPlayerIndex()),this.mMatrix.setIsGravityLimited(this.getParams().getBoolValue(n.x3439933605323128167x)),this.setMatrixGravityTimeValues();var s=new p(0,0,t,1);this.setMatrixMinoMatchPattern(s);var a=new p(0,0,1,r);this.setMatrixMinoMatchSearchPattern(a),this.mMatrixMinoPatternMatches.reserveCapacity(r),null!==this.mMatrixMinoPatternMatchesPool&&(this.mMatrixMinoPatternMatchesPool.destroy(),this.mMatrixMinoPatternMatchesPool=null),this.mMatrixMinoPatternMatchesPool=new x(r,t),this.mMatrix.addMessageListener(this),this.dispatchMessage(n.x1596677612753542970x,this,null)},r.getMatrix=function(){return this.mMatrix},r.getMatrixWidth=function(){return this.getParams().getIntValue(n.x2406170567094743633x)},r.getMatrixHeight=function(){return this.getParams().getIntValue(n.x2697919850503481567x)+this.getParams().getIntValue(n.x2910791991709521340x)},r.getMatrixVisibleHeight=function(){return this.getParams().getIntValue(n.x2697919850503481567x)},r.getPieceFactory=function(){return this.mPieceFactory},r.setPieceFactory=function(t){null!==this.mPieceFactory&&(this.mPieceFactory.destroy(),this.mPieceFactory=null),this.mPieceFactory=t,this.mPieceSequenceGenerator&&this.mPieceSequenceGenerator.setPieceFactory(t)},r.getPieceSequenceGenerator=function(){return this.mPieceSequenceGenerator},r.setPieceSequenceGenerator=function(t){null!==this.mPieceSequenceGenerator&&(this.mPieceSequenceGenerator.destroy(),this.mPieceSequenceGenerator=null),this.mPieceSequenceGenerator=t},r.getPieceQueue=function(){return this.mPieceQueue},r.setPieceQueue=function(t){null!==this.mPieceQueue&&(this.mPieceQueue.destroy(),this.mPieceQueue=null),this.mPieceQueue=t},r.getIncomingPiece=function(){return this.mIncomingPiece},r.getLivePiece=function(){return this.mLivePiece},r.handleLivePieceSoftDropSteps=function(t){t>0&&(this.x4223313763764631816x.setIntValue(n.x1524401607809932723x,t),this.dispatchMessage(n.x4249687894066459938x,this,this.x4223313763764631816x))},r.handleLivePieceHardDropSteps=function(t){t>0&&(this.x4223313763764631816x.setIntValue(n.x1473828083645811259x,t),this.dispatchMessage(n.x2894254231694125496x,this,this.x4223313763764631816x))},r.handleLivePieceTSpin=function(t){t!=u.x2088302373693961418x&&(this.x4223313763764631816x.setIntValue(n.x3114741353604128629x,t),this.dispatchMessage(n.x4325327394528613932x,this,this.x4223313763764631816x))},r.forceLivePieceHardDrop=function(){this.mControlComponent.x3633925409096558838x().getModel().forceHardDropControlAction()},r.lockLivePieceIntoMatrix=function(){if(this.mLivePiece){this.dispatchMessage(n.x4372612027967450106x,this,null);var t=this.mMatrix.isPieceFullyOutsideVisibleMatrix(this.mLivePiece);this.mLockedPieceTypeId=this.mLivePiece.getPieceTypeId(),this.mLockedPieceMinX=this.mLivePiece.getMinMinoX(),this.mLockedPieceMaxX=this.mLivePiece.getMaxMinoX(),this.mLockedPieceMinY=this.mLivePiece.getMinMinoY(),this.mLockedPieceMaxY=this.mLivePiece.getMaxMinoY(),this.mLockedPieceCenterX=this.mLockedPieceMinX+.5*(this.mLockedPieceMaxX+1-this.mLockedPieceMinX),this.mLockedPieceCenterY=this.mLockedPieceMinY+.5*(this.mLockedPieceMaxY+1-this.mLockedPieceMinY),this.mMatrix.insertMinosFromPiece(this.mLivePiece),null!==this.mLivePiece&&(this.mLivePiece.destroy(),this.mLivePiece=null),null!==this.mGhostPiece&&(this.mGhostPiece.destroy(),this.mGhostPiece=null),t&&(this.dispatchMessage(n.x3953910861833633539x,this,null),this.getParams().getBoolValue(n.x3547030710720434372x)?this.tryEndGame(n.x4593350295173720350x,!1,!1,!1):this.doTopoutMatrixClear())}},r.getLockedPieceCenterX=function(){return this.mLockedPieceCenterX},r.getLockedPieceCenterY=function(){return this.mLockedPieceCenterY},r.setIsGhostPieceEnabled=function(t){this.mIsGhostPieceEnabled=t},r.getGhostPiece=function(t){return t||this.mIsGhostPieceEnabled?this.mGhostPiece:null},r.isGhostPieceValid=function(){return this.mIsGhostPieceValid},r.setIsGhostPieceValid=function(t){this.mIsGhostPieceValid=t},r.getHoldPiece=function(){return this.mHoldPiece},r.getHoldPieceTypeId=function(){if(this.mHoldPiece)return this.mHoldPiece.getPieceTypeId();var t=this.mPieceQueue.getPieceAtIndex(0);return t?t.getPieceTypeId():0},r.performHoldAction=function(){this.mIncomingPiece=this.mHoldPiece,this.mHoldPiece=this.mLivePiece,this.mLivePiece=null,this.mHoldPiece&&(this.mHoldPiece.setTransform(0,0,this.getGenerationFacing()),this.mHoldPiece.setMinosLogicalState(m.x3101548245554889221x)),this.mDidHoldLivePiece=!0},r.didHoldLivePiece=function(){return this.mDidHoldLivePiece},r.getMatrixMinoMatchPattern=function(){return this.mMatrixMinoMatchPattern},r.setMatrixMinoMatchPattern=function(t){null!==this.mMatrixMinoMatchPattern&&(this.mMatrixMinoMatchPattern.destroy(),this.mMatrixMinoMatchPattern=null),this.mMatrixMinoMatchPattern=t},r.getMatrixMinoMatchSearchPattern=function(){return this.mMatrixMinoMatchSearchPattern},r.setMatrixMinoMatchSearchPattern=function(t){null!==this.mMatrixMinoMatchSearchPattern&&(this.mMatrixMinoMatchSearchPattern.destroy(),this.mMatrixMinoMatchSearchPattern=null),this.mMatrixMinoMatchSearchPattern=t},r.getNumMatrixMinoPatternMatchesForPiece=function(){return this.mNumMatrixMinoPatternMatchesForPiece},r.getTotalMatrixMinoPatternMatches=function(){return this.mTotalMatrixMinoPatternMatches},r.getElapsedActiveGameTimeMSEC=function(){return this.mElapsedActiveGameTimeMSEC},r.getRemainingTimeMSEC=function(){return this.mRemainingTimeMSEC},r.addRemainingTimeMSEC=function(t){if(this.isGameActive()){var e=this.mRemainingTimeMSEC;this.setRemainingTimeMSEC(u.clampInt(this.mRemainingTimeMSEC+t,0,1e3*this.getParams().getIntValue(n.x1578203976968637461x))),this.x4223313763764631816x.setIntValue(n.x889692953815781719x,t),this.dispatchMessage(n.x3450942218573611036x,this,this.x4223313763764631816x),e<=0&&this.mRemainingTimeMSEC>0&&this.dispatchMessage(n.x3812435844050873046x,this,null)}},r.getRemainingTimeSEC=function(){return~~((this.mRemainingTimeMSEC+999)/1e3)},r.isMatrixCycleActive=function(){switch(this.getNextState()){case n.x2087090934618865543x:case n.x1960549647389459690x:case n.x3707795073384569765x:return!0}switch(this.getCurrentState()){case n.x2087090934618865543x:case n.x1960549647389459690x:case n.x3707795073384569765x:return!0}return!1},r.setMatrixGravityTimeValues=function(){this.mMatrix.setGravityMSECPerLineMax(this.getCascadeScaledTimeMSEC(this.getParams().getIntValue(n.x2757245060363298732x))),this.mMatrix.setGravityMSECPerLineMin(this.getCascadeScaledTimeMSEC(this.getParams().getIntValue(n.x889865218054556554x))),this.mMatrix.setGravityMSECPerLineDeltaPerSEC(this.getCascadeScaledTimeMSEC(this.getParams().getIntValue(n.x2501586804444665477x)))},r.getGenerationFacing=function(){return u.getFacingForName(this.getParams().getStringValue(n.x4246407540979693710x))},r.createGhostPiece=function(){this.mGhostPiece&&null!==this.mGhostPiece&&(this.mGhostPiece.destroy(),this.mGhostPiece=null),this.mLivePiece&&(this.mGhostPiece=this.mLivePiece.createCopy(),this.mGhostPiece.setMinosLogicalState(m.x1778395811108923465x))},r.doTopoutMatrixClear=function(){for(var t=this.mMatrix.getVisibleHeight()-this.getParams().getIntValue(n.x2301205906752427332x),e=t=u.clampInt(t,0,this.mMatrix.getHeight());e<this.mMatrix.getHeight();e++)for(var i=0;i<this.mMatrix.getWidth();i++)this.mMatrix.killMino(this.mMatrix.getMinoAt(i,e),this.getParams().getIntValue(n.x3387969524122154470x),!1)},r.setNumCascadesForPieceCycle=function(t){this.mNumCascadesForPieceCycle=t,this.mCurrentCascadeScaleFXPT=u.x3167629350924187699x;var e=this.getParams().getIntValue(n.x2642078901339874906x);if(e!=u.x3167629350924187699x)for(var i=this.getParams().getIntValue(n.x2183013554796335061x);t>1&&this.mCurrentCascadeScaleFXPT>i;)this.mCurrentCascadeScaleFXPT=u.FXPTMultiply(this.mCurrentCascadeScaleFXPT,e),this.mCurrentCascadeScaleFXPT<i&&(this.mCurrentCascadeScaleFXPT=i),t--;this.setMatrixGravityTimeValues()},r.getCascadeScaledTimeMSEC=function(t){return this.mCurrentCascadeScaleFXPT==u.x3167629350924187699x?t:u.FXPTMultiply(t,this.mCurrentCascadeScaleFXPT)},r.isTimeLimitActive=function(){return this.getParams().getIntValue(n.x1578203976968637461x)>0},r.setRemainingTimeMSEC=function(t){if(this.mRemainingTimeMSEC!=t){this.mGameEndCondition==n.x2830093544984712018x&&this.mRemainingTimeMSEC>0&&(this.mGameEndCondition=0,this.mDidCompleteGameSuccessfully=!1);var e=~~((this.mRemainingTimeMSEC+999)/1e3),i=~~((t+999)/1e3);this.mRemainingTimeMSEC=t,i<e?this.dispatchMessage(n.x3286479124338019373x,this,null):i>e&&this.dispatchMessage(n.x2304749660937574578x,this,null),0==this.mRemainingTimeMSEC&&this.dispatchMessage(n.x239817429003214204x,this,null)}},r.isRemainingTimeExpired=function(){return!!this.isTimeLimitActive()&&this.mRemainingTimeMSEC<=0},r.x1721113016797186854x=function(){null!==this.x4223313763764631816x&&(this.x4223313763764631816x.destroy(),this.x4223313763764631816x=null),null!==this.mMatrix&&(this.mMatrix.destroy(),this.mMatrix=null),null!==this.mPieceFactory&&(this.mPieceFactory.destroy(),this.mPieceFactory=null),null!==this.mPieceSequenceGenerator&&(this.mPieceSequenceGenerator.destroy(),this.mPieceSequenceGenerator=null),null!==this.mPieceQueue&&(this.mPieceQueue.destroy(),this.mPieceQueue=null),null!==this.mIncomingPiece&&(this.mIncomingPiece.destroy(),this.mIncomingPiece=null),null!==this.mLivePiece&&(this.mLivePiece.destroy(),this.mLivePiece=null),null!==this.mGhostPiece&&(this.mGhostPiece.destroy(),this.mGhostPiece=null),null!==this.mHoldPiece&&(this.mHoldPiece.destroy(),this.mHoldPiece=null),null!==this.mMatrixMinoMatchPattern&&(this.mMatrixMinoMatchPattern.destroy(),this.mMatrixMinoMatchPattern=null),null!==this.mMatrixMinoMatchSearchPattern&&(this.mMatrixMinoMatchSearchPattern.destroy(),this.mMatrixMinoMatchSearchPattern=null),this.mMatrixMinoPatternMatches.destroyAll(),null!==this.mMatrixMinoPatternMatches&&(this.mMatrixMinoPatternMatches.destroy(),this.mMatrixMinoPatternMatches=null),null!==this.mMatrixMinoPatternMatchesPool&&(this.mMatrixMinoPatternMatchesPool.destroy(),this.mMatrixMinoPatternMatchesPool=null),t.prototype.x1721113016797186854x.call(this)},r.x3540024188517731693x=function(){var t=this.getMatrixWidth(),e=this.getMatrixHeight(),i=this.getMatrixVisibleHeight(),r=this.getParams().getIntValue(n.x2910791991709521340x);this.constructMatrix(t,i,r);var s=new f,a=c.getSharedStandardPieceData(t,e,this.getParams().getIntValue(n.x660614251459542375x));s.setPieceData(a),this.setPieceFactory(s);var o=new g;o.setPieceFactory(s),o.setRNGSeed(this.getParams().getIntValue(n.x4170743891865476791x)),o.setPieceIdRefillValuesWithPieceNamesList(this.getParams().getStringValue(n.x1971282542231700472x)),o.setRefillMultiplier(this.getParams().getIntValue(n.x184975715465121618x)),this.setPieceSequenceGenerator(o);var x=new d(this.getGenerationFacing());x.setPieceSequenceGenerator(o),x.setCapacity(this.getParams().getIntValue(n.x1012139396145883347x)),this.setPieceQueue(x)},r.x2137809707598738194x=function(t,e){switch(t){case y.x2958512089971287522x:return this.mControlComponent=new y(this,e),this.mControlComponent;case V.x2355730316075620282x:return new V(this,e);case M.x4314461242255220561x:return new M(this,e);case S.x2987804182516709922x:return new S(this,e);case P.x3907464974367750351x:return new P(this,e);case T.x1052376050215541209x:return new T(this,e);case v.x4448482365337022494x:return new v(this,e);case I.x2324817043947020368x:return new I(this,e);case A.x1329798803842681187x:return new A(this,e);case C.x3189582392570647395x:return new C(this,e);default:return null}},r.x4498870316303653116x=function(e,i,r,s){switch(t.prototype.x4498870316303653116x.call(this,e,i,r,s),e){case a.x2580340477778594771x:return i;case a.x2982972318080668761x:switch(this.dispatchMessage(n.x1368156971866977203x,this,null),i){case n.x2400624050725621205x:this.dispatchMessage(n.x163578373376795961x,this,null),this.resetTotalElapsedTimeMSEC(),this.setNextState(n.x374706818329705401x,!1);break;case n.x374706818329705401x:this.mDidLivePieceExistForPieceCycle=!1,this.mDidHoldLivePiece=!1,this.mNumProcessStableMatrixForPiece=0,this.mNumMatrixMinoPatternMatchesForPiece=0,this.setNumCascadesForPieceCycle(0);break;case n.x2087090934618865543x:this.mMatrix.isStable()?this.setNextState(n.x1960549647389459690x,!1):this.setNextState(n.x3707795073384569765x,!1);break;case n.x1960549647389459690x:this.mDidLivePieceExistForPieceCycle&&this.mNumProcessStableMatrixForPiece++,this.mMatrixMinoPatternMatchesPool.recycleObjectsInArray(this.mMatrixMinoPatternMatches,!0);var o=this.mMatrix.findMinoPatternMatches(this.mMatrixMinoMatchPattern,this.mMatrixMinoMatchSearchPattern,this.mMatrixMinoPatternMatches,this.mMatrixMinoPatternMatchesPool),x=0,u=0,c=this.mNumCascadesForPieceCycle;o>0&&(this.setNumCascadesForPieceCycle(this.mNumCascadesForPieceCycle+1),this.mDidLivePieceExistForPieceCycle&&1==this.mNumProcessStableMatrixForPiece&&(this.mNumMatrixMinoPatternMatchesForPiece=o),this.mTotalMatrixMinoPatternMatches+=o,this.mDidLivePieceExistForPieceCycle&&1==this.mNumProcessStableMatrixForPiece&&this.getParams().getBoolValue(n.x1378011321075658123x)?(x=o,this.mMatrix.shatterMinoPatternMatches(this.mMatrixMinoPatternMatches,this.getParams().getIntValue(n.x3330028576793957582x))):(u=o,this.mMatrix.killMinoPatternMatches(this.mMatrixMinoPatternMatches,this.getCascadeScaledTimeMSEC(this.getParams().getIntValue(n.x3011908716088212806x)),!0))),this.x4223313763764631816x.setIntValue(n.x3617633486571912310x,o),this.x4223313763764631816x.setIntValue(n.x1513664317004380374x,x),this.x4223313763764631816x.setIntValue(n.x3636015554140465439x,u),this.x4223313763764631816x.setIntValue(n.x1456409522531022791x,c),this.x4223313763764631816x.setObjectValue(n.x3159895743632273218x,this.mMatrixMinoPatternMatches),this.x4223313763764631816x.setIntValue(n.x1036833601447007790x,this.mLockedPieceTypeId),this.x4223313763764631816x.setIntValue(n.x4525234019659043945x,this.mLockedPieceMinX),this.x4223313763764631816x.setIntValue(n.x2324639955419495093x,this.mLockedPieceMaxX),this.x4223313763764631816x.setIntValue(n.x535540274371571841x,this.mLockedPieceMinY),this.x4223313763764631816x.setIntValue(n.x3505784253052775308x,this.mLockedPieceMaxY),this.dispatchMessage(n.x4511960253925599628x,this,this.x4223313763764631816x),this.x4223313763764631816x.clearObjectValues(),this.mMatrixMinoPatternMatchesPool.recycleObjectsInArray(this.mMatrixMinoPatternMatches,!0),this.mMatrix.isStable()?this.setNextState(n.x226737526530541234x,!1):this.setNextState(n.x3707795073384569765x,!1);break;case n.x3707795073384569765x:this.mMatrix.isStable()?this.setNextState(n.x226737526530541234x,!1):1==this.mNumProcessStableMatrixForPiece&&0==this.mNumCascadesForPieceCycle&&(this.mNumCascadesForPieceCycle=1);break;case n.x226737526530541234x:this.mMatrix.isStable()?this.setNextState(n.x1001359532371888113x,!1):this.setNextState(n.x3707795073384569765x,!1);break;case n.x1001359532371888113x:0==this.mGameEndCondition?this.mIsGameBreakPending?(this.getGame().enterBreak(),this.mIsGameBreakPending=!1,this.setNextState(n.x374706818329705401x,!0)):this.setNextState(n.x374706818329705401x,!1):this.setNextState(n.x1204455106380534249x,!1);break;case n.x3265934470092458605x:this.mGameEndCondition===n.x2639760855526379562x||this.dispatchMessage(n.x56503911874966533x,this,null)}return 0;case a.x3793884777573381281x:this.mMatrix.processTime(s);var l=s;switch(i){case n.x374706818329705401x:this.isRemainingTimeExpired()?this.setNextState(n.x2087090934618865543x,!1):this.mIsPieceGenerationEnabled&&this.mMatrix.isStable()&&this.setNextState(n.x2172909829492338280x,!1);break;case n.x2172909829492338280x:if(this.isRemainingTimeExpired())this.setNextState(n.x2087090934618865543x,!1);else{var h=0;if(r>=(h=this.mIncomingPiece?0:this.getParams().getIntValue(n.x3681796350421208933x))){var g=this.mIncomingPiece;if(g||(this.mPieceQueue.fillToCapacity(),this.mIncomingPiece=this.mPieceQueue.popFront(),this.mPieceQueue.fillToCapacity()),this.mIncomingPiece){for(var f=!1,d=~~((this.mMatrix.getWidth()-1)/2),p=this.mMatrix.getVisibleHeight()-1+this.getParams().getIntValue(n.x2888701171442282398x),S=this.mMatrix.getVisibleHeight()-1+this.getParams().getIntValue(n.x1102868363650185213x),y=p;!f&&y<=S;)this.mIncomingPiece.setTransform(d,y,this.getGenerationFacing()),f=this.mMatrix.canInsertPiece(this.mIncomingPiece),y++;f?(this.mLivePiece=this.mIncomingPiece,this.mIncomingPiece=null,this.mLivePiece.setMinosLogicalState(m.x2419069812277367245x),this.createGhostPiece(),this.mDidLivePieceExistForPieceCycle=!0,this.setNextState(n.x2202293818172776902x,!1)):(g||this.dispatchMessage(n.x3953910861833633539x,this,null),this.getParams().getBoolValue(n.x3547030710720434372x)?(this.mLivePiece=this.mIncomingPiece,this.mIncomingPiece=null,this.mLivePiece.setMinosLogicalState(m.x2419069812277367245x),this.lockLivePieceIntoMatrix(),this.tryEndGame(n.x4593350295173720350x,!1,!1,!1)):(this.doTopoutMatrixClear(),this.setNextState(n.x2087090934618865543x,!1)))}l=r-h}}break;case n.x2202293818172776902x:this.mLivePiece||(this.mDidHoldLivePiece?this.setNextState(n.x226737526530541234x,!1):this.setNextState(n.x2087090934618865543x,!1));break;case n.x3707795073384569765x:this.mMatrix.isStable()&&this.setNextState(n.x1960549647389459690x,!1);break;case n.x226737526530541234x:this.mMatrix.isStable()||this.setNextState(n.x3707795073384569765x,!1);break;case n.x1204455106380534249x:this.askComponentsIfPlayerCanExitState(i)&&this.setNextState(n.x3265934470092458605x,!1)}switch(i){case n.x2400624050725621205x:case n.x1204455106380534249x:case n.x3265934470092458605x:break;default:if(this.mElapsedActiveGameTimeMSEC+=l,this.mEnableEndGameOnTopoutDelaySEC>0&&this.mElapsedActiveGameTimeMSEC>=1e3*this.mEnableEndGameOnTopoutDelaySEC&&(this.getParams().setBoolValue(n.x3547030710720434372x,!0),this.mEnableEndGameOnTopoutDelaySEC=0),this.isTimeLimitActive()&&(this.mRemainingTimeMSEC>0&&this.setRemainingTimeMSEC(this.mRemainingTimeMSEC-l),this.isRemainingTimeExpired()))if(this.setRemainingTimeMSEC(0),this.getParams().getBoolValue(n.x1084863967191812714x)&&this.mLivePiece)this.forceLivePieceHardDrop();else{var P=!1;switch(i){case n.x374706818329705401x:case n.x2172909829492338280x:case n.x1001359532371888113x:P=!0;break;default:switch(this.getNextState()){case n.x374706818329705401x:case n.x2172909829492338280x:case n.x1001359532371888113x:P=!0}}P&&this.tryEndGame(n.x2830093544984712018x,!0,!0,!0)}}return l;case a.x4149106650117426330x:return this.dispatchMessage(n.x656924164951305092x,this,null),0;default:return 0}},r.x601562840631873202x=function(t,e,i){e==this.mMatrix&&this.dispatchMessage(t,e,i)},r.x3385998454822718298x=function(t){switch(t){case n.x1416358059867155437x:return this.mTotalMatrixMinoPatternMatches;case n.x3039591999963839364x:return this.mElapsedActiveGameTimeMSEC;case n.x163596411708218955x:return this.getRemainingTimeMSEC();case n.x2587341055281462346x:return this.getRemainingTimeSEC();default:return 0}},r.x4217507585807386070x=function(t){return this.x3385998454822718298x(u.getFirstValueKeyInPath(t))},i(n,null,[{key:"x727040172878763963x",get:function(){return 1419987112}},{key:"x2406170567094743633x",get:function(){return 19959700}},{key:"x2697919850503481567x",get:function(){return 1306224711}},{key:"x2910791991709521340x",get:function(){return 81182511}},{key:"x660614251459542375x",get:function(){return 204308890}},{key:"x1012139396145883347x",get:function(){return 940257486}},{key:"x2656792006470700586x",get:function(){return 1385826328}},{key:"x1971282542231700472x",get:function(){return 1430739843}},{key:"x184975715465121618x",get:function(){return 1135737762}},{key:"x4170743891865476791x",get:function(){return 127572369}},{key:"x3681796350421208933x",get:function(){return 2044242970}},{key:"x350710799275768278x",get:function(){return 571174876}},{key:"x2888701171442282398x",get:function(){return 1365138589}},{key:"x1102868363650185213x",get:function(){return 390159883}},{key:"x4246407540979693710x",get:function(){return 1155997219}},{key:"x3330028576793957582x",get:function(){return 1431206972}},{key:"x3011908716088212806x",get:function(){return 2139584221}},{key:"x2757245060363298732x",get:function(){return 899559795}},{key:"x889865218054556554x",get:function(){return 900084577}},{key:"x2501586804444665477x",get:function(){return 636045435}},{key:"x3439933605323128167x",get:function(){return 1948735944}},{key:"x1378011321075658123x",get:function(){return 718737196}},{key:"x2642078901339874906x",get:function(){return 557418256}},{key:"x2183013554796335061x",get:function(){return 69263278}},{key:"x1578203976968637461x",get:function(){return 330699284}},{key:"x1084863967191812714x",get:function(){return 1480444255}},{key:"x3547030710720434372x",get:function(){return 450226548}},{key:"x2947544049343513421x",get:function(){return 545108223}},{key:"x3387969524122154470x",get:function(){return 1645154643}},{key:"x2301205906752427332x",get:function(){return 1572814045}},{key:"x4483878114479908451x",get:function(){return 1591710735}},{key:"x2819943549660168046x",get:function(){return 240090380}},{key:"x2400624050725621205x",get:function(){return 1081266892}},{key:"x374706818329705401x",get:function(){return 755675072}},{key:"x2172909829492338280x",get:function(){return 956968254}},{key:"x2202293818172776902x",get:function(){return 517965580}},{key:"x2087090934618865543x",get:function(){return 728742429}},{key:"x1960549647389459690x",get:function(){return 1500597635}},{key:"x3707795073384569765x",get:function(){return 1422770632}},{key:"x226737526530541234x",get:function(){return 1469121558}},{key:"x1001359532371888113x",get:function(){return 1496054201}},{key:"x1204455106380534249x",get:function(){return 1972607178}},{key:"x3265934470092458605x",get:function(){return 1246134240}},{key:"x1416358059867155437x",get:function(){return 69950196}},{key:"x3039591999963839364x",get:function(){return 906055060}},{key:"x163596411708218955x",get:function(){return 1952536086}},{key:"x2587341055281462346x",get:function(){return 657678079}},{key:"x1596677612753542970x",get:function(){return 140561292}},{key:"x2571108714608016537x",get:function(){return 1812395830}},{key:"x163578373376795961x",get:function(){return 355392424}},{key:"x1368156971866977203x",get:function(){return 596437483}},{key:"x656924164951305092x",get:function(){return 1901221787}},{key:"x4249687894066459938x",get:function(){return 1483381253}},{key:"x1524401607809932723x",get:function(){return 686774499}},{key:"x2894254231694125496x",get:function(){return 1805486758}},{key:"x1473828083645811259x",get:function(){return 602444418}},{key:"x4325327394528613932x",get:function(){return 502312522}},{key:"x3114741353604128629x",get:function(){return 1478734563}},{key:"x4372612027967450106x",get:function(){return 1363911283}},{key:"x4511960253925599628x",get:function(){return 1554166088}},{key:"x3617633486571912310x",get:function(){return 1317346330}},{key:"x1513664317004380374x",get:function(){return 1518749246}},{key:"x3636015554140465439x",get:function(){return 1524530743}},{key:"x1456409522531022791x",get:function(){return 783092493}},{key:"x3159895743632273218x",get:function(){return 1954549490}},{key:"x1036833601447007790x",get:function(){return 1518292488}},{key:"x4525234019659043945x",get:function(){return 698078297}},{key:"x2324639955419495093x",get:function(){return 632642247}},{key:"x535540274371571841x",get:function(){return 698078298}},{key:"x3505784253052775308x",get:function(){return 632642248}},{key:"x239817429003214204x",get:function(){return 531453808}},{key:"x3286479124338019373x",get:function(){return 1769851484}},{key:"x2304749660937574578x",get:function(){return 542680480}},{key:"x3450942218573611036x",get:function(){return 383640398}},{key:"x889692953815781719x",get:function(){return 1804438038}},{key:"x3812435844050873046x",get:function(){return 816788846}},{key:"x3953910861833633539x",get:function(){return 1274824812}},{key:"x1410816192890927705x",get:function(){return 904397847}},{key:"x56503911874966533x",get:function(){return 1612617121}},{key:"x4593350295173720350x",get:function(){return 633812624}},{key:"x2830093544984712018x",get:function(){return 1045315777}},{key:"x2639760855526379562x",get:function(){return 596455450}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x940197673366484397x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x1930801154962670888x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x2205868517935256955x},function(t){r=t.x1930801154962670888x},function(t){s=t.x702435451033209193x}],execute:function(){i._RF.push({},"d9520iYK8RDIoUEdo/WlGP/","x940197673366484397x",void 0),t("x940197673366484397x",function(t){function i(e,i){var n;return(n=t.call(this)||this).mDelegate=i,n.mCurrentState=e,n.mCurrentStateElapsedTimeMSEC=0,n.mDidProcessCurrentState=!1,n.mNextState=0,n.mYieldForNextState=!1,n.mPreviousState=0,n.mMaxTickMSEC=s.x4486032239274713138x,n.mAvailableDeltaTimeMSEC=0,n.mTotalElapsedTimeMSEC=0,n}e(i,t);var n=i.prototype;return n.setMaxTickMSEC=function(t){this.mMaxTickMSEC=t},n.getCurrentState=function(){return this.mCurrentState},n.getCurrentStateElapsedTimeMSEC=function(){return this.mCurrentStateElapsedTimeMSEC},n.setCurrentState=function(t,e){this.setNextState(t,!1),this.processTime(e)},n.getNextState=function(){return this.mNextState},n.setNextState=function(t,e){this.mNextState=t,this.mYieldForNextState=e},n.getPreviousState=function(){return this.mPreviousState},n.processTime=function(t){this.mAvailableDeltaTimeMSEC+=t;var e=0;e=this.mAvailableDeltaTimeMSEC>this.mMaxTickMSEC?this.mMaxTickMSEC:this.mAvailableDeltaTimeMSEC;var i=0;for(0!=this.mCurrentState&&0==this.mNextState?(i=s.minInt(this.x4498870316303653116x(r.x3793884777573381281x,this.mCurrentState,this.mCurrentStateElapsedTimeMSEC,e),e),this.mDidProcessCurrentState=!0):i=e,this.mCurrentStateElapsedTimeMSEC+=i,this.mTotalElapsedTimeMSEC+=i,this.mAvailableDeltaTimeMSEC-=i;0!=this.mNextState&&!this.mYieldForNextState;)this.mNextState=this.x4498870316303653116x(r.x2580340477778594771x,this.mNextState,this.mCurrentStateElapsedTimeMSEC,0),0!=this.mNextState&&(0!=this.mCurrentState&&(this.mDidProcessCurrentState||(this.x4498870316303653116x(r.x3793884777573381281x,this.mCurrentState,0,0),this.mDidProcessCurrentState=!0),this.x4498870316303653116x(r.x4149106650117426330x,this.mCurrentState,this.mCurrentStateElapsedTimeMSEC,0)),this.mPreviousState=this.mCurrentState,this.mCurrentState=this.mNextState,this.mCurrentStateElapsedTimeMSEC=0,this.mDidProcessCurrentState=!1,this.mNextState=0,this.x4498870316303653116x(r.x2982972318080668761x,this.mCurrentState,0,0));this.mYieldForNextState=!1},n.getTotalElapsedTimeMSEC=function(){return this.mTotalElapsedTimeMSEC},n.resetTotalElapsedTimeMSEC=function(){this.mTotalElapsedTimeMSEC=0},n.x4498870316303653116x=function(t,e,i,n){if(this.mDelegate)return this.mDelegate.x4574927063157401553x(t,e,i,n);switch(t){case r.x2580340477778594771x:return e;case r.x3793884777573381281x:return n;default:return 0}},n.x1721113016797186854x=function(){this.mDelegate=null,t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3890695507897055596x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x1930801154962670888x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x2205868517935256955x},function(t){s=t.x1930801154962670888x},function(t){a=t.x702435451033209193x}],execute:function(){n._RF.push({},"b7f4fOm0CBBuJO6lJwxQU1q","x3890695507897055596x",void 0),t("x3890695507897055596x",function(t){function n(e){var i;return(i=t.call(this)||this).mStatesStack=new Array,i.mDelegate=e,i.mCurrentStateElapsedTimeMSEC=0,i.mPendingAction=n.x37172453056405841x,i.mPendingNumPops=0,i.mPendingState=-1,i.mPreviousState=0,i.mMaxTickMSEC=a.x4486032239274713138x,i.mAvailableDeltaTimeMSEC=0,i.mTotalElapsedTimeMSEC=0,i}e(n,t);var r=n.prototype;return r.setMaxTickMSEC=function(t){this.mMaxTickMSEC=t},r.getCurrentState=function(){return this.mStatesStack.length>0?this.mStatesStack[this.mStatesStack.length-1]:-1},r.getCurrentStateElapsedTimeMSEC=function(){return this.mCurrentStateElapsedTimeMSEC},r.getPreviousState=function(){return this.mPreviousState},r.getNumPopsToState=function(t){for(var e=this.mStatesStack.length,i=0;i<e;i++)if(this.mStatesStack[e-1-i]==t)return i;return-1},r.getNumStatesOnStack=function(){return this.mStatesStack.length},r.getStateOnStackFromTop=function(t){var e=this.mStatesStack.length;return t<e?this.mStatesStack[e-1-t]:-1},r.setState=function(t){this.mPendingAction=n.x2907098128683051960x,this.mPendingState=t},r.incrementState=function(){this.setState(this.getCurrentState()+1)},r.swapState=function(t){this.mPendingAction=n.x3868907971451333182x,this.mPendingState=t},r.pushState=function(t){this.mPendingAction=n.x1881540374974688721x,this.mPendingState=t},r.popState=function(){this.popStates(1)},r.popStates=function(t){this.mPendingAction=n.x449906187795008141x,this.mPendingNumPops=t,this.mPendingState=-1},r.popToStateThenSwapState=function(t,e){this.mPendingAction=n.x2435215787687078743x,this.mPendingNumPops=this.getNumPopsToState(t),this.mPendingState=e},r.setStateImmediate=function(t){this.setState(t),this.processTime(0)},r.processTime=function(t){this.mAvailableDeltaTimeMSEC+=t;var e=0;if(this.mAvailableDeltaTimeMSEC>0){e=this.mAvailableDeltaTimeMSEC>this.mMaxTickMSEC?this.mMaxTickMSEC:this.mAvailableDeltaTimeMSEC;var i=0,r=this.getCurrentState();i=r>=0&&this.mPendingAction==n.x37172453056405841x?a.minInt(this.x293417682356212737x(s.x3793884777573381281x,r,this.mCurrentStateElapsedTimeMSEC,e),e):e,this.mCurrentStateElapsedTimeMSEC+=i,this.mTotalElapsedTimeMSEC+=i,this.mAvailableDeltaTimeMSEC-=i}this.processPendingAction()},r.getTotalElapsedTimeMSEC=function(){return this.mTotalElapsedTimeMSEC},r.resetTotalElapsedTimeMSEC=function(){this.mTotalElapsedTimeMSEC=0},r.processPendingAction=function(){var t=this.mPendingAction;switch(this.mPendingAction=0,t){case n.x37172453056405841x:break;case n.x2907098128683051960x:this.processSetState();break;case n.x1881540374974688721x:this.processPushState();break;case n.x449906187795008141x:this.processPopStates();break;case n.x3868907971451333182x:this.processSwapState();break;case n.x2435215787687078743x:this.processPopToStateThenSwapState()}},r.processSetState=function(){var t=this.getCurrentState(),e=this.mPendingState;for(this.mPendingState=-1,this.mPreviousState=t;this.mStatesStack.length>0;)t=this.getCurrentState(),this.x293417682356212737x(s.x4149106650117426330x,t,0,0),this.mStatesStack.pop(),this.mCurrentStateElapsedTimeMSEC=0,t=this.getCurrentState(),this.x293417682356212737x(s.x2599724495783728129x,t,0,0);this.mCurrentStateElapsedTimeMSEC=0,this.mStatesStack.push(e),this.x293417682356212737x(s.x2982972318080668761x,e,0,0)},r.processPushState=function(){var t=this.getCurrentState(),e=this.mPendingState;this.mPendingState=-1,this.mPreviousState=t,this.x293417682356212737x(s.x1833525782337335420x,t,this.mCurrentStateElapsedTimeMSEC,0),this.mCurrentStateElapsedTimeMSEC=0,this.mStatesStack.push(e),this.x293417682356212737x(s.x2982972318080668761x,e,0,0)},r.processPopStates=function(){for(;this.mPendingNumPops>0;){this.mPendingNumPops--;var t=this.getCurrentState();this.mPendingState=-1,this.mPreviousState=t,this.x293417682356212737x(s.x4149106650117426330x,t,0,0),this.mStatesStack.pop(),this.mCurrentStateElapsedTimeMSEC=0,t=this.getCurrentState(),this.x293417682356212737x(s.x2599724495783728129x,t,0,0)}},r.processSwapState=function(){var t=this.getCurrentState(),e=this.mPendingState;this.mPendingState=-1,this.mPreviousState=t,this.x293417682356212737x(s.x4149106650117426330x,t,0,0),this.mStatesStack.pop(),this.mCurrentStateElapsedTimeMSEC=0,this.mStatesStack.push(e),this.x293417682356212737x(s.x2982972318080668761x,e,0,0)},r.processPopToStateThenSwapState=function(){var t=this.mPendingState;this.processPopStates(),this.mPendingState=t,this.processSwapState()},r.x293417682356212737x=function(t,e,i,n){if(this.mDelegate)return this.mDelegate.x4574927063157401553x(t,e,i,n);switch(t){case s.x2580340477778594771x:return e;case s.x3793884777573381281x:return n;default:return 0}},r.x1721113016797186854x=function(){this.mDelegate=null,t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x37172453056405841x",get:function(){return 0}},{key:"x2907098128683051960x",get:function(){return 1413482088}},{key:"kStateMachineAction_incrementState",get:function(){return 241279707}},{key:"x3868907971451333182x",get:function(){return 8159269}},{key:"x1881540374974688721x",get:function(){return 514694590}},{key:"x449906187795008141x",get:function(){return 1323405690}},{key:"x2435215787687078743x",get:function(){return 1484889539}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x888205467023047117x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x228684999913495121x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x},function(t){s=t.x228684999913495121x}],execute:function(){n._RF.push({},"ffc8bgF/w1OiJz1AGNlfu9p","x888205467023047117x",void 0),t("x888205467023047117x",function(t){function n(e,i){var n;return(n=t.call(this)||this).mStrings=new Array,n.mNumStrings=0,n.mDefaultString=i,n.mIsAutoCreateEnabled=!1,n.mMinValue=0,n.mMaxValue=0,n.mDelta=1,n.mPrefix="",n.mSuffix="",n.mMinNumDigits=1,n.mInsertCommas=!0,n}e(n,t),n.doStaticInit=function(){n.sStringBuilder||(n.sStringBuilder=new s(n.x4435667271765077451x))},n.doStaticDestroy=function(){null!==n.sStringBuilder&&(n.sStringBuilder.destroy(),n.sStringBuilder=null)};var r=n.prototype;return r.ensureMaxIndex=function(t){if(t>this.getMaxIndex()){for(var e=this.mNumStrings;e<=t;e++)this.mStrings.push("");this.mNumStrings=this.mStrings.length}},r.getMaxIndex=function(){return this.mNumStrings-1},r.getStringAtIndex=function(t){if(t>=0){if(t<this.mNumStrings)return this.mStrings[t];if(this.mIsAutoCreateEnabled)return this.addStrings(this.mPrefix,this.mSuffix,this.mMinNumDigits,this.mInsertCommas,t),this.mStrings[t]}return this.mDefaultString},r.getIntStringForValue=function(t){return this.getStringAtIndex((t-this.mMinValue)/this.mDelta)},r.setStringAtIndex=function(t,e){this.ensureMaxIndex(t),this.mStrings[t]=e},r.addStrings=function(t,e,i,r,s){var a=this.mNumStrings;this.ensureMaxIndex(s),this.mPrefix=t,this.mSuffix=e,this.mMinNumDigits=i,this.mInsertCommas=r;for(var o=a;o<s;o++)n.sStringBuilder.setString(""),n.sStringBuilder.appendString(t),n.sStringBuilder.appendInt(o,i,r),n.sStringBuilder.appendString(e),this.setStringAtIndex(o,n.sStringBuilder.getString())},r.addIntStrings=function(t,e,i,r,s,a,o){var x=this.mNumStrings,u=x+(e-t)/i;this.ensureMaxIndex(u),this.mMinValue=t,this.mMaxValue=e,this.mDelta=i,this.mPrefix=r,this.mSuffix=s,this.mMinNumDigits=a,this.mInsertCommas=o;for(var c=t,l=x;l<=u;l++)n.sStringBuilder.setString(""),n.sStringBuilder.appendString(r),n.sStringBuilder.appendInt(c,a,o),n.sStringBuilder.appendString(s),this.setStringAtIndex(l,n.sStringBuilder.getString()),c+=i},r.setIsAutoCreateEnabled=function(t){this.mIsAutoCreateEnabled=t},r.x1721113016797186854x=function(){null!==this.mStrings&&(this.mStrings=null),t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x4435667271765077451x",get:function(){return 1e4}}]),n}(r)).sStringBuilder=null,n._RF.pop()}}})),System.register("chunks:///_virtual/x228684999913495121x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x}],execute:function(){i._RF.push({},"611d0mQJupF1rKbErxqhWio","x228684999913495121x",void 0),t("x228684999913495121x",function(t){function i(e){var i;return(i=t.call(this)||this).mNativeStringBuilder="",i}e(i,t);var n=i.prototype;return n.ensureCapacity=function(t){},n.getLength=function(){return this.mNativeStringBuilder.length},n.getString=function(){return this.mNativeStringBuilder},n.setString=function(t){this.mNativeStringBuilder=t},n.appendString=function(t){t&&""!=t&&(this.mNativeStringBuilder+=t)},n.appendCharCode=function(t){this.mNativeStringBuilder+=String.fromCharCode(t)},n.appendInt=function(t,e,i){e<1&&(e=1);var n=t<0;n&&(t*=-1);for(var r=this.getLength(),s=0;0!=t||s<e;){if(i&&s>0&&s%3==0&&this.insertString(",",r),0!=t){switch(t%10){case 0:this.insertString("0",r);break;case 1:this.insertString("1",r);break;case 2:this.insertString("2",r);break;case 3:this.insertString("3",r);break;case 4:this.insertString("4",r);break;case 5:this.insertString("5",r);break;case 6:this.insertString("6",r);break;case 7:this.insertString("7",r);break;case 8:this.insertString("8",r);break;case 9:this.insertString("9",r)}t=~~(t/10)}else s<e&&this.insertString("0",r);s++}n&&this.insertString("-",r)},n.appendFloat=function(t){var e=this.getLength();this.appendString(t.toString()),(0==this.getLength()||this.lastIndexOfCharCode(".".charCodeAt(),e)<0)&&this.appendString(".0")},n.appendBoolean=function(t){this.appendString(t?"true":"false")},n.prependString=function(t){this.mNativeStringBuilder=t+this.mNativeStringBuilder},n.insertString=function(t,e){this.mNativeStringBuilder=this.mNativeStringBuilder.substring(0,e)+t+this.mNativeStringBuilder.substring(e)},n.getCharCodeAtIndex=function(t){return this.mNativeStringBuilder.charCodeAt(t)},n.lastIndexOfCharCode=function(t,e){for(var i=-1,n=this.getLength(),r=e;r<n;r++)this.getCharCodeAtIndex(r)==t&&(i=r);return i},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x1819685683784665247x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3807920460184414210x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x3807920460184414210x},function(t){r=t.x702435451033209193x}],execute:function(){i._RF.push({},"e7d4fwaxNBLbaRbNKE7pXDn","x1819685683784665247x",void 0),t("x1819685683784665247x",function(t){function i(){var e;return(e=t.call(this,n.x3076231396314581594x)||this).mValue="",e}e(i,t),i.getAvailableInstance=function(){i.sPool||(i.sPool=new Array);var t=null;return i.sPool.length>0?(t=i.sPool[i.sPool.length-1],i.sPool.pop()):t=new i,t},i.recycleAvailableInstance=function(t){i.sPool||(i.sPool=new Array),t.recycle(),i.sPool.push(t)},i.destroyPool=function(){if(i.sPool){for(var t=i.sPool.length,e=0;e<t;e++){var n=i.sPool[e];null!==n&&(n.destroy(),n=null)}null!==i.sPool&&(i.sPool=null)}};var s=i.prototype;return s.getValue=function(){return this.mValue},s.setValue=function(t){this.mValue=t},s.x2241532792834576709x=function(){return t.prototype.x2241532792834576709x.call(this),this.mValue="",!0},s.x1721113016797186854x=function(){this.mValue="",t.prototype.x1721113016797186854x.call(this)},s.setValueWithInt=function(t){this.mValue=r.stringFromInt(t,1,!1)},s.setValueWithFloat=function(t){this.mValue=r.stringFromFloat(t)},s.setValueWithBool=function(t){this.mValue=r.stringFromBoolean(t)},s.setValueWithString=function(t){this.mValue=t},s.toInt=function(){return r.stringToInt(this.mValue)},s.toFloat=function(){return r.stringToFloat(this.mValue)},s.toBool=function(){return r.stringToBoolean(this.mValue)},s.toString=function(){return this.mValue},i}(n)).sPool=null,i._RF.pop()}}})),System.register("chunks:///_virtual/x3666328017471509521x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x850700817827885953x.ts","./x1442954324271535409x.ts","./x702435451033209193x.ts","./x3375026250715268596x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x850700817827885953x},function(t){r=t.x1442954324271535409x},function(t){s=t.x702435451033209193x},function(t){a=t.x3375026250715268596x}],execute:function(){i._RF.push({},"5f1b2fe2pdLT4VtCVPRv1hE","x3666328017471509521x",void 0),t("x3666328017471509521x",function(t){function i(e,i,n,r,s){var a;return(a=t.call(this,e,i,n,r)||this).mFilePath=s,a.mText="",a}e(i,t),i.x4165327605482766573x=function(t){return s.stringToHash32("1385765729-"+t)};var n=i.prototype;return n.getText=function(t){return""==t||s.stringStartsWith(this.mText,t)?this.mText:s.x1012796168335938419x(this.mText)},n.x1721113016797186854x=function(){this.mText="",t.prototype.x1721113016797186854x.call(this)},n.x2249892239750456702x=function(){},n.x1937515428629277026x=function(){var t=this.getResourceMgr().expandFilePath(this.mFilePath);if(!r.isFilePathRemote(t))return t=r.prepareLocalResourceFilePath(t),a.x2810067176957391831x;t=r.prepareRemoteResourceFilePath(t);var e=new XMLHttpRequest,i=this;e.onload=function(){""!=e.responseText?(i.mText=e.responseText,i.setNextState(a.x816060623491963128x,!1)):i.setNextState(a.x2810067176957391831x,!1)},e.onerror=function(){i.setNextState(a.x2810067176957391831x,!1)},e.onabort=function(){i.setNextState(a.x2810067176957391831x,!1)},e.open("GET",t),e.responseType="text",e.send()},n.x485164082923534672x=function(){return a.x435844797934444114x},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3956209615445122196x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x2205868517935256955x}],execute:function(){n._RF.push({},"5039cV+UX5OP5YtLsxwpR4s","x3956209615445122196x",void 0),t("x3956209615445122196x",function(t){function n(){var e;return(e=t.call(this)||this).mDurationMSEC=0,e.mMessageTarget=null,e.mMessageId=0,e.mState=n.x692812491855950259x,e.mElapsedTimeMSEC=0,e}e(n,t);var r=n.prototype;return r.start=function(t,e,i){this.mDurationMSEC=t,this.mMessageTarget=e,this.mMessageId=i,this.mState=n.x692812491855950259x,this.mElapsedTimeMSEC=0},r.getMessageId=function(){return this.mMessageId},r.reset=function(){this.mElapsedTimeMSEC=0},r.cancel=function(){this.mDurationMSEC=0,this.mMessageTarget=null,this.mMessageId=0,this.mState=n.x4163703673799675971x,this.mElapsedTimeMSEC=0},r.isActive=function(){return this.mState==n.x692812491855950259x},r.processTimeMSEC=function(t){this.isActive()&&(this.mElapsedTimeMSEC+=t,this.mElapsedTimeMSEC>=this.mDurationMSEC&&(this.mState=n.x964834887917470544x,this.mElapsedTimeMSEC=this.mDurationMSEC,this.mMessageTarget&&this.mMessageTarget.x601562840631873202x(this.mMessageId,null,null)))},r.x2241532792834576709x=function(){return t.prototype.x2241532792834576709x.call(this),this.mDurationMSEC=0,this.mMessageTarget=null,this.mMessageId=0,this.mState=n.x692812491855950259x,this.mElapsedTimeMSEC=0,!0},r.x1721113016797186854x=function(){this.mDurationMSEC=0,this.mMessageTarget=null,this.mMessageId=0,this.mState=n.x692812491855950259x,this.mElapsedTimeMSEC=0,t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x692812491855950259x",get:function(){return 1}},{key:"x964834887917470544x",get:function(){return 2}},{key:"x4163703673799675971x",get:function(){return 2}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x4474588899120617551x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x3196398007076860870x.ts","./x4604961113285727737x.ts","./x3956209615445122196x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x2205868517935256955x},function(t){r=t.x3196398007076860870x},function(t){s=t.x4604961113285727737x},function(t){a=t.x3956209615445122196x}],execute:function(){i._RF.push({},"931b6sZB2hJ5q5Kc5b16Sgc","x4474588899120617551x",void 0),t("x4474588899120617551x",function(t){function i(){var e;return(e=t.call(this)||this).mTimersPool=new s,e.mActiveTimers=new r(0),e}e(i,t);var n=i.prototype;return n.startTimer=function(t,e,i){if(!(t<0)){var n=this.getAvailableTimer();n.start(t,e,i),this.mActiveTimers.pushBack(n)}},n.resetTimer=function(t){for(var e=this.mActiveTimers.getNumObjects(),i=0;i<e;i++){var n=this.mActiveTimers.getAtIndex(i);n.getMessageId()==t&&n.reset()}},n.cancelTimer=function(t){for(var e=this.mActiveTimers.getNumObjects(),i=0;i<e;i++){var n=this.mActiveTimers.getAtIndex(i);n.getMessageId()==t&&(n.cancel(),this.mTimersPool.recycleObject(n),this.mActiveTimers.removeAtIndex(i),i--,e--)}},n.cancelAllTimers=function(){for(;this.mActiveTimers.getNumObjects()>0;){var t=this.mActiveTimers.peekBack();t.cancel(),this.mTimersPool.recycleObject(t),this.mActiveTimers.popBack()}},n.processTimeMSEC=function(t){for(var e=this.mActiveTimers.getNumObjects(),i=0;i<e;i++){var n=this.mActiveTimers.getAtIndex(i);n.isActive()&&n.processTimeMSEC(t),n.isActive()||(this.mTimersPool.recycleObject(n),this.mActiveTimers.removeAtIndex(i),i--,e--)}},n.getAvailableTimer=function(){var t=this.mTimersPool.getAvailableObject();return t||(t=new a),t},n.x1721113016797186854x=function(){this.cancelAllTimers(),null!==this.mTimersPool&&(this.mTimersPool.destroy(),this.mTimersPool=null),null!==this.mActiveTimers&&(this.mActiveTimers.destroy(),this.mActiveTimers=null),t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x4083617637690936339x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3339987402386958992x.ts","./x3026372372374902841x.ts","./x3461623316906106937x.ts","./x1930801154962670888x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3339987402386958992x},function(t){a=t.x3026372372374902841x},function(t){o=t.x3461623316906106937x},function(t){x=t.x1930801154962670888x},function(t){u=t.x702435451033209193x}],execute:function(){r._RF.push({},"e23cbLLXuRNNKZ0DS67Fg/q","x4083617637690936339x",void 0),t("x4083617637690936339x",function(t){function r(e,i){var s;return(s=t.call(this,r.x1052376050215541209x,e)||this).getParams().setIntValue(r.x3619304726066726890x,1),s.getParams().setBoolValue(r.x2650416203038531284x,!0),s.getParams().setIntValue(r.x4496464924921626031x,5e3),s.getParams().setIntValue(r.x293625348062319908x,15e3),s.getParams().setIntValue(r.x4121548307257725834x,3),s.getParams().setIntValue(r.x3265951125720398931x,200),s.getParams().copy(i,!1),e.addMessageListener(n(s)),s.getGame().addMessageListener(n(s)),s.mBattleComponent=null,s.mRemainingPiecesForTurn=0,s.mRemainingTimeForTurnMSEC=0,s.mTargetTimeForAttackMSEC=s.getParams().getIntValue(r.x293625348062319908x),s.setNextState(r.x4139262408572969976x,!1),s}e(r,t);var s=r.prototype;return s.getNumPiecesPerTurn=function(){return this.getParams().getIntValue(r.x3619304726066726890x)},s.isTurnInactive=function(){return this.getCurrentState()==r.x1660447056396704855x},s.getRemainingPiecesForTurn=function(){return this.mRemainingPiecesForTurn},s.getTimerAttackMeterFilled01_FXPT=function(){return u.FXPTDivide(u.FXPTFromInt(this.mRemainingTimeForTurnMSEC),u.FXPTFromInt(this.mTargetTimeForAttackMSEC))},s.startTurn=function(){this.mRemainingPiecesForTurn=this.getNumPiecesPerTurn();var t=this.getParams().getIntValue(r.x4496464924921626031x);this.mRemainingTimeForTurnMSEC+=t,this.mRemainingTimeForTurnMSEC>=this.mTargetTimeForAttackMSEC&&(this.sendAttack(),this.mRemainingTimeForTurnMSEC=t);var e=this.getPlayer().getPieceQueue();e.setIsFillingEnabled(!0),e.fillToNumPieces(this.mRemainingPiecesForTurn),e.setIsFillingEnabled(this.getParams().getBoolValue(r.x2650416203038531284x)),this.getPlayer().setIsPieceGenerationEnabled(!0),this.setNextState(r.x3996715290560598233x,!1)},s.endTurn=function(){this.mRemainingPiecesForTurn=0,this.getPlayer().setIsPieceGenerationEnabled(!1),this.setNextState(r.x2354614150192355071x,!1)},s.processRemainingPieces=function(){this.mRemainingPiecesForTurn<=0&&this.endTurn()},s.processNextQueue=function(){var t=this.getPlayer().getPieceQueue(),e=t.getNumPieces()+(this.getPlayer().getIncomingPiece()?1:0);e<this.mRemainingPiecesForTurn&&(t.setIsFillingEnabled(!0),t.fillWithNumPieces(this.mRemainingPiecesForTurn-e),t.setIsFillingEnabled(this.getParams().getBoolValue(r.x2650416203038531284x)))},s.sendAttack=function(){this.mBattleComponent.sendAttacksToTargetPlayer(this.getParams().getIntValue(r.x4121548307257725834x))},s.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},s.x4498870316303653116x=function(t,e,i,n){switch(e){case r.x3996715290560598233x:switch(t){case x.x2580340477778594771x:return e;case x.x2982972318080668761x:return 0;case x.x3793884777573381281x:return this.mRemainingTimeForTurnMSEC-=n,this.mRemainingTimeForTurnMSEC<=0&&(this.mRemainingTimeForTurnMSEC=0,this.getPlayer().getLivePiece()?this.getPlayer().forceLivePieceHardDrop():this.endTurn()),n;case x.x4149106650117426330x:default:return 0}case r.x2354614150192355071x:switch(t){case x.x2580340477778594771x:return e;case x.x2982972318080668761x:return 0;case x.x3793884777573381281x:return this.getCurrentStateElapsedTimeMSEC()>=this.getParams().getIntValue(r.x3265951125720398931x)&&this.setNextState(r.x1660447056396704855x,!1),n;case x.x4149106650117426330x:default:return 0}case r.x1660447056396704855x:switch(t){case x.x2580340477778594771x:return e;case x.x2982972318080668761x:if(this.mBattleComponent){var s=this.mBattleComponent.getTargetPlayer().getComponent(r.x1052376050215541209x);s&&s.startTurn()}return 0;case x.x3793884777573381281x:return n;case x.x4149106650117426330x:default:return 0}case r.x4139262408572969976x:default:switch(t){case x.x2580340477778594771x:return e;case x.x2982972318080668761x:return 0;case x.x3793884777573381281x:return n;case x.x4149106650117426330x:default:return 0}}},s.x601562840631873202x=function(t,e,i){if(e==this.getPlayer())switch(t){case o.x1368156971866977203x:this.getPlayer().getCurrentState()===o.x226737526530541234x&&this.processRemainingPieces();break;case o.x656924164951305092x:this.getPlayer().getCurrentState()===o.x2202293818172776902x&&this.processNextQueue();break;case o.x4372612027967450106x:this.mRemainingPiecesForTurn-=1;break;case o.x2571108714608016537x:this.mBattleComponent=this.getPlayer().getComponent(a.x3907464974367750351x),this.mBattleComponent&&this.mBattleComponent.addMessageListener(this),0==this.getPlayer().getPlayerIndex()?this.startTurn():this.getPlayer().setIsPieceGenerationEnabled(!1)}},i(r,null,[{key:"x1052376050215541209x",get:function(){return 1680402566}},{key:"x3619304726066726890x",get:function(){return 2043618464}},{key:"x2650416203038531284x",get:function(){return 18841461}},{key:"x4496464924921626031x",get:function(){return 652424992}},{key:"x293625348062319908x",get:function(){return 287375366}},{key:"x4121548307257725834x",get:function(){return 918223131}},{key:"x3265951125720398931x",get:function(){return 823190553}},{key:"x4139262408572969976x",get:function(){return 1}},{key:"x3996715290560598233x",get:function(){return 2}},{key:"x2354614150192355071x",get:function(){return 3}},{key:"x1660447056396704855x",get:function(){return 4}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x702435451033209193x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x888205467023047117x.ts","./x228684999913495121x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x888205467023047117x},function(t){r=t.x228684999913495121x}],execute:function(){i._RF.push({},"f1eaab8/YpJh5gJpKz5C6wa","x702435451033209193x",void 0);var s=t("x702435451033209193x",function(){function t(){}return t.g1420982514=function(){return t.k1420982514},t.g67847186=function(){return t.k67847186},t.doStaticInit=function(){if(!t.sDidStaticInit){t.sDidStaticInit=!0,t.sDebugCounters_names=new Array,t.sDebugCounters_counts=new Array,n.doStaticInit(),t.sStringBuilder=new r(t.x4435667271765077451x);var e=0,i=0;for(i=999,t.sIntStringArray=new n(i,""),t.sIntStringArray.ensureMaxIndex(i),e=0;e<=i;e++)t.sIntStringArray.setStringAtIndex(e,t.stringFromInt(e,1,!1));for(t.sEnableIntStringArray=!0,i=100,t.sTabStringArray=new n(i,""),t.sTabStringArray.ensureMaxIndex(i),e=0;e<i;e++)t.sTabStringArray.setStringAtIndex(e,t.stringWithTabs(e));for(t.sEnableTabStringArray=!0,i=600,t.sTimeStringArray=new n(i,""),t.sTimeStringArray.ensureMaxIndex(i),e=0;e<i;e++)t.sTimeStringArray.setStringAtIndex(e,t.timeStringFromMSEC(1e3*e,1,0));t.sEnableTimeStringArray=!0}},t.doStaticDestroy=function(e){t.sDidStaticInit&&(n.doStaticDestroy(),null!==t.sIntStringArray&&(t.sIntStringArray.destroy(),t.sIntStringArray=null),t.sEnableIntStringArray=!1,null!==t.sTabStringArray&&(t.sTabStringArray.destroy(),t.sTabStringArray=null),t.sEnableTabStringArray=!1,null!==t.sTimeStringArray&&(t.sTimeStringArray.destroy(),t.sTimeStringArray=null),t.sEnableTimeStringArray=!1,e&&t.debug_printAllCounters(),null!==t.sStringBuilder&&(t.sStringBuilder.destroy(),t.sStringBuilder=null),null!==t.sDebugCounters_names&&(t.sDebugCounters_names=null),null!==t.sDebugCounters_counts&&(t.sDebugCounters_counts=null),t.sDidStaticInit=!1)},t.getStandardPieceTypeId=function(e){return"I"==e?t.x3470980478260957226x:"J"==e?t.x4089917939347655793x:"L"==e?t.x4356952734068014821x:"O"==e?t.x464963540126332034x:"S"==e?t.x3147028265582430196x:"T"==e?t.x430147064004821695x:"Z"==e?t.x358991450269824247x:"I3"==e?t.x1897493751449396940x:"J3"==e?t.x767082808028451276x:"L3"==e?t.x272739351403741827x:"I2"==e?t.x793268783332517826x:"I1"==e?t.x2986567280613901413x:0},t.getStandardPieceTypeName=function(e){switch(e){case t.x3470980478260957226x:return"I";case t.x4089917939347655793x:return"J";case t.x4356952734068014821x:return"L";case t.x464963540126332034x:return"O";case t.x3147028265582430196x:return"S";case t.x430147064004821695x:return"T";case t.x358991450269824247x:return"Z";case t.x1897493751449396940x:return"I3";case t.x767082808028451276x:return"J3";case t.x272739351403741827x:return"L3";case t.x793268783332517826x:return"I2";case t.x2986567280613901413x:return"I1";default:return"UNKNOWN"}},t.getStandardPieceHue01=function(e){switch(e){case t.x3470980478260957226x:case t.x1897493751449396940x:case t.x793268783332517826x:case t.x2986567280613901413x:return.514;case t.x4089917939347655793x:case t.x767082808028451276x:return.597;case t.x4356952734068014821x:case t.x272739351403741827x:return.083;case t.x464963540126332034x:return.153;case t.x3147028265582430196x:return.333;case t.x430147064004821695x:return.805;case t.x358991450269824247x:default:return 0}},t.computeTransformId=function(e,i,n,r,s){var a=0;if(e<0)return t.x703179871846962360x;if(e>=n)return t.x703179871846962360x;if(i<0)return t.x703179871846962360x;var o=t.computeGridIndex(e+r,i+r,n+2*r);return a=t.setValueInPackedBits(o,a,t.x3392827077417459707x,t.x2811011140529957354x),t.setValueInPackedBits(s,a,t.x2677445134559463757x,t.x1469457573229612133x)},t.computeXFromTransformId=function(e,i,n){return e!=t.x703179871846962360x?t.computeXFromGridIndex(t.getValueFromPackedBits(e,t.x3392827077417459707x,t.x2811011140529957354x),i+2*n)-n:0},t.computeYFromTransformId=function(e,i,n){return e!=t.x703179871846962360x?t.computeYFromGridIndex(t.getValueFromPackedBits(e,t.x3392827077417459707x,t.x2811011140529957354x),i+2*n)-n:0},t.computeFacingFromTransformId=function(e){return e!=t.x703179871846962360x?t.getValueFromPackedBits(e,t.x2677445134559463757x,t.x1469457573229612133x):0},t.areTransformsXYEqual=function(e,i,n,r){return t.computeXFromTransformId(e,n,r)==t.computeXFromTransformId(i,n,r)&&t.computeYFromTransformId(e,n,r)==t.computeYFromTransformId(i,n,r)},t.getDirectionForName=function(e){return"N"==e?t.x2663672270180766169x:"NE"==e?t.x2332351171371648974x:"E"==e?t.x4374508417979542563x:"SE"==e?t.x625698839261226640x:"S"==e?t.x2949016828512819336x:"SW"==e?t.x3825112663077443543x:"W"==e?t.x1751838633768770123x:"NW"==e?t.x2624047636006164864x:t.x2663672270180766169x},t.getNameForDirection=function(e){switch(e){case t.x2663672270180766169x:return"N";case t.x2332351171371648974x:return"NE";case t.x4374508417979542563x:return"E";case t.x625698839261226640x:return"SE";case t.x2949016828512819336x:return"S";case t.x3825112663077443543x:return"SW";case t.x1751838633768770123x:return"W";case t.x2624047636006164864x:return"NW";default:return"N"}},t.rotateDirections90=function(t,e){return t&=255,e?255&(t<<2|t>>>6):255&(t>>>2|t<<6)},t.rotateDirections180=function(e){return t.rotateDirections90(t.rotateDirections90(e,!0),!0)},t.getOppositeDirection=function(e){switch(e){case t.x2663672270180766169x:return t.x2949016828512819336x;case t.x2332351171371648974x:return t.x3825112663077443543x;case t.x4374508417979542563x:return t.x1751838633768770123x;case t.x625698839261226640x:return t.x2624047636006164864x;case t.x2949016828512819336x:return t.x2663672270180766169x;case t.x3825112663077443543x:return t.x2332351171371648974x;case t.x1751838633768770123x:return t.x4374508417979542563x;case t.x2624047636006164864x:return t.x625698839261226640x;default:return 0}},t.getIndexedStickyBitsMax3=function(t){switch(t){case 0:default:return 0;case 1:return 1;case 2:return 4;case 3:return 5;case 4:return 7;case 5:return 16;case 6:return 17;case 7:return 20;case 8:return 21;case 9:return 23;case 10:return 28;case 11:return 29;case 12:return 31;case 13:return 64;case 14:return 65;case 15:return 68;case 16:return 69;case 17:return 71;case 18:return 80;case 19:return 81;case 20:return 84;case 21:return 92;case 22:return 112;case 23:return 113;case 24:return 116;case 25:return 124;case 26:return 193;case 27:return 197;case 28:return 199;case 29:return 209;case 30:return 241}},t.getIndexForStickyBitsMax3=function(t){switch(t){case 0:default:return 0;case 1:return 1;case 4:return 2;case 5:return 3;case 7:return 4;case 16:return 5;case 17:return 6;case 20:return 7;case 21:return 8;case 23:return 9;case 28:return 10;case 29:return 11;case 31:return 12;case 64:return 13;case 65:return 14;case 68:return 15;case 69:return 16;case 71:return 17;case 80:return 18;case 81:return 19;case 84:return 20;case 92:return 21;case 112:return 22;case 113:return 23;case 116:return 24;case 124:return 25;case 193:return 26;case 197:return 27;case 199:return 28;case 209:return 29;case 241:return 30}},t.getIndexedStickyBitsMax8=function(t){switch(t){case 0:default:return 0;case 1:return 1;case 2:return 4;case 3:return 5;case 4:return 7;case 5:return 16;case 6:return 17;case 7:return 20;case 8:return 21;case 9:return 23;case 10:return 28;case 11:return 29;case 12:return 31;case 13:return 64;case 14:return 65;case 15:return 68;case 16:return 69;case 17:return 71;case 18:return 80;case 19:return 81;case 20:return 84;case 21:return 85;case 22:return 87;case 23:return 92;case 24:return 93;case 25:return 95;case 26:return 112;case 27:return 113;case 28:return 116;case 29:return 117;case 30:return 119;case 31:return 124;case 32:return 125;case 33:return 127;case 34:return 193;case 35:return 197;case 36:return 199;case 37:return 209;case 38:return 213;case 39:return 215;case 40:return 221;case 41:return 223;case 42:return 241;case 43:return 245;case 44:return 247;case 45:return 253;case 46:return 255}},t.getIndexForStickyBitsMax8=function(t){switch(t){case 0:default:return 0;case 1:return 1;case 4:return 2;case 5:return 3;case 7:return 4;case 16:return 5;case 17:return 6;case 20:return 7;case 21:return 8;case 23:return 9;case 28:return 10;case 29:return 11;case 31:return 12;case 64:return 13;case 65:return 14;case 68:return 15;case 69:return 16;case 71:return 17;case 80:return 18;case 81:return 19;case 84:return 20;case 85:return 21;case 87:return 22;case 92:return 23;case 93:return 24;case 95:return 25;case 112:return 26;case 113:return 27;case 116:return 28;case 117:return 29;case 119:return 30;case 124:return 31;case 125:return 32;case 127:return 33;case 193:return 34;case 197:return 35;case 199:return 36;case 209:return 37;case 213:return 38;case 215:return 39;case 221:return 40;case 223:return 41;case 241:return 42;case 245:return 43;case 247:return 44;case 253:return 45;case 255:return 46}},t.isValidStickyBits=function(e,i){if(t.areBitsOn(t.x2332351171371648974x,e)&&!t.areBitsOn(t.x1550404839293318774x,e))return!1;if(t.areBitsOn(t.x625698839261226640x,e)&&!t.areBitsOn(t.x1042551614883868016x,e))return!1;if(t.areBitsOn(t.x3825112663077443543x,e)&&!t.areBitsOn(t.x3102034060319810527x,e))return!1;if(t.areBitsOn(t.x2624047636006164864x,e)&&!t.areBitsOn(t.x1560215727161287825x,e))return!1;for(var n=0,r=t.x2663672270180766169x;r<=t.x1751838633768770123x;r<<=2)if(t.areBitsOn(r,e)&&++n>i)return!1;return!0},t.validateStickyBits=function(e){return t.areBitsOn(t.x2332351171371648974x,e)&&(t.areBitsOn(t.x1550404839293318774x,e)||(e&=~t.x2332351171371648974x)),t.areBitsOn(t.x625698839261226640x,e)&&(t.areBitsOn(t.x1042551614883868016x,e)||(e&=~t.x625698839261226640x)),t.areBitsOn(t.x3825112663077443543x,e)&&(t.areBitsOn(t.x3102034060319810527x,e)||(e&=~t.x3825112663077443543x)),t.areBitsOn(t.x2624047636006164864x,e)&&(t.areBitsOn(t.x1560215727161287825x,e)||(e&=~t.x2624047636006164864x)),e},t.getFacingForName=function(e){return"N"==e?t.x2628258654593101865x:"E"==e?t.x1916765820450533320x:"S"==e?t.x2731137289200737929x:"W"==e?t.x412600297092622044x:t.x2628258654593101865x},t.getNameForFacing=function(e){switch(e){case t.x2628258654593101865x:return"N";case t.x1916765820450533320x:return"E";case t.x2731137289200737929x:return"S";case t.x412600297092622044x:return"W";default:return"N"}},t.rotateFacing90=function(e,i){return t.loopClampedInt(e+(i?1:-1),t.x2628258654593101865x,t.x412600297092622044x)},t.rotateFacing180=function(e,i){return t.rotateFacing90(t.rotateFacing90(e,i),i)},t.isFacingRotationClockwise=function(t,e){return t<e?e-t<3:t>e&&t-e==3},t.getPointXForFacingRotation=function(e,i,n,r){var s=e,a=i;switch(n){case t.x2628258654593101865x:case t.x1916765820450533320x:case t.x2731137289200737929x:case t.x412600297092622044x:switch(r){case t.x2628258654593101865x:case t.x1916765820450533320x:case t.x2731137289200737929x:case t.x412600297092622044x:for(var o;n!=r;)o=s,s=a,a=-o,n=t.rotateFacing90(n,!0)}}return s},t.getPointYForFacingRotation=function(e,i,n,r){var s=e,a=i;switch(n){case t.x2628258654593101865x:case t.x1916765820450533320x:case t.x2731137289200737929x:case t.x412600297092622044x:switch(r){case t.x2628258654593101865x:case t.x1916765820450533320x:case t.x2731137289200737929x:case t.x412600297092622044x:for(var o;n!=r;)o=s,s=a,a=-o,n=t.rotateFacing90(n,!0)}}return a},t.getStandardScoreEventDescription=function(e,i,n,r,s,a){if(t.sStringBuilder.setString(""),0==a){switch(r&&(t.sStringBuilder.getLength()>0&&t.sStringBuilder.appendString("\n"),t.sStringBuilder.appendString("ALL CLEAR")),n&&(t.sStringBuilder.getLength()>0&&t.sStringBuilder.appendString("\n"),t.sStringBuilder.appendString("BACK-TO-BACK")),i){case t.x2242998426507838948x:t.sStringBuilder.getLength()>0&&t.sStringBuilder.appendString("\n"),t.sStringBuilder.appendString("MINI T-SPIN");break;case t.x3879340559840163537x:t.sStringBuilder.getLength()>0&&t.sStringBuilder.appendString("\n"),t.sStringBuilder.appendString("T-SPIN")}if(e>0){if(t.sStringBuilder.getLength()>0)switch(i){case t.x2242998426507838948x:case t.x3879340559840163537x:t.sStringBuilder.appendString(" ");break;default:t.sStringBuilder.appendString("\n")}switch(e){case 1:t.sStringBuilder.appendString("SINGLE");break;case 2:t.sStringBuilder.appendString("DOUBLE");break;case 3:t.sStringBuilder.appendString("TRIPLE");break;case 4:t.sStringBuilder.appendString("TETRIS");break;default:t.sStringBuilder.appendInt(e,1,!1),t.sStringBuilder.appendString(" LINE CLEAR")}}s>0&&(t.sStringBuilder.getLength()>0&&t.sStringBuilder.appendString("\n"),t.sStringBuilder.appendString("COMBO "),t.sStringBuilder.appendInt(s,1,!1))}else e>0&&0==a&&(t.sStringBuilder.getLength()>0&&t.sStringBuilder.appendString(" "),t.sStringBuilder.appendInt(e,1,!1),t.sStringBuilder.appendString(" LINE CLEAR")),a>0&&(t.sStringBuilder.getLength()>0&&t.sStringBuilder.appendString(" "),t.sStringBuilder.appendString("CASCADE "),t.sStringBuilder.appendInt(a,1,!1));return t.sStringBuilder.getString()},t.minInt=function(t,e){return t<e?t:e},t.maxInt=function(t,e){return t>e?t:e},t.clampInt=function(t,e,i){return e<i?t<e?e:t>i?i:t:t<i?i:t>e?e:t},t.loopInt=function(t,e,i){if(e==i)return e;var n,r;e<i?(n=e,r=i):(n=i,r=e);var s,a=r-n+1;return t<n?r-((s=r-t)-~~(s/a)*a):t>r?n+((s=t-n)-~~(s/a)*a):t},t.loopClampedInt=function(t,e,i){return e==i?e:(e<i?(n=e,r=i):(n=i,r=e),t<n?r:t>r?n:t);var n,r},t.sign=function(t){return t<0?-1:1},t.isEven=function(t){return t%2==0},t.isOdd=function(t){return t%2==1},t.lerp=function(t,e,i){return t+(e-t)*i},t.getLerpFactor=function(t,e,i){var n=i-e;return(n>=0?n:-n)>.001?(t-e)/n:0},t.interpolate01=function(e,i,n){switch(i){case t.x1796438885245247170x:return 0;case t.x2637490221287129689x:return e;case t.x3368896389236970471x:return Math.pow(e,n);case t.x3504408281807935120x:return e=1-e,1-Math.pow(e,n);case t.x1395473699672517869x:return e<.5?.5*t.interpolate01(2*e,t.x3368896389236970471x,n):.5+.5*t.interpolate01(2*(e-.5),t.x3504408281807935120x,n);case t.x3410019520519487016x:return e<.5?.5*t.interpolate01(2*e,t.x3504408281807935120x,n):.5+.5*t.interpolate01(2*(e-.5),t.x3368896389236970471x,n);case t.x4238907672882482244x:return-(e*(n-1)-Math.pow(e,2)*n);case t.x2098215288914713400x:return(e=1-e)*(n-1)-Math.pow(e,2)*n+1;case t.x1591317982309429286x:return Math.pow(e,n)-e*Math.sin(3.141592*e);case t.x860310455056850402x:return e=1-e,1-(Math.pow(e,n)-e*Math.sin(3.141592*e));case t.x300353220170934379x:return Math.pow(.5-.5*Math.cos(3.141592*e*2),n);case t.x4029083705215385566x:return Math.min((.5-.5*Math.cos(3.141592*e*2))*n,1);case t.x1057943304471767577x:return Math.pow(Math.sin(3.141592*e),n);case t.x4201269468295194640x:return Math.pow(Math.sin(3.141592*e*2),n);default:return e}},t.interpolate=function(e,i,n,r,s){var a=t.interpolate01(n,r,s);return t.lerp(e,i,a)},t.clamp01=function(t){return t<0?0:t>1?1:t},t.modf=function(t,e){return 0==t||0==e?0:t-e*~~(t/e)},t.forceSignedInt32=function(t){return t>2147483647&&(t=t-2147483647-2147483648-1),~~t},t.FXPTFromInt=function(e){return e*t.x4032911764208249279x},t.FXPTToInt=function(e){return~~(e/t.x4032911764208249279x)},t.FXPTFromFloat=function(e){return~~(e*t.x4032911764208249279x)},t.FXPTToFloat=function(e){return e/Number(t.x4032911764208249279x)},t.FXPTFloor=function(e){return~~(e/t.x4032911764208249279x)*t.x4032911764208249279x},t.FXPTMultiply=function(e,i){return~~(e*i/t.x4032911764208249279x)},t.FXPTDivide=function(e,i){return 0==i?0:((e>=0?e:-e)>t.x755600803253395489x&&(e=~~(e/t.x4032911764208249279x),i=~~(i/t.x4032911764208249279x)),~~(e*t.x4032911764208249279x/i))},t.FXPTSmooth=function(e,i,n){return n<=0?i:n>=t.x3167629350924187699x?e:t.FXPTMultiply(e,n)+t.FXPTMultiply(i,t.x3167629350924187699x-n)},t.FXPTLerp=function(e,i,n){return e+t.FXPTMultiply(i-e,n)},t.FXPTGetLerpFactor=function(e,i,n){var r=n-i;return(r>=0?r:-r)>0?t.FXPTDivide(e-i,r):0},t.generateNativeRandomSeed=function(){return Date.now()},t.setNativeRandomSeed=function(t){},t.nextNativeRandomInt=function(){return~~(2147483647*Math.random())},t.nextNativeRandomIntInRange=function(e,i){return e+t.nextNativeRandomInt()%(i-e+1)},t.nextNativeRandomSign=function(){return t.isEven(t.nextNativeRandomInt())?1:-1},t.nextNativeRandomFloatInRange=function(e,i,n){var r=i-e;return e+t.nextNativeRandomIntInRange(0,n)/n*r},t.randomInt2=function(e,i){var n=(e%=16777215)+(i%=16777215),r=15449471+i,s=e-i,a=11366743-i,o=t._randomInt2(n,r),x=t.forceSignedInt32(o+i),u=t._randomInt2(s,a),c=t.forceSignedInt32(u-i);return t._randomInt2(x,c)},t._randomInt2=function(t,e){return 0==(t%=16777215)&&(t=1),0==(e%=16777215)&&(e=1),((65535&(e=36969*(65535&e)+(e>>>16)))<<16&2147483647)+(65535&(t=18e3*(65535&t)+(t>>>16)))&2147483647},t.computeGridIndex=function(t,e,i){return e*i+t},t.computeXFromGridIndex=function(t,e){return t%e},t.computeYFromGridIndex=function(t,e){return~~(t/e)},t.computeGridBit=function(e,i,n){return 1<<t.computeGridIndex(e,i,n)},t.getValueFromPackedBits=function(t,e,i){return~~((t&e)>>>i)},t.setValueInPackedBits=function(t,e,i,n){return e&~i|t<<n&i},t.areBitsOn=function(t,e){return(e&t)==t},t.getStringBuilder=function(){return t.sStringBuilder},t.stringFromInt=function(e,i,n){return t.sEnableIntStringArray&&1==i&&e<=t.sIntStringArray.getMaxIndex()?t.sIntStringArray.getStringAtIndex(e):(t.sStringBuilder.setString(""),t.sStringBuilder.appendInt(e,i,n),t.sStringBuilder.getString())},t.stringFromFloat=function(e){return t.sStringBuilder.setString(""),t.sStringBuilder.appendFloat(e),t.sStringBuilder.getString()},t.stringFromFixed=function(e){return t.stringFromFloat(t.FXPTToFloat(e))},t.stringFromBoolean=function(t){return t?"true":"false"},t.stringWithTabs=function(e){if(t.sEnableTabStringArray&&e<=t.sTabStringArray.getMaxIndex())return t.sTabStringArray.getStringAtIndex(e);for(t.sStringBuilder.setString("");e-- >0;)t.sStringBuilder.appendString("\t");return t.sStringBuilder.getString()},t.timeStringFromMSEC=function(e,i,n){var r=~~(e/1e3),s=e-1e3*r;0==n&&s>0&&(r++,s=0);var a=r%60,o=~~(r/60);if(t.sEnableTimeStringArray&&1==i&&0==n&&r<=t.sTimeStringArray.getMaxIndex())return t.sTimeStringArray.getStringAtIndex(r);switch(t.sStringBuilder.setString(""),t.sStringBuilder.appendInt(o,i,!1),t.sStringBuilder.appendString(":"),t.sStringBuilder.appendInt(a,2,!1),n){case 0:break;case 1:t.sStringBuilder.appendString("."),t.sStringBuilder.appendInt(~~(s/100),1,!1);break;case 2:t.sStringBuilder.appendString("."),t.sStringBuilder.appendInt(~~(s/10),2,!1);break;default:t.sStringBuilder.appendString("."),t.sStringBuilder.appendInt(s,3,!1)}return t.sStringBuilder.getString()},t.stringToInt=function(t){return parseInt(t)},t.stringToFloat=function(t){return parseFloat(t)},t.stringToFixed=function(e){return t.FXPTFromFloat(t.stringToFloat(e))},t.stringToBoolean=function(e){return"true"==t.stringToLowerCase(e)},t.stringToHash32=function(t){if(""!=t){for(var e=44017,i=t.length,n=0;n<i;n++)e=t.charCodeAt(n)+(e<<6)+(e<<16)-e;return 2147483647&e}return 0},t.stringToHash32V2=function(t){if(""!=t){for(var e=88001,i=t.length,n=0;n<i;n++)e=t.charCodeAt(n)+(e<<6)+(e<<16)-e;return 2147483647&e}return 0},t.stringToUpperCase=function(t){return t&&""!=t?t.toUpperCase():""},t.stringToLowerCase=function(t){return t&&""!=t?t.toLowerCase():""},t.stringEndsWith=function(e,i){var n=t.lastIndexInString(e,i);return n>=0&&n==e.length-i.length},t.stringStartsWith=function(e,i){return 0==t.firstIndexInString(e,i)},t.firstIndexInString=function(t,e){return t.indexOf(e)},t.nextIndexInString=function(t,e,i){return i<0?-1:t.indexOf(e,i)},t.lastIndexInString=function(t,e){return t.lastIndexOf(e)},t.stringLineCount=function(t){for(var e=0,i=t.length,n=0;n<i;n++)switch(t.charCodeAt(n)){case 10:case 13:e++}return e},t.substringFromIndex=function(t,e){return t.substring(e)},t.substringFromIndexWithLength=function(t,e,i){return t.substr(e,i)},t.substringToIndex=function(t,e){return e>=0?t.substring(0,e):""},t.substringToLastIndex=function(e,i){var n=t.lastIndexInString(e,i);return n>=0?t.substringToIndex(e,n):e},t.substringWithRange=function(e,i,n){return t.substringFromIndexWithLength(e,i,n-i)},t.trimStringLines=function(e,i,n){if(!e||""==e)return e;var r=e.length,s=1,a=0;for(a=0;a<r;a++)e.charCodeAt(a)=="\n".charCodeAt()&&s++;var o=s-i;if(o<=0)return e;if(n){for(s=1,a=0;a<r;a++)if(e.charCodeAt(a)=="\n".charCodeAt()&&++s>=o)return t.substringFromIndex(e,a+1)}else for(s=-1,a=r-1;a>=0;a--)if(e.charCodeAt(a)=="\n".charCodeAt()&&++s>=o)return t.substringToIndex(e,a);return e},t.concatStrings2=function(e,i){return t.sStringBuilder.setString(e),t.sStringBuilder.appendString(i),t.sStringBuilder.getString()},t.concatStrings3=function(e,i,n){return t.sStringBuilder.setString(e),t.sStringBuilder.appendString(i),t.sStringBuilder.appendString(n),t.sStringBuilder.getString()},t.concatStrings4=function(e,i,n,r){return t.sStringBuilder.setString(e),t.sStringBuilder.appendString(i),t.sStringBuilder.appendString(n),t.sStringBuilder.appendString(r),t.sStringBuilder.getString()},t.stringFromValueKey=function(e){return t.sStringBuilder.setString("#"),t.sStringBuilder.appendInt(e,1,!1),t.sStringBuilder.getString()},t.stringToValueKey=function(e){return e&&""!=e?e.charCodeAt(0)=="#".charCodeAt()&&e.length>1?t.stringToInt(t.substringFromIndex(e,1)):t.stringToHash32(e):0},t.getNumValueKeysInPath=function(t){if(!t||""==t)return 0;for(var e=1,i=t.length,n=0;n<i;n++)t.charCodeAt(n)==".".charCodeAt()&&e++;return e},t.getFirstValueKeyInPath=function(e){return t.stringToValueKey(t.getFirstItemInPath(e))},t.getFirstItemInPath=function(e){if(!e||""==e)return"";for(var i=0,n=e.length;i<n&&e.charCodeAt(i)!=".".charCodeAt();)i++;return t.substringToIndex(e,i)},t.chompToNextItemInPath=function(e){if(!e||""==e)return"";for(var i=0,n=e.length;i<n&&e.charCodeAt(i)!=".".charCodeAt();)i++;return i>=n?"":t.substringFromIndex(e,i+1)},t.getNumParamsInString=function(e){if(e.length<=4)return 0;var i=t.firstIndexInString(e,"~");if(i>=0){for(var n=0,r=t.nextIndexInString(e,"-",i);i>=0&&r>=0;)n++,i=t.nextIndexInString(e,"~",i+1),r=t.nextIndexInString(e,"-",i);return n}return 0},t.getParamNameInStringAtIndex=function(e,i){if(e.length<=4)return"";var n=t.firstIndexInString(e,"~");if(n>=0){for(var r=0,s=t.nextIndexInString(e,"-",n);r<i&&n>=0&&s>=0;)r++,n=t.nextIndexInString(e,"~",n+1),s=t.nextIndexInString(e,"-",n);return r==i?t.substringWithRange(e,n+1,s):""}return""},t.stringHasParamValue=function(e,i){return t.firstIndexInString(e,"~"+i+"-")>=0},t.getParamValueFromString=function(e,i){var n=t.firstIndexInString(e,"~"+i+"-");if(n<0)return"";var r=t.nextIndexInString(e,"~",n+1);return r>0?t.substringWithRange(e,n+i.length+2,r):t.substringFromIndex(e,n+i.length+2)},t.getParamIntValueFromString=function(e,i,n){return t.stringHasParamValue(e,i)?t.stringToInt(t.getParamValueFromString(e,i)):n},t.getParamFloatValueFromString=function(e,i,n){return t.stringHasParamValue(e,i)?t.stringToFloat(t.getParamValueFromString(e,i)):n},t.getParamBoolValueFromString=function(e,i,n){return t.stringHasParamValue(e,i)?t.stringToBoolean(t.getParamValueFromString(e,i)):n},t.getParamStringValueFromString=function(e,i,n){return t.stringHasParamValue(e,i)?t.getParamValueFromString(e,i):n},t.numItemsInStringList=function(t){if(!t||""==t)return 0;for(var e=1,i=t.length,n=0;n<i;n++)t.charCodeAt(n)==",".charCodeAt()&&e++;return e},t.stringListItemAtIndex=function(e,i){for(var n,r,s=0,a=0,o=e.length;a<o;){if(s==i){for(n=a;a<o&&e.charCodeAt(a)!=",".charCodeAt();)a++;return r=a,t.substringWithRange(e,n,r)}e.charCodeAt(a)==",".charCodeAt()&&s++,a++}return""},t.doesStringListContainItem=function(e,i,n){if(!e||""==e)return!1;for(var r=t.numItemsInStringList(e),s=0;s<r;s++){var a=t.stringListItemAtIndex(e,s);if(a==i||n&&t.stringStartsWith(i,a))return!0}return!1},t.regexReplaceString=function(t,e,i){return t.replace(new RegExp(e,"g"),i)},t.x1615343114719087054x=function(e,i){if(!e||""==e)return"";var n,r,s,a,o=e.length;n=i<0?t.stringToHash32(e)%256:0==i?t.nextNativeRandomIntInRange(0,255):i%256,t.sStringBuilder.setString(""),t.sStringBuilder.appendCharCode(t.numTo2Chars_CharCode1(n)),t.sStringBuilder.appendCharCode(t.numTo2Chars_CharCode2(n));for(var x=0;x<o;x++)r=t.randomInt2(n,x)%420,(s=e.charCodeAt(x))>255&&(s=0),a=s+r,t.sStringBuilder.appendCharCode(t.numTo2Chars_CharCode1(a)),t.sStringBuilder.appendCharCode(t.numTo2Chars_CharCode2(a));return t.sStringBuilder.getString()},t.x1012796168335938419x=function(e){if(!e||""==e)return"";var i,n,r=e.length,s=t.numFrom2Chars(e.charCodeAt(0),e.charCodeAt(1)),a=(r-2)/2;t.sStringBuilder.setString("");for(var o=1;o<=a;o++){if(i=t.randomInt2(s,o-1)%420,(n=t.numFrom2Chars(e.charCodeAt(2*o),e.charCodeAt(2*o+1))-i)>255)return"";n>0&&t.sStringBuilder.appendCharCode(n)}return t.sStringBuilder.getString()},t.x3113156502343978570x=function(e,i){if(!e||""==e)return"";var n,r,s,a=e.length;n=i<0?(e.charCodeAt(0)+e.charCodeAt(a-1)+a)%256:0==i?t.nextNativeRandomIntInRange(0,255):i%256,t.sStringBuilder.setString(""),t.sStringBuilder.appendCharCode(n);for(var o=0;o<a;o++)s=255&((r=e.charCodeAt(o))^n),t.sStringBuilder.appendCharCode(s),n=n*r%256;return t.sStringBuilder.getString()},t.x1760677256100805282x=function(e){if(!e||""==e)return"";var i,n=e.length,r=e.charCodeAt(0);t.sStringBuilder.setString("");for(var s=1;s<n;s++)i=255&(e.charCodeAt(s)^r),t.sStringBuilder.appendCharCode(i),r=r*i%256;return t.sStringBuilder.getString()},t.numTo2Chars_CharCode1=function(t){return 65+t%26},t.numTo2Chars_CharCode2=function(t){return 65+t/26},t.numFrom2Chars=function(t,e){return t-65+26*(e-65)},t.copyNativeIntVector=function(t,e){e.length=0;for(var i=t.length,n=0;n<i;n++){var r=t[n];e.push(r)}},t.getCurrentYear=function(){return(new Date).getFullYear()},t.debug_logMessage=function(t){console.log(t)},t.debug_incrementCounter=function(e){if(t.sDidStaticInit){var i=t.debug_getCounterIndex(e);if(i>=0){var n=t.sDebugCounters_counts[i];t.sDebugCounters_counts[i]=n+1}else t.sDebugCounters_names.push(e),t.sDebugCounters_counts.push(1)}},t.debug_decrementCounter=function(e){if(t.sDidStaticInit){var i=t.debug_getCounterIndex(e);if(i>=0){var n=t.sDebugCounters_counts[i];t.sDebugCounters_counts[i]=n-1}}},t.debug_printAllCounters=function(){if(t.sDidStaticInit){t.debug_logMessage("x702435451033209193x::debug_printAllCounters: START");for(var e=t.sDebugCounters_names.length,i=0;i<e;i++){var n=t.sDebugCounters_counts[i];if(n>0){var r="  "+t.sDebugCounters_names[i]+": "+t.stringFromInt(n,1,!1);t.debug_logMessage(r)}}t.debug_logMessage("x702435451033209193x::debug_printAllCounters: END")}},t.debug_getCounterIndex=function(e){if(!t.sDidStaticInit)return-1;for(var i=t.sDebugCounters_names.length,n=0;n<i;n++)if(t.sDebugCounters_names[n]==e)return n;return-1},e(t,null,[{key:"k1420982514",get:function(){return 28901}},{key:"k67847186",get:function(){return 67847186}},{key:"x3470980478260957226x",get:function(){return 1}},{key:"x4089917939347655793x",get:function(){return 2}},{key:"x4356952734068014821x",get:function(){return 3}},{key:"x464963540126332034x",get:function(){return 4}},{key:"x3147028265582430196x",get:function(){return 5}},{key:"x430147064004821695x",get:function(){return 6}},{key:"x358991450269824247x",get:function(){return 7}},{key:"x1897493751449396940x",get:function(){return 8}},{key:"x767082808028451276x",get:function(){return 9}},{key:"x272739351403741827x",get:function(){return 10}},{key:"x793268783332517826x",get:function(){return 11}},{key:"x2986567280613901413x",get:function(){return 12}},{key:"x4187320764779318408x",get:function(){return 0}},{key:"x3417271268866532404x",get:function(){return 1}},{key:"kStandardMinoTypeId_J",get:function(){return 2}},{key:"kStandardMinoTypeId_L",get:function(){return 3}},{key:"kStandardMinoTypeId_O",get:function(){return 4}},{key:"kStandardMinoTypeId_S",get:function(){return 5}},{key:"kStandardMinoTypeId_T",get:function(){return 6}},{key:"x941492048183429145x",get:function(){return 7}},{key:"kTransformIdNumBits_facing",get:function(){return 2}},{key:"kTransformIdNumBits_xy",get:function(){return 16}},{key:"x1469457573229612133x",get:function(){return 0}},{key:"x2811011140529957354x",get:function(){return 2}},{key:"x2677445134559463757x",get:function(){return 3}},{key:"x3392827077417459707x",get:function(){return 262140}},{key:"x703179871846962360x",get:function(){return-1}},{key:"x3162409397689077297x",get:function(){return 0}},{key:"x883257587842153100x",get:function(){return 90}},{key:"x314415129552216057x",get:function(){return 180}},{key:"x2663672270180766169x",get:function(){return 1}},{key:"x2332351171371648974x",get:function(){return 2}},{key:"x4374508417979542563x",get:function(){return 4}},{key:"x625698839261226640x",get:function(){return 8}},{key:"x2949016828512819336x",get:function(){return 16}},{key:"x3825112663077443543x",get:function(){return 32}},{key:"x1751838633768770123x",get:function(){return 64}},{key:"x2624047636006164864x",get:function(){return 128}},{key:"x1550404839293318774x",get:function(){return 7}},{key:"x1042551614883868016x",get:function(){return 28}},{key:"x3102034060319810527x",get:function(){return 112}},{key:"x1560215727161287825x",get:function(){return 193}},{key:"x3762939614942414687x",get:function(){return 31}},{key:"x3871401098920632143x",get:function(){return 47}},{key:"x2628258654593101865x",get:function(){return 0}},{key:"x1916765820450533320x",get:function(){return 1}},{key:"x2731137289200737929x",get:function(){return 2}},{key:"x412600297092622044x",get:function(){return 3}},{key:"kNumFacings",get:function(){return 4}},{key:"x2088302373693961418x",get:function(){return 0}},{key:"x3879340559840163537x",get:function(){return 1}},{key:"x2242998426507838948x",get:function(){return 2}},{key:"x4486032239274713138x",get:function(){return 2147483647}},{key:"x3148667442332835850x",get:function(){return-2147483647}},{key:"x1796438885245247170x",get:function(){return 958761353}},{key:"x2637490221287129689x",get:function(){return 1826975958}},{key:"x3368896389236970471x",get:function(){return 450223588}},{key:"x3504408281807935120x",get:function(){return 2072050255}},{key:"x1395473699672517869x",get:function(){return 244167466}},{key:"x3410019520519487016x",get:function(){return 2111034676}},{key:"x4238907672882482244x",get:function(){return 550715071}},{key:"x2098215288914713400x",get:function(){return 1438044212}},{key:"x1591317982309429286x",get:function(){return 1195574205}},{key:"x860310455056850402x",get:function(){return 271993526}},{key:"x300353220170934379x",get:function(){return 60963303}},{key:"x4029083705215385566x",get:function(){return 601393496}},{key:"x1057943304471767577x",get:function(){return 517160971}},{key:"x4201269468295194640x",get:function(){return 517160972}},{key:"x4032911764208249279x",get:function(){return 1e3}},{key:"x3167629350924187699x",get:function(){return 1e3}},{key:"x755600803253395489x",get:function(){return 2147483}},{key:"x4435667271765077451x",get:function(){return 1e4}},{key:"kBPSTetrisEngineVersionNumber",get:function(){return"289.01"}}]),t}());s.sDidStaticInit=!1,s.sDebugCounters_names=null,s.sDebugCounters_counts=null,s.sStringBuilder=null,s.sIntStringArray=null,s.sEnableIntStringArray=!1,s.sTabStringArray=null,s.sEnableTabStringArray=!1,s.sTimeStringArray=null,s.sEnableTimeStringArray=!1,i._RF.pop()}}})),System.register("chunks:///_virtual/x3807920460184414210x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x},function(t){s=t.x702435451033209193x}],execute:function(){n._RF.push({},"c34b5WMZKBGmal1NQpBaThr","x3807920460184414210x",void 0),t("x3807920460184414210x",function(t){function n(e){var i;return(i=t.call(this)||this).mValueType=e,i.mKey=0,i.mKeyString="",i}e(n,t),n.valueTypeToString=function(t){switch(t){case n.x2736631188424289638x:return"int";case n.x2484114307597753098x:return"float";case n.x3103886056112448540x:return"bool";case n.x3076231396314581594x:return"string";case n.x2234935847743629855x:return"object";default:return"unknown"}},n.valueTypeFromString=function(t){return"int"==t?n.x2736631188424289638x:"float"==t?n.x2484114307597753098x:"bool"==t?n.x3103886056112448540x:"string"==t?n.x3076231396314581594x:"object"==t?n.x2234935847743629855x:0};var r=n.prototype;return r.getValueType=function(){return this.mValueType},r.getKey=function(){return this.mKey},r.setKey=function(t,e){this.mKey=t,e?this.mKeyString=s.stringFromValueKey(t):this.mKeyString&&""!=this.mKeyString&&(this.mKeyString="")},r.getKeyString=function(){return this.mKeyString},r.setKeyString=function(t){this.mKeyString=t,t&&""!=t&&(this.mKey=s.stringToValueKey(t))},r.equalsValue=function(t,e){if(e&&this.mValueType!=t.getValueType())return!1;switch(this.mValueType){case n.x2736631188424289638x:return this.toInt()==t.toInt();case n.x2484114307597753098x:return this.toFloat()==t.toFloat();case n.x3103886056112448540x:return this.toBool()==t.toBool();case n.x3076231396314581594x:return this.toString()==t.toString();default:return!1}},r.copyValue=function(t){switch(this.mValueType){case n.x2736631188424289638x:this.setValueWithInt(t.toInt());break;case n.x2484114307597753098x:this.setValueWithFloat(t.toFloat());break;case n.x3103886056112448540x:this.setValueWithBool(t.toBool());break;case n.x3076231396314581594x:this.setValueWithString(t.toString())}},r.setValueWithInt=function(t){},r.setValueWithFloat=function(t){},r.setValueWithBool=function(t){},r.setValueWithString=function(t){},r.toInt=function(){return 0},r.toFloat=function(){return 0},r.toBool=function(){return!1},r.toString=function(){return""},r.x2241532792834576709x=function(){return this.mKey=0,this.mKeyString="",!0},r.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x2736631188424289638x",get:function(){return 1}},{key:"x2484114307597753098x",get:function(){return 2}},{key:"x3103886056112448540x",get:function(){return 3}},{key:"x3076231396314581594x",get:function(){return 4}},{key:"x2234935847743629855x",get:function(){return 5}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x4037811246765908194x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x1442954324271535409x.ts","./x3693760142138385085x.ts","./x849814992193452328x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x},function(t){s=t.x1442954324271535409x},function(t){a=t.x3693760142138385085x},function(t){o=t.x849814992193452328x}],execute:function(){n._RF.push({},"1b50fdnPsFFz7CgI0Okl492","x4037811246765908194x",void 0),t("x4037811246765908194x",function(t){function n(){var e;return(e=t.call(this)||this).mPoolId=0,e.mIsActive=!1,e.mNativeView=null,e.mPositionX=0,e.mPositionY=0,e.mAnchorX=.5,e.mAnchorY=.5,e.mScaleX=1,e.mScaleY=1,e.mRotation=0,e.mAlpha=1,e.mApplyAlphaRecursively=!1,e.mIsVisible=!0,e.mAutoStartAnimators=!0,e.mAnimators=null,e.mAnimatorsIndex=0,e}e(n,t),n.trySetIsVisible=function(t,e){t&&t.setIsVisible(e)};var r=n.prototype;return r.setParams=function(t,e,i){t&&(this.setPosition(t.getFloatValueWithDefault(n.x2386977833737498046x,this.mPositionX),t.getFloatValueWithDefault(n.x2389255876067172803x,this.mPositionY)),this.setAnchor(t.getFloatValueWithDefault(n.x710500521233929214x,this.mAnchorX),t.getFloatValueWithDefault(n.x2843459652886092787x,this.mAnchorY)),this.setScale(t.getFloatValueWithDefault(n.x1628171095085141937x,this.mScaleX),t.getFloatValueWithDefault(n.x1092469933219744557x,this.mScaleY)),this.setAlpha(t.getFloatValueWithDefault(n.x2074402851575747889x,this.mAlpha)),this.mAutoStartAnimators=t.getBoolValueWithDefault(n.x2699034252469187141x,!0),this.setupAnimatorsWithParams(t.getDictionary(n.x2516696967491444378x),i),this.x3167505010554309161x(t,e),this.updateNativePosition())},r.getPoolId=function(){return this.mPoolId},r.setPoolId=function(t){this.mPoolId=t},r.isActive=function(){return this.mIsActive},r.activate=function(){this.mIsActive||(this.mAutoStartAnimators&&this.startAnimators(),this.mIsActive=!0)},r.deactivate=function(){this.mIsActive&&(s.NativeView_removeFromParent(this.mNativeView),this.mIsActive=!1)},r.getNativeView=function(){return this.mNativeView},r.setNativeView=function(t){s.NativeView_removeFromParent(this.mNativeView),this.mNativeView=t},r.setNativeViewName=function(t){s.NativeView_setName(this.mNativeView,t)},r.getPositionX=function(){return this.mPositionX},r.getPositionY=function(){return this.mPositionY},r.setPositionX=function(t){this.setPosition(t,this.mPositionY)},r.setPositionY=function(t){this.setPosition(this.mPositionX,t)},r.setPosition=function(t,e){this.mPositionX==t&&this.mPositionY==e||(this.mPositionX=t,this.mPositionY=e,this.updateNativePosition())},r.setAnchor=function(t,e){this.mAnchorX==t&&this.mAnchorY==e||(this.mAnchorX=t,this.mAnchorY=e,this.updateNativePosition())},r.getScaleX=function(){return this.mScaleX},r.getScaleY=function(){return this.mScaleY},r.setScaleX=function(t){this.setScale(t,this.mScaleY)},r.setScaleY=function(t){this.setScale(this.mScaleX,t)},r.setScale=function(t,e){this.mScaleX==t&&this.mScaleY==e||(this.mScaleX=t,this.mScaleY=e,this.x381015683058225432x(t,e),this.updateNativePosition())},r.getRotation=function(){return this.mRotation},r.setRotation=function(t){s.NativeView_setRotation(this.mNativeView,t)},r.getAlpha=function(){return this.mAlpha},r.setAlpha=function(t){this.mAlpha!=t&&(this.mAlpha=t,this.x3245888370579836546x(t))},r.setApplyAlphaRecursively=function(t){this.mApplyAlphaRecursively=t},r.getIsVisible=function(){return this.mIsVisible},r.setIsVisible=function(t){this.mIsVisible!=t&&(this.mIsVisible=t,s.NativeView_setIsVisible(this.mNativeView,t))},r.createAnimator=function(t,e,i){var n=this.getAnimator(t);return n||(n=new o(this,e,i),this.mAnimators||(this.mAnimators=new a(!0)),this.mAnimators.setObjectValue(t,n)),n},r.getAnimator=function(t){return this.mAnimators?this.mAnimators.getObjectValue(t):null},r.startAnimator=function(t){var e=this.getAnimator(t);e&&e.start()},r.startAnimators=function(){if(this.mAnimators)for(var t=this.mAnimators.getNumValues(),e=0;e<t;e++)this.mAnimators.getObjectValueAtIndex(e).start()},r.getAnimatorsIndex=function(){return this.mAnimatorsIndex},r.setAnimatorsIndex=function(t){this.mAnimatorsIndex=t},r.processTime=function(t){this.isActive()&&this.processAnimators(t)},r.updateNativePosition=function(){var t=this.x3932003368878528254x(),e=this.x3461043678756308731x(),i=this.mPositionX-(this.mAnchorX-.5)*t,n=this.mPositionY-(this.mAnchorY-.5)*e;s.NativeView_setPosition(this.mNativeView,i,n)},r.setupAnimatorsWithParams=function(t,e){if(t)for(var i=t.getNumValues(),n=0;n<i;n++){var r=t.getValueKeyAtIndex(n);this.getAnimator(r)||this.createAnimator(r,t.getDictionaryAtIndex(n),e)}},r.processAnimators=function(t){if(this.mAnimators)for(var e=this.mAnimators.getNumValues(),i=0;i<e;i++)if(this.mAnimators.getObjectValueAtIndex(i).processTime(t),!this.isActive())return},r.recycleAnimators=function(){if(this.mAnimators)for(var t=this.mAnimators.getNumValues(),e=0;e<t;e++)this.mAnimators.getObjectValueAtIndex(e)._handleViewWillRecycle()},r.x3167505010554309161x=function(t,e){},r.x3932003368878528254x=function(){return 0},r.x3461043678756308731x=function(){return 0},r.x381015683058225432x=function(t,e){s.NativeView_setScale(this.mNativeView,t,e)},r.x3245888370579836546x=function(t){s.NativeView_setAlpha(this.mNativeView,t,this.mApplyAlphaRecursively)},r.x2241532792834576709x=function(){return this.setPosition(0,0),this.setAnchor(.5,.5),this.setScale(1,1),this.setRotation(0),this.setAlpha(1),this.setIsVisible(!0),this.recycleAnimators(),this.mAnimatorsIndex=0,this.deactivate(),t.prototype.x2241532792834576709x.call(this),!0},r.x1721113016797186854x=function(){this.deactivate(),null!==this.mAnimators&&(this.mAnimators.destroy(),this.mAnimators=null),s.NativeView_destroy(this.mNativeView,!0),this.mNativeView=null,t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x4296290225666364325x",get:function(){return 1589639874}},{key:"x1170515238876133688x",get:function(){return 488921072}},{key:"x2386977833737498046x",get:function(){return 1465297534}},{key:"x2389255876067172803x",get:function(){return 1465297535}},{key:"x710500521233929214x",get:function(){return 1694593554}},{key:"x2843459652886092787x",get:function(){return 1694593555}},{key:"x1628171095085141937x",get:function(){return 1555815199}},{key:"x1092469933219744557x",get:function(){return 1555815200}},{key:"x2074402851575747889x",get:function(){return 431723437}},{key:"x2699034252469187141x",get:function(){return 2041872106}},{key:"x2516696967491444378x",get:function(){return 1175123675}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x849814992193452328x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x3002336713477616085x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x},function(t){s=t.x3196398007076860870x},function(t){a=t.x702435451033209193x},function(t){o=t.x3002336713477616085x}],execute:function(){n._RF.push({},"2d648y/GzxIpamwwWpRctVy","x849814992193452328x",void 0),t("x849814992193452328x",function(t){function n(e,i,r){var o;return(o=t.call(this)||this).mView=e,o.mMessageHandler=r,o.mCompletionMessageId=0,o.mDidInitChannels=!1,o.mIsActive=!1,o.mStartDelaySEC=0,o.mIndexDelaySEC=0,o.mElapsedTimeSEC=0,o.mChannels=new s(n.x92781097229379694x),o.mInitialGlobalDurationScale=1,o.mGlobalDurationScale=o.mInitialGlobalDurationScale,o.mCompletionType=n.x754942158725905657x,o.mCompletionDelaySEC=0,i&&(o.mCompletionMessageId=i.getStringValueAsHash32(n.x1457061483619978028x),o.mStartDelaySEC=i.getFloatValueWithDefault(n.x39153854634038560x,o.mStartDelaySEC),o.mIndexDelaySEC=i.getFloatValueWithDefault(n.x3180920326133477900x,o.mIndexDelaySEC),o.mInitialGlobalDurationScale=i.getFloatValueWithDefault(n.x2040554312026998633x,o.mInitialGlobalDurationScale),o.mGlobalDurationScale=o.mInitialGlobalDurationScale,i.hasValue(n.x1437508010736017380x)&&(o.mCompletionType=a.stringToHash32(i.getStringValue(n.x1437508010736017380x))),o.mCompletionDelaySEC=i.getFloatValueWithDefault(n.x1648935592273666117x,o.mCompletionDelaySEC),o.setupChannelsWithParams(i.getDictionary(n.x4258483944409382117x))),o}e(n,t),n.channelIndexToChannelId=function(t){switch(t){case n.x2145242306729867258x:return n.x1424327341851788956x;case n.x1940792978798765049x:return n.x2604396162997676467x;case n.x2378828933219823342x:return n.x2521188039824651532x;case n.x1002866258230227200x:return n.x214211486777356372x;case n.x4171807081324528860x:return n.x996596936077221324x;case n.x4037627795888949070x:return n.x473251732749472475x;case n.x1518013605785175575x:return n.x1290637302309821839x;default:return-1}},n.channelIdToChannelIndex=function(t){switch(t){case n.x1424327341851788956x:return n.x2145242306729867258x;case n.x2604396162997676467x:return n.x1940792978798765049x;case n.x2521188039824651532x:return n.x2378828933219823342x;case n.x214211486777356372x:return n.x1002866258230227200x;case n.x996596936077221324x:return n.x4171807081324528860x;case n.x473251732749472475x:return n.x4037627795888949070x;case n.x1290637302309821839x:return n.x1518013605785175575x;default:return-1}};var r=n.prototype;return r.enableChannel=function(t){var e=this.getChannel(t);return e||(e=new o(t),this.mChannels.setAtIndex(n.channelIdToChannelIndex(t),e)),e},r.enableChannelWithValues=function(t,e,i,n,r,s){var a=this.enableChannel(t);return a.mValue=e,a.mIsValueRelative=i,a.mDurationSEC=n,a.mInterpolationType=r,a.mInterpolationStrength=s,a},r.getChannel=function(t){return this.getChannelAtIndex(n.channelIdToChannelIndex(t))},r.setStartDelaySEC=function(t){this.mStartDelaySEC=t},r.getInitialGlobalDurationScale=function(){return this.mInitialGlobalDurationScale},r.setGlobalDurationScale=function(t){this.mGlobalDurationScale=t},r.setCompletionType=function(t){this.mCompletionType=t},r.setCompletionDelaySEC=function(t){this.mCompletionDelaySEC=t},r.isActive=function(){return this.mIsActive},r.start=function(){this.mDidInitChannels||(this.initChannels(),this.mDidInitChannels=!0),this.mIsActive=!0;var t=this.mIndexDelaySEC*this.mView.getAnimatorsIndex();this.mElapsedTimeSEC=-(this.mStartDelaySEC+t);for(var e=0;e<n.x92781097229379694x;e++)this.startChannelAtIndex(e);this.processTime(0)},r.processTime=function(t){if(this.mIsActive&&(this.mElapsedTimeSEC+=.001*t,!(this.mElapsedTimeSEC<=0))){for(var e=!1,i=0;i<n.x92781097229379694x;i++)e=this.updateChannelAtIndex(i)||e;if(this.mIsActive=e,!this.mIsActive)switch(0!=this.mCompletionMessageId&&this.mMessageHandler&&this.mMessageHandler.x601562840631873202x(this.mCompletionMessageId,this.mMessageHandler,null),this.mCompletionType){case n.x534423521366579141x:break;case n.x754942158725905657x:this.mView.deactivate()}}},r._handleViewWillRecycle=function(){this.mDidInitChannels=!1},r.setupChannelsWithParams=function(t){if(t)for(var e=t.getNumValues(),i=0;i<e;i++){var n=this.enableChannel(t.getValueKeyAtIndex(i));if(n){var r=t.getDictionaryAtIndex(i);n.setParams(r)}}},r.getChannelAtIndex=function(t){return this.mChannels.getAtIndex(t)},r.initChannels=function(){for(var t=0;t<n.x92781097229379694x;t++)this.initChannelAtIndex(t)},r.initChannelAtIndex=function(t){var e=this.getChannelAtIndex(t);if(e)switch(e.getChannelId()){case n.x1424327341851788956x:e.mStartValue=this.mView.getPositionX();break;case n.x2604396162997676467x:e.mStartValue=this.mView.getPositionY();break;case n.x2521188039824651532x:e.mStartValue=this.mView.getAlpha();break;case n.x214211486777356372x:case n.x996596936077221324x:e.mStartValue=this.mView.getScaleX();break;case n.x473251732749472475x:e.mStartValue=this.mView.getScaleY();break;case n.x1290637302309821839x:e.mStartValue=this.mView.getRotation()}},r.startChannelAtIndex=function(t){var e=this.getChannelAtIndex(t);e&&(e.mTargetValue=e.mIsValueRelative?e.mStartValue+e.mValue:e.mValue)},r.updateChannelAtIndex=function(t){var e=this.getChannelAtIndex(t);if(!e)return!1;var i=!0,r=e.mDurationSEC*this.mGlobalDurationScale,s=0;switch(e.mLoopType){case o.x140310776493797945x:i=(s=this.mElapsedTimeSEC/r)<1,s=a.clamp01(s);break;case o.x1407597197887478019x:s=a.modf(this.mElapsedTimeSEC,r)/r;break;case o.x3829805828074175423x:s=a.modf(this.mElapsedTimeSEC,r)/r,~~(this.mElapsedTimeSEC/r)%2==1&&(s=1-s)}var x=a.interpolate01(s,e.mInterpolationType,e.mInterpolationStrength),u=a.lerp(e.mStartValue,e.mTargetValue,x);switch(e.getChannelId()){case n.x1424327341851788956x:this.mView.setPositionX(u);break;case n.x2604396162997676467x:this.mView.setPositionY(u);break;case n.x2521188039824651532x:this.mView.setAlpha(u);break;case n.x214211486777356372x:this.mView.setScale(u,u);break;case n.x996596936077221324x:this.mView.setScaleX(u);break;case n.x473251732749472475x:this.mView.setScaleY(u);break;case n.x1290637302309821839x:this.mView.setRotation(u)}return i},r.x1721113016797186854x=function(){this.mView=null,this.mMessageHandler=null,this.mChannels.destroyAll(),null!==this.mChannels&&(this.mChannels.destroy(),this.mChannels=null),t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x39153854634038560x",get:function(){return 1103845279}},{key:"x3180920326133477900x",get:function(){return 1956530287}},{key:"x2040554312026998633x",get:function(){return 314584834}},{key:"x1437508010736017380x",get:function(){return 2094029511}},{key:"x1648935592273666117x",get:function(){return 1693988635}},{key:"x1457061483619978028x",get:function(){return 537578778}},{key:"x4258483944409382117x",get:function(){return 1155973505}},{key:"x1424327341851788956x",get:function(){return 1465297534}},{key:"x2604396162997676467x",get:function(){return 1465297535}},{key:"x2521188039824651532x",get:function(){return 431723437}},{key:"x214211486777356372x",get:function(){return 760868090}},{key:"x996596936077221324x",get:function(){return 1555815199}},{key:"x473251732749472475x",get:function(){return 1555815200}},{key:"x1290637302309821839x",get:function(){return 2039167247}},{key:"x534423521366579141x",get:function(){return 167747945}},{key:"x754942158725905657x",get:function(){return 1804286698}},{key:"x2145242306729867258x",get:function(){return 0}},{key:"x1940792978798765049x",get:function(){return 1}},{key:"x2378828933219823342x",get:function(){return 2}},{key:"x1002866258230227200x",get:function(){return 3}},{key:"x4171807081324528860x",get:function(){return 4}},{key:"x4037627795888949070x",get:function(){return 5}},{key:"x1518013605785175575x",get:function(){return 6}},{key:"x92781097229379694x",get:function(){return 7}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3002336713477616085x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x},function(t){s=t.x702435451033209193x}],execute:function(){n._RF.push({},"df477ANledET6moJOPcjGgH","x3002336713477616085x",void 0),t("x3002336713477616085x",function(t){function n(e){var i;return(i=t.call(this)||this).mChannelId=e,i.mInterpolationType=s.x2637490221287129689x,i.mInterpolationStrength=1,i.mValue=0,i.mIsValueRelative=!0,i.mStartValue=0,i.mTargetValue=0,i.mDurationSEC=0,i.mLoopType=n.x140310776493797945x,i}e(n,t);var r=n.prototype;return r.setParams=function(t){t&&(t.hasValue(n.x1721880571675136729x)&&(this.mInterpolationType=s.stringToHash32(t.getStringValue(n.x1721880571675136729x))),this.mInterpolationStrength=t.getFloatValueWithDefault(n.x1139701953178861568x,this.mInterpolationStrength),this.mValue=t.getFloatValueWithDefault(n.x2732492505657659718x,this.mValue),this.mIsValueRelative=t.getBoolValueWithDefault(n.x2564167638803987622x,this.mIsValueRelative),this.mDurationSEC=t.getFloatValueWithDefault(n.x3099564658973353535x,this.mDurationSEC),t.hasValue(n.x1130423535345545800x)&&(this.mLoopType=s.stringToHash32(t.getStringValue(n.x1130423535345545800x))))},r.getChannelId=function(){return this.mChannelId},r.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x2732492505657659718x",get:function(){return 711535552}},{key:"x2564167638803987622x",get:function(){return 690882626}},{key:"x3099564658973353535x",get:function(){return 1806937772}},{key:"x1721880571675136729x",get:function(){return 1298706893}},{key:"x1139701953178861568x",get:function(){return 1122646260}},{key:"x1130423535345545800x",get:function(){return 1780783567}},{key:"x140310776493797945x",get:function(){return 167747945}},{key:"x1407597197887478019x",get:function(){return 1474260756}},{key:"x3829805828074175423x",get:function(){return 1674682638}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x2568125435593650424x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4604961113285727737x.ts","./x702435451033209193x.ts","./x96971828822103706x.ts","./x392472850944302700x.ts","./x4037811246765908194x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x4604961113285727737x},function(t){r=t.x702435451033209193x},function(t){s=t.x96971828822103706x},function(t){a=t.x392472850944302700x},function(t){o=t.x4037811246765908194x}],execute:function(){i._RF.push({},"fac29zoXwVAy4Z3U1Lgq7Dj","x2568125435593650424x",void 0),t("x2568125435593650424x",function(t){function i(e){var i;return(i=t.call(this)||this).mResourceMgr=e,i}e(i,t);var n=i.prototype;return n.createView=function(t,e){if(!t||!t.getBoolValueWithDefault(o.x1170515238876133688x,!0))return null;var i=null;switch(r.stringToHash32(t.getStringValue(o.x4296290225666364325x))){case a.x449072410778966486x:i=a.createWithParams(t,this.mResourceMgr,e);break;case s.x3672660699248449352x:i=s.createWithParams(t,this.mResourceMgr,e);break;default:i=this.x874832697513521792x(t)}return i},n.getResourceMgr=function(){return this.mResourceMgr},n.x874832697513521792x=function(t){return null},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x2047532040983720855x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts","./x1442954324271535409x.ts","./x3693760142138385085x.ts","./x3196398007076860870x.ts","./x4364418920359943847x.ts","./x3092810123442483381x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1930801154962670888x},function(t){s=t.x1442954324271535409x},function(t){a=t.x3693760142138385085x},function(t){o=t.x3196398007076860870x},function(t){x=t.x4364418920359943847x},function(t){u=t.x3092810123442483381x}],execute:function(){n._RF.push({},"eaf38LJJkRNxJPPGmkHzh2H","x2047532040983720855x",void 0),t("x2047532040983720855x",function(t){function n(e,i,r){var s;(s=t.call(this)||this).mViewFactory=i,s.mViewPools=new a(!0),s.mAnimatorsMessageHandler=r,s.mViewSchedulerPool=new u;var x=e.getIntValue(n.x4460021288536397367x);return s.mViewSchedulerPool.setAutoRefillCount(x),s.mViewSchedulerPool.createObjects(x),s.mViewSchedulers=new o(0),s.mViewSchedulers.reserveCapacity(100),s.mActiveViews=new o(0),s.mActiveViews.reserveCapacity(1e3),e&&s.createViewPools(e.getDictionary(n.x3051640250148443553x)),s}e(n,t);var r=n.prototype;return r.createView=function(t,e,i){var n=this.mViewFactory.createView(t,this.mAnimatorsMessageHandler);return n&&(e&&s.NativeView_addChild(e,n.getNativeView()),i&&this.activateAndManageView(n,e)),n},r.createSpriteView=function(t,e,i){return this.createView(t,e,i)},r.createBitmapTextView=function(t,e,i){return this.createView(t,e,i)},r.hasPool=function(t){return this.getViewPool(t)},r.getPoolParams=function(t){var e=this.getViewPool(t);return e?e.getParams():null},r.getViewFromPool=function(t){var e=this.getViewPool(t);return e?e.getAvailableView():null},r.getSpriteViewFromPool=function(t){return this.getViewFromPool(t)},r.getBitmapTextViewFromPool=function(t){return this.getViewFromPool(t)},r.activateAndManageViewFromPool=function(t,e){var i=this.getViewFromPool(t);return i&&this.activateAndManageView(i,e),i},r.activateAndManageViewFromPoolWithPosition=function(t,e,i,n){var r=this.getViewFromPool(t);return r&&(e&&s.NativeView_addChild(e,r.getNativeView()),r.setPosition(i,n),this.activateAndManageView(r,e)),r},r.activateAndManageView=function(t,e){s.NativeView_addChild(e,t.getNativeView()),t.activate(),this.mActiveViews.pushBack(t)},r.activateAndManageViewsFromPool=function(t,e,i,n){if(1!=i)for(var r=0;r<i;r++){var s=this.mViewSchedulerPool.getAvailableViewScheduler();s.setParams(this,t,e,r*n),this.mViewSchedulers.pushBack(s)}else this.activateAndManageViewFromPool(t,e)},r.autoActivateAndManageViewsFromPool=function(t,e){var i=this.getViewPool(t);if(i){var n=i.getAutoActivateNumViews(),r=i.getAutoActivatePerViewDelayMSEC();this.activateAndManageViewsFromPool(t,e,n,r)}},r.processTime=function(t){var e=0,i=null,n=this.mActiveViews.getNumObjects();for(e=0;e<n;e++)(i=this.mActiveViews.getAtIndex(e)).processTime(t),i.isActive()||(this.removeActiveViewAtIndex(e),e--,n=this.mActiveViews.getNumObjects());var r=null,s=this.mViewSchedulers.getNumObjects();for(e=0;e<s;e++)(r=this.mViewSchedulers.getAtIndex(e)).processTime(t),r.isActive()||(this.mViewSchedulers.removeAtIndex(e),this.mViewSchedulerPool.recycleObject(r),e--,s=this.mViewSchedulers.getNumObjects())},r.createViewPools=function(t){if(t)for(var e=t.getNumValues(),i=0;i<e;i++){var n=t.getDictionaryAtIndex(i);this.createViewPool(t.getValueKeyAtIndex(i),n)}},r.createViewPool=function(t,e){if(e.getBoolValueWithDefault(x.x1170515238876133688x,!0)){var i=this.getViewPool(t);i||(i=new x(t,e,this.mViewFactory,this.mAnimatorsMessageHandler),this.mViewPools.setObjectValue(t,i))}},r.getViewPool=function(t){return this.mViewPools.getObjectValue(t)},r.removeActiveViewAtIndex=function(t){var e=this.mActiveViews.getAtIndex(t);this.mActiveViews.removeAtIndex(t),e.deactivate();var i=e.getPoolId();if(0!=i){var n=this.getViewPool(i);if(n)return void n.recycleObject(e)}null!==e&&(e.destroy(),e=null)},r.removeAllActiveViews=function(){for(;this.mActiveViews.getNumObjects()>0;)this.removeActiveViewAtIndex(this.mActiveViews.getNumObjects()-1)},r.x1721113016797186854x=function(){this.removeAllActiveViews(),null!==this.mActiveViews&&(this.mActiveViews.destroy(),this.mActiveViews=null),null!==this.mViewPools&&(this.mViewPools.destroy(),this.mViewPools=null),this.mAnimatorsMessageHandler=null,null!==this.mViewSchedulerPool&&(this.mViewSchedulerPool.destroy(),this.mViewSchedulerPool=null),null!==this.mViewSchedulers&&(this.mViewSchedulers.destroy(),this.mViewSchedulers=null),t.prototype.x1721113016797186854x.call(this)},i(n,null,[{key:"x4460021288536397367x",get:function(){return 835962050}},{key:"x3051640250148443553x",get:function(){return 25477729}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x4364418920359943847x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4604961113285727737x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x4604961113285727737x}],execute:function(){n._RF.push({},"300e2H57jRLkYAY5RLFCm+Z","x4364418920359943847x",void 0),t("x4364418920359943847x",function(t){function n(e,i,r,s){var a;(a=t.call(this)||this).mPoolId=e,a.mParams=i.x3395266717842453812x();var o=a.mParams.getDictionary(n.x3733189365855059128x);return o?(a.mAutoActivateNumViews=o.getIntValueWithDefault(n.x4001318906538311610x,1),a.mAutoActivatePerViewDelayMSEC=o.getIntValueWithDefault(n.x2357877909563323011x,0)):(a.mAutoActivateNumViews=1,a.mAutoActivatePerViewDelayMSEC=0),a.mViewParams=a.mParams.getDictionary(n.x3076282079178442133x),a.mViewFactory=r,a.mAnimatorsMessageHandler=s,a.setAutoRefillCount(i.getIntValue(n.x89410352128263960x)),a.createObjects(i.getIntValue(n.x2797849605444352507x)),a}e(n,t);var r=n.prototype;return r.getPoolId=function(){return this.mPoolId},r.getParams=function(){return this.mParams},r.getAvailableView=function(){var t=this.getAvailableObject();return t.setPoolId(this.mPoolId),t.setParams(this.mViewParams,this.mViewFactory.getResourceMgr(),this.mAnimatorsMessageHandler),t},r.getAutoActivateNumViews=function(){return this.mAutoActivateNumViews},r.getAutoActivatePerViewDelayMSEC=function(){return this.mAutoActivatePerViewDelayMSEC},r.x1721113016797186854x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),this.mAnimatorsMessageHandler=null,t.prototype.x1721113016797186854x.call(this)},r.x4237220466191330912x=function(){var t=this.mViewFactory.createView(this.mViewParams,this.mAnimatorsMessageHandler);return t&&t.setPoolId(this.mPoolId),t},r.x3500939651941023781x=function(t){},i(n,null,[{key:"x1170515238876133688x",get:function(){return 488921072}},{key:"x2797849605444352507x",get:function(){return 1649809756}},{key:"x89410352128263960x",get:function(){return 853414457}},{key:"x3733189365855059128x",get:function(){return 234485561}},{key:"x4001318906538311610x",get:function(){return 1781274393}},{key:"x2357877909563323011x",get:function(){return 1655239478}},{key:"x3076282079178442133x",get:function(){return 1900243580}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3964654862829340857x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1930801154962670888x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1930801154962670888x}],execute:function(){i._RF.push({},"d4b310A7BFF4biLznYIOEmc","x3964654862829340857x",void 0),t("x3964654862829340857x",function(t){function i(){var e;return(e=t.call(this)||this).mViewMgr=null,e.mPoolId=0,e.mParent=null,e.mDelayMSEC=0,e}e(i,t);var n=i.prototype;return n.setParams=function(t,e,i,n){this.mViewMgr=t,this.mPoolId=e,this.mParent=i,this.mDelayMSEC=n,this.tryActivateView()},n.processTime=function(t){this.mDelayMSEC-=t,this.tryActivateView()},n.isActive=function(){return this.mDelayMSEC>0&&this.mViewMgr},n.tryActivateView=function(){this.mDelayMSEC<=0&&this.mViewMgr&&(this.mViewMgr.activateAndManageViewFromPool(this.mPoolId,this.mParent),this.mViewMgr=null,this.mPoolId=0,this.mParent=null,this.mDelayMSEC=0)},n.x2241532792834576709x=function(){return this.mViewMgr=null,this.mPoolId=0,this.mParent=null,this.mDelayMSEC=0,t.prototype.x2241532792834576709x.call(this),!0},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3092810123442483381x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4604961113285727737x.ts","./x3964654862829340857x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x4604961113285727737x},function(t){r=t.x3964654862829340857x}],execute:function(){i._RF.push({},"8ee747K+x9JMIN6BgMHRn1c","x3092810123442483381x",void 0),t("x3092810123442483381x",function(t){function i(){return t.call(this)||this}e(i,t);var n=i.prototype;return n.getAvailableViewScheduler=function(){return this.getAvailableObject()},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},n.x4237220466191330912x=function(){return new r},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x2513491171780780505x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4016911264059163956x.ts","./x1232577566642415821x.ts","./x702435451033209193x.ts","./x2109210492123306036x.ts","./x3347213658198411994x.ts","./x513284873445498594x.ts","./x876730206097101483x.ts","./x3336700271828892635x.ts","./x1870017049469742020x.ts","./x1076475369105234232x.ts","./x2559493638996200999x.ts","./x2942546774025373449x.ts","./x2587429396298286948x.ts","./x3312962755128397901x.ts","./x2853229855084766129x.ts","./x3167295016086187989x.ts","./x3199552859489220262x.ts","./x3511163715838271818x.ts","./x1547471133553058676x.ts","./x3626506752150642560x.ts","./x56028271071371983x.ts","./x1050156846452418517x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g,f,d,p,S,y,P,I,v,M,V,T,C;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x4016911264059163956x},function(t){a=t.x1232577566642415821x},function(t){o=t.x702435451033209193x},function(t){x=t.x2109210492123306036x},function(t){u=t.x3347213658198411994x},function(t){c=t.x513284873445498594x},function(t){l=t.x876730206097101483x},function(t){h=t.x3336700271828892635x},function(t){m=t.x1870017049469742020x},function(t){g=t.x1076475369105234232x},function(t){f=t.x2559493638996200999x},function(t){d=t.x2942546774025373449x},function(t){p=t.x2587429396298286948x},function(t){S=t.x3312962755128397901x},function(t){y=t.x2853229855084766129x},function(t){P=t.x3167295016086187989x},function(t){I=t.x3199552859489220262x},function(t){v=t.x3511163715838271818x},function(t){M=t.x1547471133553058676x},function(t){V=t.x3626506752150642560x},function(t){T=t.x56028271071371983x},function(t){C=t.x1050156846452418517x}],execute:function(){r._RF.push({},"7312247vaFG+qjTh9zmPHF8","x2513491171780780505x",void 0),t("x2513491171780780505x",function(t){function r(e,i,s,a){var x;return(x=t.call(this,o.stringToUpperCase(""==e?r.x591149543300095600x:e),i,s,a)||this).mHighScoresMgr=null,x.mVSCPURecordsMgr=null,x.mOnboardingMgr=null,x.mIsAIAutoModeOn=!1,x.x721162100566349105x=h.tryCreate(i,n(x)),x}e(r,t),r.isTetrionBuildNumberValid=function(t){var e=o.stringToInt(o.substringToIndex(r.x596606037857765030x,o.lastIndexInString(r.x596606037857765030x,"."))),i=o.stringToInt(o.substringFromIndex(r.x596606037857765030x,o.lastIndexInString(r.x596606037857765030x,".")+1)),n=o.stringToInt(o.substringToIndex(t,o.lastIndexInString(t,"."))),s=o.stringToInt(o.substringFromIndex(t,o.lastIndexInString(t,".")+1));return!(n<e)&&(n>e||s>=i)};var s=r.prototype;return s.getSavedDataId=function(){return this.x641359964914300607x().getStringValueWithKeyStringPath("savedDataId")},s.getHighScoresMgr=function(){return this.mHighScoresMgr},s.getVSCPURecordsMgr=function(){return this.mVSCPURecordsMgr},s.getOnboardingMgr=function(){return this.mOnboardingMgr},s.getGUAEventCategory=function(){return this.x641359964914300607x().getStringValueWithKeyStringPath("analytics.GoogleUniversalAnalytics.eventCategory")},s.resetAllSavedData=function(){this.dispatchMessage(r.x4104787155684813481x,this,null)},s.getIsAIAutoModeOn=function(){return this.mIsAIAutoModeOn},s.setIsAIAutoModeOn=function(t){this.mIsAIAutoModeOn!=t&&(this.mIsAIAutoModeOn=t,this.getSceneMgr().getManagedScene("gameOver").getSceneParams().setIntValueWithKeyStringPath("autoPlayDelayMSEC",this.mIsAIAutoModeOn?5e3:-1),this.x1666856027417448917x().setStringValueWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.initialActiveInputType",this.mIsAIAutoModeOn?"AI":"direct"),this.x1666856027417448917x().setBoolValueWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.enableAutomaticInputTypeSwitching",!this.mIsAIAutoModeOn),this.x1666856027417448917x().setBoolValueWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.AIInput.enabled",!!this.mIsAIAutoModeOn))},s.createManagedScene=function(t,e){var i=e.getDictionaryWithKeyString(t);return i&&i.getBoolValueWithDefault(o.stringToValueKey("enabled"),!0)?"captureControlId"==t?new g(this,i):"confirm"==t?new f(this,i):"game"==t?new d(this,i):"gameBreak"==t?new p(this,i):"gameOver"==t?new S(this,i):"gamePaused"==t?new y(this,i):"help"==t?new P(this,i):"interstitialAd"==t?new I(this,i):"mainMenu"==t?new M(this,i):"moreGames"==t?new V(this,i):"newHighScore"==t?new T(this,i):"options"==t?new C(this,i):null:null},s.x1721113016797186854x=function(){null!==this.mHighScoresMgr&&(this.mHighScoresMgr.destroy(),this.mHighScoresMgr=null),null!==this.mVSCPURecordsMgr&&(this.mVSCPURecordsMgr.destroy(),this.mVSCPURecordsMgr=null),null!==this.mOnboardingMgr&&(this.mOnboardingMgr.destroy(),this.mOnboardingMgr=null),null!==this.x721162100566349105x&&(this.x721162100566349105x.destroy(),this.x721162100566349105x=null),t.prototype.x1721113016797186854x.call(this)},s.x304280663053988881x=function(t){return new u(t)},s.x4314010855317147555x=function(t){t.addResources(this.x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.gameView"),"game1"),t.addResources(this.x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.gameAudio.effects"),"game2"),t.addResources(this.x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.gameAudio.metaEffects"),"game2"),t.addResources(this.x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.gameAudio.music"),"game3")},s.x1795875024407620756x=function(){var t=this.x641359964914300607x().getDictionaryWithKeyString("scenes");return new v(this,t.getDictionaryWithKeyString("loading"))},s.x3803896839908130438x=function(t){this.mHighScoresMgr=new c(this.x641359964914300607x().getDictionaryWithKeyStringPath("highScoreMgr"),this),this.x641359964914300607x().getDictionaryWithKeyStringPath("VSCPURecordsMgr")&&(this.mVSCPURecordsMgr=new m(this.x641359964914300607x().getDictionaryWithKeyStringPath("VSCPURecordsMgr"),this)),this.mOnboardingMgr=new l(this,this.x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.levels.params"));var e=this.x641359964914300607x().getDictionaryWithKeyString("scenes");t.addManagedScene(this.createManagedScene("captureControlId",e)),t.addManagedScene(this.createManagedScene("confirm",e)),t.addManagedScene(this.createManagedScene("game",e)),t.addManagedScene(this.createManagedScene("gameBreak",e)),t.addManagedScene(this.createManagedScene("gameOver",e)),t.addManagedScene(this.createManagedScene("gamePaused",e)),t.addManagedScene(this.createManagedScene("help",e)),t.addManagedScene(this.createManagedScene("interstitialAd",e)),t.addManagedScene(this.createManagedScene("mainMenu",e)),t.addManagedScene(this.createManagedScene("moreGames",e)),t.addManagedScene(this.createManagedScene("newHighScore",e)),t.addManagedScene(this.createManagedScene("options",e))},s.x3808996028817924977x=function(t){t===a.x3224532446429496123x&&(this.x1666856027417448917x().getBoolValueWithKeyStringPath("debug.enableAIPlay")||x.isPlatformOSXEditor())&&this.setIsAIAutoModeOn(!this.mIsAIAutoModeOn)},i(r,null,[{key:"x4104787155684813481x",get:function(){return 1567159012}},{key:"x591149543300095600x",get:function(){return"289.01"}},{key:"x596606037857765030x",get:function(){return"288.01"}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x1819288371416691716x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4410614962435777365x.ts","./x702435451033209193x.ts","./x3693760142138385085x.ts","./x1232577566642415821x.ts","./x3375026250715268596x.ts","./x2109210492123306036x.ts","./x2513491171780780505x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,o=t.Component},function(t){x=t.x4410614962435777365x},function(t){u=t.x702435451033209193x},function(t){c=t.x3693760142138385085x},function(t){l=t.x1232577566642415821x},function(t){h=t.x3375026250715268596x},function(t){m=t.x2109210492123306036x},function(t){g=t.x2513491171780780505x}],execute:function(){var f,d,p,S,y,P,I,v;s._RF.push({},"c13be5XiHpIlJR6S+jfffIF","x1819288371416691716x",void 0);var M=a.ccclass,V=a.property;t("x1819288371416691716x",M("x1819288371416691716x")((p=e((d=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"requireIFrame",p,r(e)),n(e,"gameContentBasePath",S,r(e)),n(e,"gameDataFilePath",y,r(e)),n(e,"gameDataOverrideFilePath",P,r(e)),n(e,"enableGameBGDiv",I,r(e)),n(e,"buildNumberOverride",v,r(e)),e}i(e,t);var s=e.prototype;return s.onLoad=function(){cc._global.CC_DEBUG||(cc.log=function(){}),cc.log("x1819288371416691716x::onLoad"),x.doStaticInit(),m.doStaticInit();var t=this.gameContentBasePath;try{this.gameContentBasePath=u.x1615343114719087054x(window.gameContentBasePath,0)}catch(e){this.gameContentBasePath=t}this.mGameResourcesRootPath=u.x1615343114719087054x("remote://./../"+u.x1012796168335938419x(this.gameContentBasePath)+u.x1012796168335938419x("PBEFWJMSJJBNEJAHOMCLQODGAKHSBOJLIHXL"),0),this.mBPSApp=null,cc.log("x1819288371416691716x::onLoad: platform: "+m.getPlatformName()),cc.log("x1819288371416691716x::onLoad: OS: "+m.getSystemOS()),cc.log("x1819288371416691716x::onLoad: origin: "+m.getApplicationOrigin()),cc.log("x1819288371416691716x::onLoad: window.location.href: "+window.location.href),cc.log("x1819288371416691716x::onLoad: browserType: "+cc.sys.browserType),cc.log("x1819288371416691716x::onLoad: browserVersion: "+cc.sys.browserVersion),cc.log("x1819288371416691716x::onLoad: mGameResourcesRootPath: "+u.x1012796168335938419x(this.mGameResourcesRootPath)),this.transformComponent=this.node.getComponent("cc.UITransform");try{var e=window.location.href,i=new URL(e),n=i.searchParams.get("x825609486");n&&0!==n.length&&(cc.log("x1819288371416691716x::onLoad: gameDataFilePathOverride: "+n),this.gameDataFilePath=n),cc.log("x1819288371416691716x::onLoad: gameDataFilePath: "+this.gameDataFilePath);var r=i.searchParams.get("x966081210");r&&0!==r.length&&(cc.log("x1819288371416691716x::onLoad: gameDataOverrideFilePathOverride: "+r),this.gameDataOverrideFilePath=r),cc.log("x1819288371416691716x::onLoad: gameDataOverrideFilePath: "+this.gameDataOverrideFilePath)}catch(t){}this.mResourceMgr=new h(u.x1012796168335938419x(this.mGameResourcesRootPath)),this.mResourceMgr.addTextResource("x825609486","",u.x1012796168335938419x(this.gameDataFilePath)),this.gameDataOverrideFilePath&&0!==this.gameDataOverrideFilePath.length&&this.mResourceMgr.addTextResource("x966081210","",u.x1012796168335938419x(this.gameDataOverrideFilePath)),this.mResourceMgr.startLoading()},s.start=function(){cc.log("x1819288371416691716x::start")},s.update=function(t){if(this.mBPSApp)this.mBPSApp.processTimeSEC(t);else{if(!this.mResourceMgr.isDoneLoading(""))return cc.log("x1819288371416691716x::update: waiting for mResourceMgr..."),void this.mResourceMgr.processLoading();this.x2210615645212955432x()}},s.x2210615645212955432x=function(){cc.log("x1819288371416691716x::x2210615645212955432x"),cc.log("x1819288371416691716x::x2210615645212955432x: base origin: "+m.getApplicationBaseOrigin());var t=this;if(!this.requireIFrame||window.frameElement&&"IFRAME"==window.frameElement.nodeName){var e=this.mResourceMgr.getText("x825609486","{"),i=new c(!0);if(i.parseJSONString(e,!0,!1),this.gameDataOverrideFilePath&&0!==this.gameDataOverrideFilePath.length){var n=this.mResourceMgr.getText("x966081210","{"),r=new c(!0);r.parseJSONString(n,!0,!1),r.synchronizeWithSource(i,!1,!1,!1),i=r}var s={};if(s.nativeAppRootView=this.node,s.enableGameBGDiv=this.enableGameBGDiv,this.mBPSApp=new g(this.buildNumberOverride,i,s,u.x1012796168335938419x(this.mGameResourcesRootPath)),window){window.mBPSApp=this.mBPSApp;try{window.getGameCanvas().addEventListener("blur",this.onGameCanvasDeactivated),this.mDidAddKeyEventHandlersOnFocus=!1,window.getGameCanvas().addEventListener("focus",(function(e){t.mDidAddKeyEventHandlersOnFocus||(t.addKeyEventListeners(),t.mDidAddKeyEventHandlersOnFocus=!0),window.mBPSApp&&window.mBPSApp.onAppActivated()}))}catch(t){}}this.mBPSApp.run(),i.destroy(),i=null,this.didAddKeyEventListeners=!1,this.addKeyEventListeners(),cc.sys.hasFeature(cc.sys.Feature.EVENT_MOUSE)&&(this.node.on(cc.Node.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(cc.Node.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(cc.Node.EventType.MOUSE_MOVE,this.onMouseMove,this)),cc.sys.hasFeature(cc.sys.Feature.INPUT_TOUCH)&&(this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)),this.addEventsToCancelPointerInput(document),this.addEventsToCancelPointerInput(document.documentElement),this.addEventsToCancelPointerInput(window)}else window.location.href="/"},s.addKeyEventListeners=function(){if(!this.didAddKeyEventListeners){this.didAddKeyEventListeners=!0;var t=this;cc.game.canvas.addEventListener("keydown",(function(e){t.mBPSApp.handleDeviceControlOn(l.x4234934191319707258x,l.x1949208661576763641x(e.keyCode),0,0)}),!1),cc.game.canvas.addEventListener("keyup",(function(e){t.mBPSApp.handleDeviceControlOff(l.x4234934191319707258x,l.x1949208661576763641x(e.keyCode),0,0)}),!1)}},s.addEventsToCancelPointerInput=function(t){cc.sys.hasFeature(cc.sys.Feature.INPUT_TOUCH)||this.addEventToCancelPointerInput(t,"mouseup")},s.addEventToCancelPointerInput=function(t,e){self=this,t.addEventListener(e,(function(t){self.mGameMgr&&self.mGameMgr.mStandardControlInterface&&self.mGameMgr.mStandardControlInterface.handleInputOnIsCancelled(self.mPointerInputId)}))},s.convertPointerLocation=function(t){return t.x-=.5*this.transformComponent.width,t.y-=.5*this.transformComponent.height,t},s.getMouseEventButton=function(t){switch(t.getButton()){case cc.Event.EventMouse.BUTTON_LEFT:return l.x2537312111073578457x;case cc.Event.EventMouse.BUTTON_RIGHT:return l.x931823227208707668x;default:return l.x2537312111073578457x}},s.onGameCanvasDeactivated=function(t){window.mBPSApp&&window.mBPSApp.onAppDeactivated()},s.onMouseDown=function(t){var e=this.convertPointerLocation(t.getUILocation());this.mBPSApp.handleDeviceControlOn(l.x682881226454308741x,this.getMouseEventButton(t),e.x,e.y)},s.onMouseUp=function(t){var e=this.convertPointerLocation(t.getUILocation());this.mBPSApp.handleDeviceControlOff(l.x682881226454308741x,this.getMouseEventButton(t),e.x,e.y)},s.onMouseMove=function(t){var e=this.convertPointerLocation(t.getUILocation());this.mBPSApp.handleDeviceControlValues(l.x682881226454308741x,this.getMouseEventButton(t),e.x,e.y)},s.onTouchStart=function(t){var e=this.convertPointerLocation(t.touch.getUILocation());this.mBPSApp.handleDeviceControlOn(l.x682881226454308741x,l.x2537312111073578457x,e.x,e.y)},s.onTouchMove=function(t){var e=this.convertPointerLocation(t.touch.getUILocation());this.mBPSApp.handleDeviceControlValues(l.x682881226454308741x,l.x2537312111073578457x,e.x,e.y)},s.onTouchEnd=function(t){var e=this.convertPointerLocation(t.touch.getUILocation());this.mBPSApp.handleDeviceControlOff(l.x682881226454308741x,l.x2537312111073578457x,e.x,e.y)},s.onTouchCancel=function(t){this.onTouchEnd(t)},e}(o)).prototype,"requireIFrame",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=e(d.prototype,"gameContentBasePath",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=e(d.prototype,"gameDataFilePath",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"PBIGWJLSGJNNHJPGSODLMMOFQJSRKNBMPHYLKMMGSOOKCGSCNRZJZFTJAGJJHMNHYGMTKGYOUKVNMECDHPTCHQKHHKRGWDYGTDCHJDWGHPMKLKSRLF"}}),P=e(d.prototype,"gameDataOverrideFilePath",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=e(d.prototype,"enableGameBGDiv",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=e(d.prototype,"buildNumberOverride",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=d))||f),s._RF.pop()}}})),System.register("chunks:///_virtual/x3347213658198411994x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x4270404662952081505x.ts","./x702435451033209193x.ts","./x4098094003949072702x.ts","./x1797660697812370999x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x4270404662952081505x},function(t){r=t.x702435451033209193x},function(t){s=t.x4098094003949072702x},function(t){a=t.x1797660697812370999x}],execute:function(){i._RF.push({},"57b6bDYR1FLBKFCoF2OTxS0","x3347213658198411994x",void 0),t("x3347213658198411994x",function(t){function i(e){return t.call(this,e)||this}e(i,t);var n=i.prototype;return n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},n.x260098031883335441x=function(e,i){return i==r.x1012796168335938419x("IEBQVCMGQSOGCSAQEJFQDEJPKTJMJITFKNSPYIFQKJ")?new s(this):i==r.x1012796168335938419x("HIZIHLIEOLAPALWIKRRMPQJILLXEPRFOZKROHRHJERTN")?new a(this):t.prototype.x260098031883335441x.call(this,e,i)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x513284873445498594x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts","./x923301222305930093x.ts","./x160249411363356178x.ts","./x2513491171780780505x.ts","./x2942546774025373449x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x2205868517935256955x},function(t){a=t.x3693760142138385085x},function(t){o=t.x702435451033209193x},function(t){x=t.x923301222305930093x},function(t){u=t.x160249411363356178x},function(t){c=t.x2513491171780780505x},function(t){l=t.x2942546774025373449x}],execute:function(){r._RF.push({},"590f89qAZNGEYUSraGbgh6m","x513284873445498594x",void 0),t("x513284873445498594x",function(t){function r(e,i){var s;return(s=t.call(this)||this).mParams=e.x3395266717842453812x(),s.mIsEnabled=e.getBoolValueWithDefault(r.x1170515238876133688x,!0),s.x1098789963781731349x=i,s.mIsEnabled&&(i.addMessageListener(n(s)),i.getSceneMgr().addMessageListener(n(s))),s.mHighScoresDictionary=new a(!0),s.mNumEntries=e.getIntValue(r.x3645077692763746005x),s.mPlaceholderName=e.getStringValue(r.x1118291795106539316x),s.mLastScoreIndex=-1,s.mLastScore=0,s.mIsLastScoreNewHighScore=!1,s.mHighScore=0,s}e(r,t);var s=r.prototype;return s.resetHighScores=function(){if(this.mIsEnabled){this.mHighScoresDictionary.removeAllValues(),this.mHighScoresDictionary.setIntValue(r.x4199061833218889925x,r.x3497254889419186313x);var t=new a(!0);this.mHighScoresDictionary.setObjectValue(r.x3111244287113527393x,t);for(var e=this.mParams.getIntValue(r.x4007918702044785971x),i=this.mParams.getIntValue(r.x3637762314547073992x),n=1;n<=this.mNumEntries;n++)this.processNewScore(e,this.mPlaceholderName,!1),e=o.maxInt(e-i,0);this.mHighScoresDictionary.setStringValue(r.x4324177003257549137x,""),this.saveHighScoresToPrefs(),this.mLastScoreIndex=-1,this.mLastScore=0,this.mIsLastScoreNewHighScore=!1,this.mHighScore=0}},s.didLoadHighScores=function(){return!!this.mIsEnabled&&this.mHighScoresDictionary.getIntValueWithDefault(r.x4199061833218889925x,0)==r.x3497254889419186313x},s.getNumEntries=function(){return this.didLoadHighScores()?this.mHighScoresDictionary.getDictionary(r.x3111244287113527393x).getNumValues():0},s.getNameForIndex=function(t){if(!this.didLoadHighScores())return"";var e=this.getEntryDictForIndex(t);return e?e.getStringValue(r.x761122776748284686x):""},s.setNameForIndex=function(t,e,i){if(this.didLoadHighScores()){var n=this.getEntryDictForIndex(t);n&&(n.setStringValue(r.x761122776748284686x,e),this.mHighScoresDictionary.setStringValue(r.x4324177003257549137x,e),i&&this.saveHighScoresToPrefs(),this.dispatchMessage(r.x298471893542916185x,this,null))}},s.getScoreForIndex=function(t){if(!this.didLoadHighScores())return 0;var e=this.getEntryDictForIndex(t);return e?e.getIntValue(r.x385330277223218778x):0},s.getScoreStringForIndex=function(t){var e=this.getScoreForIndex(t);switch(o.stringToHash32(this.mParams.getStringValue(r.x3968085022561955616x))){case r.x4595100994392724785x:return e>=0?o.stringFromInt(e,1,!0):"";case r.x1001262229612496836x:return e>=0?o.timeStringFromMSEC(e,1,3):"";default:return""}},s.getLastScoreIndex=function(){return this.mLastScoreIndex},s.getLastScore=function(){return this.mLastScore},s.isLastScoreNewHighScore=function(){return this.mIsLastScoreNewHighScore},s.getHighScore=function(){return this.mHighScore},s.getSavedHighScoresDataId=function(){return this.x1098789963781731349x.getSavedDataId()+"-highScores"},s.getEntryDictForIndex=function(t){return this.mHighScoresDictionary.getDictionary(r.x3111244287113527393x).getDictionary(o.stringToValueKey(o.stringFromInt(t,0,!1)))},s.loadHighScoresFromPrefs=function(){if(this.mIsEnabled){this.mHighScoresDictionary.removeAllValues();var t=this.x1098789963781731349x.getPrefsString(this.getSavedHighScoresDataId(),"");t&&""!=t&&this.mHighScoresDictionary.parseJSONString(t,!1,!0);for(var e=this.mHighScoresDictionary.getIntValueWithDefault(r.x4199061833218889925x,0);e<r.x3497254889419186313x;)this.resetHighScores(),e=r.x3497254889419186313x;this.mLastScoreIndex=-1,this.mLastScore=0,this.mHighScore=this.getScoreForIndex(1),this.mIsLastScoreNewHighScore=!1,this.dispatchMessage(r.x298471893542916185x,this,null)}},s.saveHighScoresToPrefs=function(){if(this.mIsEnabled&&this.didLoadHighScores()){this.mHighScoresDictionary.resetAllKeyStringsToKeyValue();var t=this.mHighScoresDictionary.toJSONString(null,!0,-1);this.x1098789963781731349x.setPrefsString(this.getSavedHighScoresDataId(),t),this.x1098789963781731349x.savePrefs()}},s.invalidateLastScore=function(){this.mLastScoreIndex=-1,this.mLastScore=0,this.mIsLastScoreNewHighScore=!1},s.processNewScore=function(t,e,i){if(this.mIsEnabled&&this.didLoadHighScores()){var n=this.mParams.getBoolValue(r.x2535308225579156236x);this.mLastScore=t,this.mIsLastScoreNewHighScore=!1;var s=-1,x=0,u=this.mHighScoresDictionary.getDictionary(r.x3111244287113527393x),c=u.getNumValues();if(c>0){for(x=1;x<=c;x++){var l=u.getDictionary(o.stringToValueKey(o.stringFromInt(x,0,!1)));if(n?t>l.getIntValue(r.x385330277223218778x):t<l.getIntValue(r.x385330277223218778x)){s=x;break}}s<=0&&c<this.mNumEntries&&(s=c+1)}else s=1;if(s>0){for(this.mLastScoreIndex=s,1==s&&(this.mIsLastScoreNewHighScore=!0,this.mHighScore=t),x=c;x>=s;x--){var h=u.getValueWithKeyString(o.stringFromInt(x,0,!1)),m=x+1;m>this.mNumEntries?u.removeValue(h.getKey()):h.setKeyString(o.stringFromInt(m,0,!1))}var g=new a(!0);g.setStringValue(r.x761122776748284686x,e),g.setIntValue(r.x385330277223218778x,t),u.setObjectValue(o.stringToValueKey(o.stringFromInt(s,0,!1)),g),this.mHighScoresDictionary.setStringValue(r.x4324177003257549137x,e),i&&this.saveHighScoresToPrefs(),this.dispatchMessage(r.x298471893542916185x,this,null)}else this.mLastScoreIndex=-1}},s.x1721113016797186854x=function(){this.x1098789963781731349x.removeMessageListener(this),this.x1098789963781731349x.getSceneMgr().removeMessageListener(this),l.getInstance().removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mHighScoresDictionary&&(this.mHighScoresDictionary.destroy(),this.mHighScoresDictionary=null),t.prototype.x1721113016797186854x.call(this)},s.x601562840631873202x=function(t,e,i){switch(t){case u.x1612170441469018558x:this.loadHighScoresFromPrefs(),l.getInstance().addMessageListener(this);break;case l.x4328140004478401849x:this.invalidateLastScore();var n=l.getInstance().getGameMgr().getPlayerAtIndex(0);if(this.mParams.getBoolValue(r.x2689474474338464464x)&&!n.didCompleteGameSuccessfully())return;switch(o.stringToHash32(this.mParams.getStringValue(r.x3968085022561955616x))){case r.x4595100994392724785x:var s=n.getComponent(x.x2355730316075620282x);this.processNewScore(s.getScore(),this.mHighScoresDictionary.getStringValue(r.x4324177003257549137x),!0);break;case r.x1001262229612496836x:var a=n.getElapsedActiveGameTimeMSEC();this.processNewScore(a,this.mHighScoresDictionary.getStringValue(r.x4324177003257549137x),!0)}break;case c.x4104787155684813481x:this.resetHighScores()}},i(r,null,[{key:"x1170515238876133688x",get:function(){return 488921072}},{key:"x3645077692763746005x",get:function(){return 932455899}},{key:"x1118291795106539316x",get:function(){return 1170172045}},{key:"x3968085022561955616x",get:function(){return 983889899}},{key:"x2689474474338464464x",get:function(){return 809275726}},{key:"x2535308225579156236x",get:function(){return 10829655}},{key:"x4007918702044785971x",get:function(){return 1586331716}},{key:"x3637762314547073992x",get:function(){return 1019923825}},{key:"x3497254889419186313x",get:function(){return 3}},{key:"x298471893542916185x",get:function(){return 2070696036}},{key:"x4199061833218889925x",get:function(){return 648332039}},{key:"x4324177003257549137x",get:function(){return 328424219}},{key:"x3111244287113527393x",get:function(){return 245514879}},{key:"x761122776748284686x",get:function(){return 52021276}},{key:"x385330277223218778x",get:function(){return 1026088449}},{key:"x4595100994392724785x",get:function(){return 1026088449}},{key:"x1001262229612496836x",get:function(){return 1539948732}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x4098094003949072702x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x295234079426945939x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts","./x4016911264059163956x.ts","./x2109210492123306036x.ts","./x513284873445498594x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x295234079426945939x},function(t){s=t.x3693760142138385085x},function(t){a=t.x702435451033209193x},function(t){o=t.x4016911264059163956x},function(t){x=t.x2109210492123306036x},function(t){u=t.x513284873445498594x}],execute:function(){n._RF.push({},"d53715aKztO+oL1huX1yMqO","x4098094003949072702x",void 0),t("x4098094003949072702x",function(t){function n(e){var i;return(i=t.call(this,e)||this).mParams=new s(!0),i.mHighScoreEntryStyleNormalEven=new s(!0),i.mHighScoreEntryStyleNormalOdd=new s(!0),i.mHighScoreEntryStyleHighlight=new s(!0),i}e(n,t);var r=n.prototype;return r.updateAsLocalHighScoresType=function(){for(var t=o.instance().getHighScoresMgr(),e=this.mParams.getIntValue(n.x2507172751642136583x),i=0;i<e;i++)this.setEntryValues(i,t.getNameForIndex(i+1),t.getScoreStringForIndex(i+1),!1)},r.setEntryValues=function(t,e,i,n){var r=this.getRootView().getDescendantNamed("entriesContainer").getChildAtIndex(t),s=r.getDescendantNamed(a.x1012796168335938419x("ICGNUQDJSE"));e=a.stringToUpperCase(e),s.setText(e),r.getDescendantNamed(a.x1012796168335938419x("HDXTOGRPRLFP")).setText(i),n?r.setStyle(this.mHighScoreEntryStyleHighlight):r.setStyle(x.isEven(t)?this.mHighScoreEntryStyleNormalEven:this.mHighScoreEntryStyleNormalOdd)},r.x962108131907433511x=function(e){this.mParams.copy(e,!0);var i=o.instance();i.getHighScoresMgr().removeMessageListener(this);var r=a.stringToValueKey(e.getStringValue(n.x3265074594981536334x)),s=e.getIntValue(n.x2507172751642136583x);r===n.x1494015793888483731x&&i.getHighScoresMgr().addMessageListener(this);var u=e.getDictionaryWithKeyStringPath("content._BPSContainerView:entriesContainer.children"),c=u.getDictionaryWithKeyString("_BPSUIPanel:highScoreEntry").x3395266717842453812x();u.removeValue(a.stringToValueKey("_BPSUIPanel:highScoreEntry")),this.mHighScoreEntryStyleNormalEven.copy(c.getDictionaryWithKeyString("style"),!0),this.mHighScoreEntryStyleNormalEven.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setStringValue(a.stringToValueKey("resource_texture"),c.getStringValueWithKeyStringPath("frameParams.normalState.resource_texture")),this.mHighScoreEntryStyleNormalEven.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setFloatValue(a.stringToValueKey("alpha"),c.getFloatValueWithKeyStringPath("frameParams.normalState.alphaEven")),this.mHighScoreEntryStyleNormalOdd.copy(c.getDictionaryWithKeyString("style"),!0),this.mHighScoreEntryStyleNormalOdd.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setStringValue(a.stringToValueKey("resource_texture"),c.getStringValueWithKeyStringPath("frameParams.normalState.resource_texture")),this.mHighScoreEntryStyleNormalOdd.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setFloatValue(a.stringToValueKey("alpha"),c.getFloatValueWithKeyStringPath("frameParams.normalState.alphaOdd")),this.mHighScoreEntryStyleHighlight.copy(c.getDictionaryWithKeyString("style"),!0),this.mHighScoreEntryStyleHighlight.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setStringValue(a.stringToValueKey("resource_texture"),c.getStringValueWithKeyStringPath("frameParams.highlightState.resource_texture")),this.mHighScoreEntryStyleHighlight.getDictionaryWithKeyStringPath("frame.textures.texture:frame").setFloatValue(a.stringToValueKey("alpha"),c.getFloatValueWithKeyStringPath("frameParams.highlightState.alpha"));for(var l=0;l<s;l++){var h=c.x3395266717842453812x(),m=l+1;x.isEven(m)?h.getDictionaryWithKeyString("style").copy(this.mHighScoreEntryStyleNormalEven,!0):h.getDictionaryWithKeyString("style").copy(this.mHighScoreEntryStyleNormalOdd,!0);var g="_BPSUIPanel:highScoreEntry"+a.stringFromInt(m,0,!1);u.insertObjectValue(a.stringToValueKey(g),g,999,h)}null!==c&&(c.destroy(),c=null),t.prototype.x962108131907433511x.call(this,e),r===n.x1494015793888483731x&&this.updateAsLocalHighScoresType()},r.x1721113016797186854x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mHighScoreEntryStyleNormalEven&&(this.mHighScoreEntryStyleNormalEven.destroy(),this.mHighScoreEntryStyleNormalEven=null),null!==this.mHighScoreEntryStyleNormalOdd&&(this.mHighScoreEntryStyleNormalOdd.destroy(),this.mHighScoreEntryStyleNormalOdd=null),null!==this.mHighScoreEntryStyleHighlight&&(this.mHighScoreEntryStyleHighlight.destroy(),this.mHighScoreEntryStyleHighlight=null),t.prototype.x1721113016797186854x.call(this)},r.x601562840631873202x=function(t,e,i){t===u.x298471893542916185x&&this.updateAsLocalHighScoresType()},i(n,null,[{key:"x1494015793888483731x",get:function(){return 818405245}},{key:"x3265074594981536334x",get:function(){return 1067811091}},{key:"x2507172751642136583x",get:function(){return 1121801651}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x876730206097101483x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x3693760142138385085x.ts","./x3001588770202680173x.ts","./x160249411363356178x.ts","./x2513491171780780505x.ts","./x2942546774025373449x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x2205868517935256955x},function(t){a=t.x3693760142138385085x},function(t){o=t.x3001588770202680173x},function(t){x=t.x160249411363356178x},function(t){u=t.x2513491171780780505x},function(t){c=t.x2942546774025373449x}],execute:function(){r._RF.push({},"42337qjglFLdojpC9LZJkUW","x876730206097101483x",void 0),t("x876730206097101483x",function(t){function r(e,i){var r;return(r=t.call(this)||this).x1098789963781731349x=e,e.addMessageListener(n(r)),e.getSceneMgr().addMessageListener(n(r)),r.mDummyLevelsComponent=new o(null,i),r.mOnboardingData=new a(!0),r.resetOnboardingData(!1),r}e(r,t);var s=r.prototype;return s.getDummyLevelsComponent=function(){return this.mDummyLevelsComponent},s.isOnboardingRequiredAndIncomplete=function(){return this.mDummyLevelsComponent.isOnboardingRequired()&&!this.mOnboardingData.getBoolValue(r.x1082862635105341714x)},s.resetOnboardingData=function(t){this.mOnboardingData.removeAllValues(),this.mOnboardingData.setIntValue(r.x46677770551926396x,r.x1415301086672949562x),this.mOnboardingData.setBoolValue(r.x1082862635105341714x,!1),t&&this.saveOnboardingData()},s.getSavedOnboardingDataId=function(){return this.x1098789963781731349x.getSavedDataId()+"-onboarding"},s.loadOnboardingData=function(){this.mOnboardingData.removeAllValues();var t=this.x1098789963781731349x.getPrefsString(this.getSavedOnboardingDataId(),"");t&&""!=t&&this.mOnboardingData.parseJSONString(t,!1,!0);for(var e=!1,i=this.mOnboardingData.getIntValue(r.x46677770551926396x);i<r.x1415301086672949562x;)this.resetOnboardingData(!1),e=!0,i=r.x1415301086672949562x;e&&this.saveOnboardingData()},s.saveOnboardingData=function(){var t=this.mOnboardingData.toJSONString(null,!0,-1);this.x1098789963781731349x.setPrefsString(this.getSavedOnboardingDataId(),t),this.x1098789963781731349x.savePrefs()},s.handleDidCompleteOnboarding=function(){this.saveOnboardingData()},s.x1721113016797186854x=function(){this.x1098789963781731349x.removeMessageListener(this),this.x1098789963781731349x.getSceneMgr().removeMessageListener(this),c.getInstance().removeMessageListener(this),null!==this.mDummyLevelsComponent&&(this.mDummyLevelsComponent.destroy(),this.mDummyLevelsComponent=null),null!==this.mOnboardingData&&(this.mOnboardingData.destroy(),this.mOnboardingData=null),t.prototype.x1721113016797186854x.call(this)},s.x601562840631873202x=function(t,e,i){switch(t){case o.x2806558604778957676x:this.handleDidCompleteOnboarding(),c.getInstance().getGameMgr().getGame().addMessageListener(this);break;case c.x3255047416253198499x:this.isOnboardingRequiredAndIncomplete()&&c.getInstance().getGameMgr().getGame().removeMessageListener(this);break;case x.x1612170441469018558x:this.loadOnboardingData(),c.getInstance().addMessageListener(this);break;case u.x4104787155684813481x:this.resetOnboardingData(!0)}},i(r,null,[{key:"x1415301086672949562x",get:function(){return 1}},{key:"x46677770551926396x",get:function(){return 648332039}},{key:"x1082862635105341714x",get:function(){return 771156674}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x3336700271828892635x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts","./x160249411363356178x.ts","./x2942546774025373449x.ts","./x3312962755128397901x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u;return{setters:[function(t){e=t.inheritsLoose,i=t.assertThisInitialized},function(t){n=t.cclegacy},function(t){r=t.x2205868517935256955x},function(t){s=t.x3693760142138385085x},function(t){a=t.x702435451033209193x},function(t){o=t.x160249411363356178x},function(t){x=t.x2942546774025373449x},function(t){u=t.x3312962755128397901x}],execute:function(){n._RF.push({},"4c119vdp9tNMpdO0vYk8EQC","x3336700271828892635x",void 0),t("x3336700271828892635x",function(t){function n(e,n){var r;return(r=t.call(this)||this).mParams=e?e.x3395266717842453812x():new s(!0),r.x1098789963781731349x=n,n.addMessageListener(i(r)),n.getSceneMgr().addMessageListener(i(r)),r.mEventMessageData=new s(!0),r}e(n,t),n.tryCreate=function(t,e){var i=a.stringToLowerCase(t.getStringValueWithKeyStringPath("metadata.id"));return a.firstIndexInString(i,"ispero")>=0?new n(null,e):null};var r=n.prototype;return r.dispatchEventMessage=function(t){var e=t.toJSONString(null,!1,-1);try{(null!=window.parent?window.parent:window).postMessage(e,"*")}catch(t){}},r.x1721113016797186854x=function(){this.x1098789963781731349x.removeMessageListener(this),this.x1098789963781731349x.getSceneMgr().removeMessageListener(this),x.getInstance().removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mEventMessageData&&(this.mEventMessageData.destroy(),this.mEventMessageData=null),t.prototype.x1721113016797186854x.call(this)},r.x601562840631873202x=function(t,e,i){switch(t){case o.x1612170441469018558x:this.x1098789963781731349x.getSceneMgr().getManagedScene("game").addMessageListener(this),this.x1098789963781731349x.getSceneMgr().getManagedScene("gameOver").addMessageListener(this);break;case x.x3255047416253198499x:var n=i.getIntValue(x.x3573093351381495556x);this.mEventMessageData.removeAllValues(),n<=1?this.mEventMessageData.insertStringValue(0,"event",999,"GameStarted"):this.mEventMessageData.insertStringValue(0,"event",999,"GameRestarted"),this.dispatchEventMessage(this.mEventMessageData);break;case x.x322552905160010707x:this.mEventMessageData.removeAllValues(),this.mEventMessageData.insertStringValue(0,"event",999,"GamePaused"),this.dispatchEventMessage(this.mEventMessageData);break;case x.x2745542302286582725x:this.mEventMessageData.removeAllValues(),this.mEventMessageData.insertStringValue(0,"event",999,"GameResumed"),this.dispatchEventMessage(this.mEventMessageData);break;case x.x4328140004478401849x:var r=i.getIntValue(x.x2892439419860215725x),s=i.getIntValue(x.x3595929635695483516x);this.mEventMessageData.removeAllValues(),this.mEventMessageData.insertStringValue(0,"event",999,"GameOver"),this.mEventMessageData.insertIntValue(0,"score",999,r),this.mEventMessageData.insertIntValue(0,"elapsedTimeSEC",999,s),this.dispatchEventMessage(this.mEventMessageData);break;case x.x3034051124824669690x:r=i.getIntValue(x.x1108196254073147599x),s=i.getIntValue(x.x1806196572335029843x),this.mEventMessageData.removeAllValues(),this.mEventMessageData.insertStringValue(0,"event",999,"Quit"),this.mEventMessageData.insertIntValue(0,"score",999,r),this.mEventMessageData.insertIntValue(0,"elapsedTimeSEC",999,s),this.dispatchEventMessage(this.mEventMessageData);break;case u.x2207665964080005623x:this.mEventMessageData.removeAllValues(),this.mEventMessageData.insertStringValue(0,"event",999,"Quit"),this.dispatchEventMessage(this.mEventMessageData)}},n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1076475369105234232x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x1232577566642415821x.ts","./x2385793234846142307x.ts","./x1127813857485463346x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1879755377857057486x},function(t){s=t.x1232577566642415821x},function(t){a=t.x2385793234846142307x},function(t){o=t.x1127813857485463346x}],execute:function(){n._RF.push({},"8205c90zRRK86t7c9dLQg3K","x1076475369105234232x",void 0),t("x1076475369105234232x",function(t){function n(e,i){var n;return(n=t.call(this,"captureControlId",e,i)||this).mFollowMouseButton=null,n.getUIInputMgr().unmapDeviceControl(s.x273326733444963739x,s.x1172661380578722777x),n}e(n,t);var r=n.prototype;return r.setParams=function(t,e){this.getSceneRootView().getDescendantNamed("inputName").setText(t)},r.popSceneWithCapturedDeviceControl=function(t,e){this.getMessageData().setIntValue(n.x179052397502976883x,t),this.getMessageData().setIntValue(n.x980577668810964781x,e),this.dispatchMessage(n.x2140227026360370269x,this,this.getMessageData()),this.getSceneMgr().popScene()},r.x1721113016797186854x=function(){this.mFollowMouseButton&&this.mFollowMouseButton.release(),this.mFollowMouseButton=null,t.prototype.x1721113016797186854x.call(this)},r.x2040832708660789557x=function(){},r.x2286393723489345176x=function(){},r.x2205753240179020188x=function(){},r.x829844150907370379x=function(){},r.x130462144329088844x=function(){},r.x2064865260925868963x=function(t){},r.x601562840631873202x=function(e,i,n){e==a.x1220349481777468123x&&"cancel"==i.getName()&&this.getSceneMgr().popScene(),t.prototype.x601562840631873202x.call(this,e,i,n)},r.x2709359389131215735x=function(t,e,i){return t===o.x3716705742839152288x&&(this.getSceneMgr().popScene(),!0)},r.x1928504666025035685x=function(t,e,i,n){switch(t){case s.x4234934191319707258x:case s.x273326733444963739x:return this.popSceneWithCapturedDeviceControl(t,e),!0}return!1},i(n,null,[{key:"x2140227026360370269x",get:function(){return 1431910196}},{key:"x179052397502976883x",get:function(){return 1670366722}},{key:"x980577668810964781x",get:function(){return 1909094535}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x2559493638996200999x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x2385793234846142307x.ts","./x1127813857485463346x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1879755377857057486x},function(t){r=t.x2385793234846142307x},function(t){s=t.x1127813857485463346x}],execute:function(){i._RF.push({},"0fc3cY8V1lLbI/CtnpgywyU","x2559493638996200999x",void 0),t("x2559493638996200999x",function(t){function i(e,i){var n;return(n=t.call(this,"confirm",e,i)||this).mMessage="",n.mAction="",n.mDidConfirm=!1,n}e(i,t);var n=i.prototype;return n.getMessage=function(){return this.mMessage},n.setMessage=function(t){this.mMessage=t},n.getAction=function(){return this.mAction},n.setAction=function(t){this.mAction=t},n.getDidConfirm=function(){return this.mDidConfirm},n.performConfirm=function(){this.mDidConfirm=!0,this.getSceneMgr().popScene()},n.performCancel=function(){this.mDidConfirm=!1,this.getSceneMgr().popScene()},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},n.x2040832708660789557x=function(){this.getSceneRootView().getDescendantNamed("title").setText(this.mMessage),this.mDidConfirm=!1},n.x2286393723489345176x=function(){},n.x2205753240179020188x=function(){},n.x829844150907370379x=function(){},n.x130462144329088844x=function(){},n.x2064865260925868963x=function(t){},n.x601562840631873202x=function(e,i,n){if(e==r.x1220349481777468123x){var s=i.getName();"ok"==s?this.performConfirm():"cancel"==s&&this.performCancel()}t.prototype.x601562840631873202x.call(this,e,i,n)},n.x2709359389131215735x=function(t,e,i){return t===s.x3716705742839152288x&&(this.performCancel(),!0)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x2942546774025373449x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x1232577566642415821x.ts","./x1930801154962670888x.ts","./x702435451033209193x.ts","./x49008801373907804x.ts","./x3001588770202680173x.ts","./x923301222305930093x.ts","./x4016911264059163956x.ts","./x130488792231225248x.ts","./x1413698088565076133x.ts","./x439725023118195804x.ts","./x2109210492123306036x.ts","./x179266263294073309x.ts","./x1050156846452418517x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g,f,d,p,S;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x1879755377857057486x},function(t){a=t.x1232577566642415821x},function(t){o=t.x1930801154962670888x},function(t){x=t.x702435451033209193x},function(t){u=t.x49008801373907804x},function(t){c=t.x3001588770202680173x},function(t){l=t.x923301222305930093x},function(t){h=t.x4016911264059163956x},function(t){m=t.x130488792231225248x},function(t){g=t.x1413698088565076133x},function(t){f=t.x439725023118195804x},function(t){d=t.x2109210492123306036x},function(t){p=t.x179266263294073309x},function(t){S=t.x1050156846452418517x}],execute:function(){r._RF.push({},"fa1acMFXK1NRoDGsI4cK2Q8","x2942546774025373449x",void 0),t("x2942546774025373449x",function(t){function r(e,i){var s;return s=t.call(this,"game",e,i)||this,e.addMessageListener(n(s)),s.mGameMgr=null,s.mOverrideNumNonAIPlayers=-1,s.mIsAIDemoModeEnabled=!1,s.mIsCurrentGameAIDemoMode=!1,s.mCancelAIDemoModeOnInput=!1,s.mNumGamesStarted=0,s.mNumGamesSinceInterstitialAd=0,s.mLoadingView=null,s.mDEBUG_enableAIPlay=!1,s.getStateMachine().setState(r.x3119648372935234602x),r.sInstance=n(s),s}e(r,t),r.getInstance=function(){return r.sInstance};var s=r.prototype;return s.setIsAIDemoModeEnabled=function(t,e){this.mIsAIDemoModeEnabled=t,this.mIsCurrentGameAIDemoMode=t,this.mCancelAIDemoModeOnInput=e,this.mOverrideNumNonAIPlayers=t?0:-1},s.getGameMgr=function(){return this.mGameMgr},s.pauseGame=function(){this.mGameMgr&&this.getSceneState()==g.x2896128441063749266x&&this.getStateMachine().getCurrentState()==r.x2611234217100879428x&&this.mGameMgr.pauseGame()},s.tryTerminateGame=function(){if(this.mGameMgr&&!this.mGameMgr.getGame().isGameEnded()){var t=this.mGameMgr,e=~~(.001*t.getPlayerAtIndex(0).getElapsedActiveGameTimeMSEC()),i=0,n=t.getPlayerAtIndex(0).getComponent(l.x2355730316075620282x);n&&(i=n.getScore()),this.getMessageData().setIntValue(r.x2892439419860215725x,i),this.getMessageData().setIntValue(r.x3595929635695483516x,e),this.dispatchMessage(r.x3034051124824669690x,this,this.getMessageData()),this.mGameMgr.terminate()}},s.x1721113016797186854x=function(){this.x1546495508514513272x().removeMessageListener(this),null!==this.mGameMgr&&(this.mGameMgr.destroy(),this.mGameMgr=null),this.mLoadingView&&this.mLoadingView.release(),this.mLoadingView=null,this==r.sInstance&&(r.sInstance=null),t.prototype.x1721113016797186854x.call(this)},s.x1795041629124088167x=function(){this.mLoadingView=this.getAppSupportFactory().createViewHierarchy("_BPSView:loadingView",this.getSceneParams().getDictionaryWithKeyStringPath("_BPSView:loadingView")),this.mLoadingView.retain(),this.mDEBUG_enableAIPlay=this.x1546495508514513272x().x1666856027417448917x().getBoolValueWithKeyStringPath("debug.enableAIPlay")},s.x2040832708660789557x=function(){var t=!1;if(this.getSceneMgr().getManagedScene(x.x1012796168335938419x("ZBHOXRQKYFWJQRYOAHMTIGRSJGLIRF"))&&this.getSceneParams().getBoolValueWithKeyStringPath("interstitialAd.enabled"))if(this.mNumGamesSinceInterstitialAd++,0==this.mNumGamesStarted)t=this.getSceneParams().getBoolValueWithKeyStringPath("interstitialAd.showAdBeforeFirstGame");else{var e=this.getSceneParams().getIntValueWithKeyStringPath("interstitialAd.gamesPerAd");t=this.mNumGamesSinceInterstitialAd>=e}t?(this.getStateMachine().setState(r.x3119648372935234602x),this.getStateMachine().processTime(0),this.mNumGamesSinceInterstitialAd=0,this.getSceneMgr().pushScene(x.x1012796168335938419x("ZBHOXRQKYFWJQRYOAHMTIGRSJGLIRF"))):this.getStateMachine().setState(r.x2263152915735900199x)},s.x2286393723489345176x=function(){this.tryTerminateGame(),this.getSceneRootView().removeAllChildren(!0),this.getSceneRootView().setIsActive(!0),this.x1546495508514513272x().setIsBGViewVisible(!0),this.getStateMachine().setState(r.x4110043456092473549x),this.getStateMachine().processTime(0),this.mGameMgr&&(this.mGameMgr.removeMessageListener(this),null!==this.mGameMgr&&(this.mGameMgr.destroy(),this.mGameMgr=null))},s.x2205753240179020188x=function(){this.getStateMachine().getCurrentState()!=r.x3119648372935234602x&&this.mGameMgr&&!this.mGameMgr.getGame().isGameEnded()&&(this.mGameMgr.pauseGame(),this.getSceneRootView().setIsActive(!1))},s.x829844150907370379x=function(){this.getStateMachine().getCurrentState()==r.x3119648372935234602x?this.getStateMachine().setState(r.x2263152915735900199x):(this.mGameMgr&&!this.mGameMgr.getGame().isGameEnded()&&(this.dispatchMessage(r.x2745542302286582725x,this,null),this.mGameMgr.unpauseGame()),this.getSceneRootView().setIsActive(!0))},s.x130462144329088844x=function(){this.tryTerminateGame()},s.x2064865260925868963x=function(t){},s.x601562840631873202x=function(e,i,n){if(i==this.x1546495508514513272x())this.getStateMachine().getCurrentState()!=r.x2611234217100879428x||e!=h.x935457355807970455x||d.isPlatformOSX()||this.pauseGame();else if(this.mGameMgr)if(i==this.mGameMgr.getGame())e===u.x1837688871124046825x&&this.mGameMgr.getGame().getCurrentState()===u.x586834288206199424x&&this.pauseGame();else if(i==this.mGameMgr)switch(e){case m.x1376601320300114653x:this.mIsCurrentGameAIDemoMode||(this.mNumGamesStarted++,this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),x.x1012796168335938419x("CBDNESPFIROCOQSPWGQOTSBOBS"),"",0,!1),this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),x.x1012796168335938419x("RDAKOPDHJTTGHTAOYSIQBRLOMTVLQSBRTJQPPIFQAJJPFNMGJMBFPRICNLRPOSBONS"),d.concatStrings(x.stringFromInt(this.mNumGamesStarted,0,!1),1==this.mNumGamesStarted?x.x1012796168335938419x("HEYPSEJOSKLO"):x.x1012796168335938419x("NEIPCETNCKFNGK")),0,!1),this.x3146280315819528581x().trackGA4GameEvent("game_started",{session_games_count:this.mNumGamesStarted}),this.getMessageData().setIntValue(r.x3573093351381495556x,this.mNumGamesStarted),this.dispatchMessage(r.x3255047416253198499x,this,this.getMessageData()));break;case m.x4521893367635912333x:this.mGameMgr.getGame().getCurrentState()===u.x586834288206199424x?this.getSceneMgr().pushScene(x.x1012796168335938419x("NCROWRVKKGCJVGTTEHPT")):(this.dispatchMessage(r.x322552905160010707x,this,null),this.getSceneMgr().pushScene(x.x1012796168335938419x("KHNEIIVQKMQPEMVKWNFJFN")));break;case m.x3781445421189214523x:this.getStateMachine().setState(r.x2938843279257104680x);break;case p.x507218194492811356x:case p.x653658679781127440x:this.dispatchMessage(e,this,n)}t.prototype.x601562840631873202x.call(this,e,i,n)},s.x4114393324539293585x=function(t,e,i,n){this.mIsCurrentGameAIDemoMode&&this.mCancelAIDemoModeOnInput&&this.mGameMgr&&(this.tryTerminateGame(),this.getSceneMgr().setScene("mainMenu"))},s.x2709359389131215735x=function(t,e,i){return!1},s.x1928504666025035685x=function(t,e,i,n){switch(t){case a.x4234934191319707258x:if(this.getStateMachine().getCurrentState()==r.x2611234217100879428x)switch(e){case a.x4535460003535727211x:case a.x70061170236791832x:return this.pauseGame(),!0}break;case a.x273326733444963739x:e===a.x1484181786099900418x&&this.pauseGame()}return!!this.mGameMgr&&(this.mGameMgr.handleDeviceControlOn(t,e),!0)},s.x2299273512513595755x=function(t,e,i,n){return!!this.mGameMgr&&(this.mGameMgr.handleDeviceControlOff(t,e),!0)},s.x1886508681305638921x=function(t,e){return!!this.mGameMgr&&(this.mGameMgr.handleDeviceControlCancelled(t,e),!0)},s.x4574927063157401553x=function(e,i,n,s){switch(i){case r.x2263152915735900199x:switch(e){case o.x2982972318080668761x:null!==this.mGameMgr&&(this.mGameMgr.destroy(),this.mGameMgr=null);var a=new f(this.getAppSupportFactory());a.setName("gameRootView"),this.getSceneRootView().addChild(a),this.getSceneRootView().addChild(this.mLoadingView);break;case o.x3793884777573381281x:if(this.getStateMachine().getCurrentStateElapsedTimeMSEC()<400)break;if(this.mGameMgr)if(this.getAppSupportFactory().getResourceMgr().isDoneLoading("game2")){switch(this.mGameMgr.getState()){case m.x3119648372935234602x:this.mGameMgr.startConstruct();break;case m.x3534944098651122926x:this.getUIInputMgr().manageControlsInView(this.getSceneRootView()),this.mGameMgr.initializeGame();break;case m.x3225346889494445863x:this.mGameMgr.getGame().addMessageListener(this),this.getStateMachine().setState(r.x2611234217100879428x)}this.mGameMgr.processTimeMSEC(s)}else this.getAppSupportFactory().getResourceMgr().processLoading();else{var u=this.x3146280315819528581x().x1666856027417448917x().getDictionaryWithKeyString("gameMgr");this.mGameMgr=new p(u,this.mOverrideNumNonAIPlayers,this.getAppSupportFactory(),this.getSceneRootView().getChildNamed("gameRootView"),S.getInstance()),this.mGameMgr.addMessageListener(this)}break;case o.x4149106650117426330x:this.mLoadingView.removeFromParent(),this.x1546495508514513272x().resetAvailableTime()}break;case r.x2611234217100879428x:e===o.x2982972318080668761x&&this.mGameMgr.startGame(),this.mGameMgr.processTimeMSEC(s);break;case r.x2938843279257104680x:if(e===o.x3793884777573381281x)if(this.getStateMachine().getCurrentStateElapsedTimeMSEC()>200)if(this.mIsCurrentGameAIDemoMode)this.getSceneMgr().setScene("mainMenu");else{var h=this.mGameMgr,g=!1,y=~~(.001*h.getPlayerAtIndex(0).getElapsedActiveGameTimeMSEC()),P=0,I=h.getPlayerAtIndex(0).getComponent(l.x2355730316075620282x);I&&(P=I.getScore());var v=0,M=h.getPlayerAtIndex(0).getComponent(c.x4314461242255220561x);M&&(g=0==M.getParams().getIntValue(c.x4064166878386413998x),v=M.getCurrentLevelIndex()+1);var V=x.stringFromInt(v,2,!1),T=h.getPlayerAtIndex(0).getControlComponent().x3633925409096558838x(),C=T.getController().getDirectInputMgr()?T.getController().getDirectInputMgr().getNumPiecesDeactivated():0,A=T.getController().getSmartInputMgr()?T.getController().getSmartInputMgr().getNumPiecesDeactivated():0,F=T.getController().getGestureInputMgr()?T.getController().getGestureInputMgr().getNumPiecesDeactivated():0,D="";if(D=C>=A&&C>=F?x.x1012796168335938419x("IGTNESLLLGZKIGKULH"):A>=C&&A>=F?d.isPlatformTouchBased()?x.x1012796168335938419x("VEDHOLTTJLMP"):x.x1012796168335938419x("MCTEMJJSEOBR"):F>=C&&F>=A?x.x1012796168335938419x("EDRSYHLPFMFP"):x.x1012796168335938419x("QCBNESQKUFUJ"),this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),x.x1012796168335938419x("LDZKKPTHYDSEESQRVEXQDE"),"",0,!1),this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),x.x1012796168335938419x("SEHHSLREMLGMNJHJVRBNFRTHAMAU"),"",y,!1),this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),x.x1012796168335938419x("ZFVOGTFMUHOIUFJFBJEFNIHEFI"),D,0,!1),g&&I){var k=0,L=0;P<=1e3?(k=100,L=0):P<=1e4?(k=1e3,L=9):(k=5e3,L=17);var w=~~(x.maxInt(0,P-1)/k),N=((w=x.minInt(w,999))+1)*k,b="("+x.stringFromInt(w+1+L,3,!1)+") "+x.stringFromInt(N,1,!0)+x.x1012796168335938419x("ADKIRNPSGOMSPOVL");this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),x.x1012796168335938419x("UGVMWQVJVFTIUFAQWEFSRFJSMFUOAKGH"),b,v,!1)}g&&M&&this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),x.x1012796168335938419x("EIGIGNUFGMOQNJIJCSVNYRCJANWE"),x.x1012796168335938419x("LIOQKFCOYJQNPG")+V,P,!1),this.x3146280315819528581x().trackGA4GameEvent("game_ended",{game_duration_seconds:y,game_control_type:D,game_score:P,game_level_reached_name:"Level-"+V,game_level_reached_number:v}),this.getMessageData().setIntValue(r.x2892439419860215725x,P),this.getMessageData().setIntValue(r.x3595929635695483516x,y),this.dispatchMessage(r.x4328140004478401849x,this,this.getMessageData()),this.x3146280315819528581x().getHighScoresMgr().getLastScoreIndex()>0&&this.getSceneMgr().getManagedScene(x.x1012796168335938419x("IEQQEEZHFSJHITGRIIBQKEOQMT"))?this.getSceneMgr().pushScene(x.x1012796168335938419x("IEQQEEZHFSJHITGRIIBQKEOQMT")):this.getSceneMgr().pushScene(x.x1012796168335938419x("LDFMKPTHYDNGBUHRJF"))}else this.mGameMgr.processTimeMSEC(s)}return t.prototype.x4574927063157401553x.call(this,e,i,n,s)},i(r,null,[{key:"kBPSTGSceneId_game",get:function(){return 2046887955}},{key:"x3119648372935234602x",get:function(){return 1}},{key:"x2263152915735900199x",get:function(){return 2}},{key:"x2611234217100879428x",get:function(){return 3}},{key:"x2938843279257104680x",get:function(){return 4}},{key:"x4110043456092473549x",get:function(){return 5}},{key:"x3255047416253198499x",get:function(){return 482412918}},{key:"x3573093351381495556x",get:function(){return 170765781}},{key:"x322552905160010707x",get:function(){return 1341701209}},{key:"x2745542302286582725x",get:function(){return 1220353036}},{key:"x4328140004478401849x",get:function(){return 1150189823}},{key:"x2892439419860215725x",get:function(){return 1026088449}},{key:"x3595929635695483516x",get:function(){return 818408153}},{key:"x3034051124824669690x",get:function(){return 150702894}},{key:"x1108196254073147599x",get:function(){return 1026088449}},{key:"x1806196572335029843x",get:function(){return 818408153}}]),r}(s)).sInstance=null,r._RF.pop()}}})),System.register("chunks:///_virtual/x2587429396298286948x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x3001588770202680173x.ts","./x2942546774025373449x.ts","./x1127813857485463346x.ts","./x2385793234846142307x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1879755377857057486x},function(t){r=t.x3001588770202680173x},function(t){s=t.x2942546774025373449x},function(t){a=t.x1127813857485463346x},function(t){o=t.x2385793234846142307x}],execute:function(){i._RF.push({},"2af9bpH0dVLopwVAs84xD70","x2587429396298286948x",void 0),t("x2587429396298286948x",function(t){function i(e,i){return t.call(this,"gameBreak",e,i)||this}e(i,t);var n=i.prototype;return n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},n.x1795041629124088167x=function(){},n.x2040832708660789557x=function(){var t=s.getInstance().getGameMgr().getPlayerAtIndex(0).getComponent(r.x4314461242255220561x);this.getSceneRootView().getDescendantNamed("message").setText("LEVEL "+t.getLevelDisplayNameForLevelIndex(t.getCurrentLevelIndex())+" COMPLETE!"),this.getSceneRootView().getDescendantNamed("menu").updateSize()},n.x2286393723489345176x=function(){},n.x2205753240179020188x=function(){},n.x829844150907370379x=function(){},n.x130462144329088844x=function(){},n.x2064865260925868963x=function(t){},n.x601562840631873202x=function(e,i,n){e==o.x1220349481777468123x&&"resume"==i.getName()&&this.getSceneMgr().popScene(),t.prototype.x601562840631873202x.call(this,e,i,n)},n.x2709359389131215735x=function(t,e,i){switch(t){case a.x1960163044591708132x:case a.x3716705742839152288x:return this.getSceneMgr().popScene(),!0}return!1},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3312962755128397901x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x1232577566642415821x.ts","./x702435451033209193x.ts","./x3026372372374902841x.ts","./x2385793234846142307x.ts","./x1870017049469742020x.ts","./x2942546774025373449x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1879755377857057486x},function(t){s=t.x1232577566642415821x},function(t){a=t.x702435451033209193x},function(t){o=t.x3026372372374902841x},function(t){x=t.x2385793234846142307x},function(t){u=t.x1870017049469742020x},function(t){c=t.x2942546774025373449x}],execute:function(){n._RF.push({},"221eeq6p/VA1IY/n+cPYTVW","x3312962755128397901x",void 0),t("x3312962755128397901x",function(t){function n(e,i){var n;(n=t.call(this,"gameOver",e,i)||this).mIsAIDemoModeEnabled=!1,n.mAIDemoModeAutoStartDelayMSEC=0;var r=i.getDictionaryWithKeyString("AIDemoMode");return r&&(n.mIsAIDemoModeEnabled=r.getBoolValueWithKeyStringPath("enabled"),n.mAIDemoModeAutoStartDelayMSEC=1e3*r.getIntValueWithKeyStringPath("autoStartDelaySEC")),n}e(n,t);var r=n.prototype;return r.performPlay=function(t){c.getInstance().setIsAIDemoModeEnabled(t,!0),this.getSceneMgr().setScene("game")},r.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},r.x1795041629124088167x=function(){var t=this.getSceneRootView().getDescendantNamed("ad");t&&t.addMessageListener(this)},r.x2040832708660789557x=function(){var t=this.getSceneRootView().getDescendantNamed("resultMessage1");if(t)switch(c.getInstance().getGameMgr().getPlayerAtIndex(0).getGameEndCondition()){case o.x4307882867729987397x:t.setText("YOU WON!");break;case o.x790306920451850578x:t.setText("YOU LOST!");break;case o.x271176509498905822x:t.setText("YOU TIED!");break;default:t.setText("")}var e=this.getSceneRootView().getDescendantNamed("resultMessage2");e&&e.setText("FIXME");var i=null,r=0,x=null;i=c.getInstance().getGameMgr().getPlayerAtIndex(0).getComponent(o.x3907464974367750351x),x=this.getSceneRootView().getDescendantNamed("p1LinesSent"),i&&x&&(r=i.getNumAttacksSent(),x.setText("YOUR LINES SENT: "+a.stringFromInt(r,1,!0)),i=c.getInstance().getGameMgr().getPlayerAtIndex(1).getComponent(o.x3907464974367750351x),x=this.getSceneRootView().getDescendantNamed("p2LinesSent"),i&&x&&(r=i.getNumAttacksSent(),x.setText("OPPONENT LINES SENT: "+a.stringFromInt(r,1,!0))));var l=this.getSceneRootView().getDescendantNamed("currentScore");if(l){var h=this.x3146280315819528581x().getHighScoresMgr().getLastScore();l.setText(this.getSceneParams().getStringValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSContainerView:resultViewContainer.children._BPSBitmapTextView:currentScore.text")+a.stringFromInt(h,1,!0))}var m=this.getSceneRootView().getDescendantNamed("highScore"),g,f;m&&(g=this.x3146280315819528581x().getHighScoresMgr().isLastScoreNewHighScore(),f=this.x3146280315819528581x().getHighScoresMgr().getHighScore(),g?m.setText(this.getSceneParams().getStringValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSContainerView:resultViewContainer.children._BPSBitmapTextView:highScore.text-newHighScore")):m.setText(this.getSceneParams().getStringValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSContainerView:resultViewContainer.children._BPSBitmapTextView:highScore.text")+a.stringFromInt(f,1,!0)));var d=this.getSceneRootView().getDescendantNamed("levelMessage");if(d){var p=this.x3146280315819528581x().getVSCPURecordsMgr().getMaxUnlockedLevelIndex(),S=this.x3146280315819528581x().getVSCPURecordsMgr().getMaxPossibleLevelIndex();this.x3146280315819528581x().getVSCPURecordsMgr().getGameOverLevelResult()===u.x3881694082021684113x?(p==S?d.setText("MAXIMUM LEVEL UNLOCKED!"):d.setText("LEVEL "+a.stringFromInt(p+1,1,!0)+" UNLOCKED!"),d.setIsVisible(!0)):p<S?(d.setText("BEAT LEVEL "+a.stringFromInt(p+1,1,!0)+" TO UNLOCK LEVEL "+a.stringFromInt(p+2,1,!0)+"!"),d.setIsVisible(!0)):(d.setText(""),d.setIsVisible(!1))}var y=this.getSceneRootView().getDescendantNamed("ad");y&&(y.setIsVisible(!1),y.setIsEnabled(!1)),this.getSceneRootView().updateLayout(!0),this.mIsAIDemoModeEnabled&&this.startTimer(this.mAIDemoModeAutoStartDelayMSEC,this,n.x2681783118248206103x),this.getUIInputMgr().unmapInputAction(n.x3577016744767019766x),this.x1546495508514513272x().getStartGameDeviceControlString()&&""!=this.x1546495508514513272x().getStartGameDeviceControlString()?this.getUIInputMgr().mapDeviceControlString(this.x1546495508514513272x().getStartGameDeviceControlString(),n.x3577016744767019766x,!1):(this.getUIInputMgr().mapDeviceControl(s.x4234934191319707258x,s.x617777370107070199x,n.x3577016744767019766x,!1),this.getUIInputMgr().mapDeviceControl(s.x4234934191319707258x,s.x2982772486876334107x,n.x3577016744767019766x,!1),this.getUIInputMgr().mapDeviceControl(s.x4234934191319707258x,s.x996033665766562016x,n.x3577016744767019766x,!1))},r.x2286393723489345176x=function(){if(this.cancelTimer(n.x2681783118248206103x),window)try{window.parent.refreshAds("GameOverExited",-1)}catch(t){}},r.x2205753240179020188x=function(){this.cancelTimer(n.x2681783118248206103x)},r.x829844150907370379x=function(){this.mIsAIDemoModeEnabled&&this.startTimer(this.mAIDemoModeAutoStartDelayMSEC,this,n.x2681783118248206103x)},r.x130462144329088844x=function(){},r.x2064865260925868963x=function(t){var e=this.getSceneParams().getIntValueWithDefault(a.stringToValueKey("autoPlayDelayMSEC"),-1);e>0&&this.getElapsedActiveTimeMSEC()>e&&this.performPlay(!1)},r.x601562840631873202x=function(e,i,r){switch(e){case x.x1220349481777468123x:var s=i.getName();"play"==s?this.performPlay(!1):"mainMenu"==s?(this.dispatchMessage(n.x2207665964080005623x,this,null),this.getSceneMgr().setScene("mainMenu")):"ad"==s||"moreGames"==s&&(this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),"Clicked Button","Game Over: More Games",0,!1),this.x3146280315819528581x().trackGA4GameEvent("game_button_clicked",{game_button_name:"Game Over: More Games"}),this.getSceneMgr().pushScene("moreGames"));break;case n.x2681783118248206103x:this.performPlay(!0)}t.prototype.x601562840631873202x.call(this,e,i,r)},r.x4114393324539293585x=function(t,e,i,r){this.mIsAIDemoModeEnabled&&this.resetTimer(n.x2681783118248206103x)},r.x2709359389131215735x=function(t,e,i){return this.getElapsedActiveTimeMSEC()>500&&t===n.x3577016744767019766x&&(this.performPlay(!1),!0)},r.x1928504666025035685x=function(t,e,i,n){return t===s.x4234934191319707258x&&(this.getElapsedActiveTimeMSEC()>500&&(this.x1546495508514513272x().getStartGameDeviceControlString()&&""!=this.x1546495508514513272x().getStartGameDeviceControlString()||!this.getSceneParams().getBoolValue(a.stringToValueKey("allowAnyKeyToPlay"))||this.performPlay(!1)),!0)},i(n,null,[{key:"kBPSTGSceneId_gameOver",get:function(){return 1553907399}},{key:"x2207665964080005623x",get:function(){return 1263123252}},{key:"x3577016744767019766x",get:function(){return 62484675}},{key:"x2681783118248206103x",get:function(){return 391207929}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x2853229855084766129x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x702435451033209193x.ts","./x2385793234846142307x.ts","./x1127813857485463346x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1879755377857057486x},function(t){r=t.x702435451033209193x},function(t){s=t.x2385793234846142307x},function(t){a=t.x1127813857485463346x}],execute:function(){i._RF.push({},"a6fbaoupIxBBK6tNlmkO1Dc","x2853229855084766129x",void 0),t("x2853229855084766129x",function(t){function i(e,i){return t.call(this,"gamePaused",e,i)||this}e(i,t);var n=i.prototype;return n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},n.x1795041629124088167x=function(){this.getSceneParams().getBoolValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:options.enabled")||this.getSceneRootView().removeDescendantNamed("options")},n.x2040832708660789557x=function(){if(window)try{window.parent.refreshAds("GamePaused",-1)}catch(t){}},n.x2286393723489345176x=function(){if(window)try{window.parent.refreshAds("GameUnpaused",-1)}catch(t){}},n.x2205753240179020188x=function(){},n.x829844150907370379x=function(){if("confirm"==this.getSceneMgr().getPreviousSceneName()){var t=this.getSceneMgr().getManagedScene("confirm");"quit"==t.getAction()&&t.getDidConfirm()&&this.getSceneMgr().setScene("mainMenu")}},n.x130462144329088844x=function(){},n.x2064865260925868963x=function(t){},n.x601562840631873202x=function(e,i,n){if(e==s.x1220349481777468123x){var a=i.getName();if("resume"==a)this.getSceneMgr().popScene();else if("options"==a)this.getSceneMgr().pushScene("options");else if("help"==a)this.getSceneMgr().pushScene("help");else if("quit"==a){var o=this.getSceneMgr().getManagedScene("confirm");o.setMessage(this.getSceneParams().getStringValue(r.stringToValueKey("confirmQuitMessage"))),o.setAction("quit"),this.getSceneMgr().pushScene("confirm")}}t.prototype.x601562840631873202x.call(this,e,i,n)},n.x2709359389131215735x=function(t,e,i){return t===a.x3716705742839152288x&&(this.getSceneMgr().popScene(),!0)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3167295016086187989x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x702435451033209193x.ts","./x2385793234846142307x.ts","./x1127813857485463346x.ts","./x2109210492123306036x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1879755377857057486x},function(t){r=t.x702435451033209193x},function(t){s=t.x2385793234846142307x},function(t){a=t.x1127813857485463346x},function(t){o=t.x2109210492123306036x}],execute:function(){i._RF.push({},"72a58t49CBBK4CmB8U8BmqB","x3167295016086187989x",void 0),t("x3167295016086187989x",function(t){function i(e,i){var n;return(n=t.call(this,"help",e,i)||this).mPages=null,n.mPrevButton=null,n.mNextButton=null,n.mDontShowHelpAtStartButton=null,n.mCurrentPage=-1,n}e(i,t);var n=i.prototype;return n.setPage=function(t){if(t=o.clampInt(t,0,this.mPages.getNumChildren()),this.mCurrentPage!=t){this.mCurrentPage=t;for(var e=this.mPages.getNumChildren(),i=0;i<e;i++)this.mPages.getChildAtIndex(i).setIsVisible(i==this.mCurrentPage);this.mPrevButton.setIsEnabled(this.mCurrentPage>0),this.mNextButton.setIsEnabled(this.mCurrentPage<e-1)}},n.x1721113016797186854x=function(){this.mNextButton&&this.mNextButton.release(),this.mNextButton=null,this.mPrevButton&&this.mPrevButton.release(),this.mPrevButton=null,t.prototype.x1721113016797186854x.call(this)},n.x1795041629124088167x=function(){this.mPages=this.getSceneRootView().getDescendantNamed("pages");for(var t=0;t<this.mPages.getNumChildren();){var e=this.mPages.getChildAtIndex(t);e.getSpriteFrame()?t++:this.mPages.removeChild(e)}this.mPrevButton=this.getSceneRootView().getDescendantNamed("prev"),this.mPrevButton.retain(),this.mNextButton=this.getSceneRootView().getDescendantNamed("next"),this.mNextButton.retain(),this.mPages.getNumChildren()<=1&&(this.mPrevButton.removeFromParent(),this.mNextButton.removeFromParent());var i=this.getSceneRootView().getDescendantNamed("dontShowHelpAtStart");this.getSceneParams().getBoolValue(r.stringToValueKey("enableDontShowAtStartButton"))&&!this.x1546495508514513272x().getPrefsBool("dontShowHelpAtStart",!0)?(this.mDontShowHelpAtStartButton=i.getDescendantNamed("button_dontShowHelpAtStart"),this.mDontShowHelpAtStartButton.setIsOn(!1),this.mDontShowHelpAtStartButton.addMessageListener(this)):(i.retain(),i.removeFromParent(),i.release(),i=null)},n.x2040832708660789557x=function(){this.setPage(0)},n.x2286393723489345176x=function(){var t=this.getSceneRootView().getDescendantNamed("dontShowHelpAtStart");t&&(t.retain(),t.removeFromParent(),t.release(),t=null)},n.x2205753240179020188x=function(){},n.x829844150907370379x=function(){},n.x130462144329088844x=function(){},n.x2064865260925868963x=function(t){},n.x601562840631873202x=function(e,i,n){if(e==s.x1220349481777468123x){var r=i.getName();if("prev"==r)this.setPage(this.mCurrentPage-1);else if("next"==r)this.setPage(this.mCurrentPage+1);else if("done"==r)this.getSceneMgr().popScene();else if("button_dontShowHelpAtStart"==r){var a=!this.x1546495508514513272x().getPrefsBool("dontShowHelpAtStart",!1);this.mDontShowHelpAtStartButton.setIsOn(a),this.x1546495508514513272x().setPrefsBool("dontShowHelpAtStart",a),this.x1546495508514513272x().savePrefs()}}t.prototype.x601562840631873202x.call(this,e,i,n)},n.x2709359389131215735x=function(t,e,i){return t===a.x3716705742839152288x&&(this.getSceneMgr().popScene(),!0)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x3199552859489220262x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x1413698088565076133x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.assertThisInitialized},function(t){n=t.cclegacy},function(t){r=t.x1879755377857057486x},function(t){s=t.x1413698088565076133x}],execute:function(){n._RF.push({},"581f6yVgrZB8JLi8QgnO6fA","x3199552859489220262x",void 0),t("x3199552859489220262x",function(t){function n(e,n){var r;(r=t.call(this,"interstitialAd",e,n)||this).mIsAdEnabled=!1,r.mIsAdDone=!1,e.addMessageListener(i(r));try{r.mIsAdEnabled=window.isGameAreaAdEnabled()}catch(t){r.mIsAdEnabled=!1}return r}e(n,t);var r=n.prototype;return r.x1721113016797186854x=function(){this.x1546495508514513272x().removeMessageListener(this),t.prototype.x1721113016797186854x.call(this)},r.x1795041629124088167x=function(){},r.x2040832708660789557x=function(){if(this.mIsAdEnabled){this.mIsAdDone=!1;try{window.showGameAreaAd()}catch(t){this.mIsAdDone=!0}}else this.mIsAdDone=!0},r.x2286393723489345176x=function(){},r.x2205753240179020188x=function(){},r.x829844150907370379x=function(){},r.x130462144329088844x=function(){},r.x2064865260925868963x=function(t){this.getSceneState()==s.x2896128441063749266x&&this.mIsAdDone&&this.getSceneMgr().popScene()},r.x601562840631873202x=function(e,i,n){i==this.x3146280315819528581x()&&979287055==e&&(this.mIsAdDone=!0),t.prototype.x601562840631873202x.call(this,e,i,n)},r.x2709359389131215735x=function(t,e,i){return!1},n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3511163715838271818x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x4016911264059163956x.ts","./x1232577566642415821x.ts","./x702435451033209193x.ts","./x2109210492123306036x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.inheritsLoose,i=t.assertThisInitialized},function(t){n=t.cclegacy},function(t){r=t.x1879755377857057486x},function(t){s=t.x4016911264059163956x},function(t){a=t.x1232577566642415821x},function(t){o=t.x702435451033209193x},function(t){x=t.x2109210492123306036x}],execute:function(){n._RF.push({},"5ab96sTwM1OpIVbCAepbmiv","x3511163715838271818x",void 0),t("x3511163715838271818x",function(t){function n(e,n){var r;return(r=t.call(this,"loading",e,n)||this).mIsVisible=!0,r.mElapsedVisibleTimeMSEC=0,e.addMessageListener(i(r)),r}e(n,t);var r=n.prototype;return r.tryGoToNextScene=function(){this.x1546495508514513272x().getAppState()===s.x2739126625493833788x&&this.exit()},r.x1721113016797186854x=function(){this.x1546495508514513272x().removeMessageListener(this),t.prototype.x1721113016797186854x.call(this)},r.x2040832708660789557x=function(){try{this.mIsVisible=!window.isGameAreaAdActive()}catch(t){this.mIsVisible=!0}},r.x2286393723489345176x=function(){this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),o.x1012796168335938419x("DHSLMQTIGESIJBJRPFXQLFORWEWM"),"",0,!1);var t=this.x1546495508514513272x().getPrefsInt(o.x1012796168335938419x("UHUQOFZILEZHZEBRNFYQYEZRWEYNUJ"),0);t++,this.x1546495508514513272x().setPrefsInt(o.x1012796168335938419x("NISHQMBQNLBPLLZHNRWHAMXIYLKUWQ"),t),this.x1546495508514513272x().savePrefs(),this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),o.x1012796168335938419x("RJGPQEJMVHZLJICDAIUEDGCEWIHRUMCLES"),x.concatStrings(o.stringFromInt(t,0,!1),1==t?o.x1012796168335938419x("AEQHDNJGUSRFTSZP"):o.x1012796168335938419x("IAWGZMPFASNFZRVP")),0,!1),this.x3146280315819528581x().trackGA4GameEvent("game_session_started",{player_game_sessions_count:t}),this.getSceneRootView().removeAllChildren(!0)},r.x2205753240179020188x=function(){},r.x829844150907370379x=function(){},r.x130462144329088844x=function(){},r.x2064865260925868963x=function(t){this.mIsVisible&&(this.mElapsedVisibleTimeMSEC+=t,this.mElapsedVisibleTimeMSEC>=1500&&this.tryGoToNextScene())},r.x601562840631873202x=function(e,i,n){i==this.x3146280315819528581x()&&979287055==e&&(this.mIsVisible=!0),t.prototype.x601562840631873202x.call(this,e,i,n)},r.x2709359389131215735x=function(t,e,i){return!1},r.x1928504666025035685x=function(t,e,i,n){switch(t){case a.x4234934191319707258x:case a.x682881226454308741x:case a.x273326733444963739x:return this.mIsVisible&&this.mElapsedVisibleTimeMSEC>=500&&this.tryGoToNextScene(),!0}return!1},n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1547471133553058676x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x1232577566642415821x.ts","./x702435451033209193x.ts","./x3001588770202680173x.ts","./x2385793234846142307x.ts","./x2109210492123306036x.ts","./x2942546774025373449x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1879755377857057486x},function(t){s=t.x1232577566642415821x},function(t){a=t.x702435451033209193x},function(t){o=t.x3001588770202680173x},function(t){x=t.x2385793234846142307x},function(t){u=t.x2109210492123306036x},function(t){c=t.x2942546774025373449x}],execute:function(){n._RF.push({},"023cdE2K3pB1JSXJ9Xa/Ixq","x1547471133553058676x",void 0),t("x1547471133553058676x",function(t){function n(e,i){var n;(n=t.call(this,"mainMenu",e,i)||this).mStartingLevelIndex=0,n.mMenuButton_level=null,n.mDidHandleShowHelp=!1,n.mIsAIDemoModeEnabled=!1,n.mAIDemoModeAutoStartDelayMSEC=0;var r=i.getDictionaryWithKeyString("AIDemoMode");return r&&(n.mIsAIDemoModeEnabled=r.getBoolValueWithKeyStringPath("enabled"),n.mAIDemoModeAutoStartDelayMSEC=1e3*r.getIntValueWithKeyStringPath("autoStartDelaySEC")),n.setStartingLevelIndex(n.x3146280315819528581x().x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.levels.params").getIntValue(o.x4064166878386413998x)),n}e(n,t);var r=n.prototype;return r.setStartingLevelIndex=function(t){var e=this.x3146280315819528581x().x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.levels.params").getDictionary(o.x441021653671184498x);e?(this.mStartingLevelIndex=u.minInt(t,e.getNumValues()-1),this.updateLevelButton()):this.mStartingLevelIndex=0},r.getActualStartingLevelIndex=function(){return this.x3146280315819528581x().getOnboardingMgr().isOnboardingRequiredAndIncomplete()?0:this.x3146280315819528581x().getOnboardingMgr().getDummyLevelsComponent().getBaseStartingLevelIndex()+this.mStartingLevelIndex},r.updateLevelButton=function(){if(this.mMenuButton_level||(this.mMenuButton_level=this.getSceneRootView().getDescendantNamed("level")),this.mMenuButton_level){var t=this.x3146280315819528581x().x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.levels.params").getDictionary(o.x441021653671184498x),e=this.getSceneParams().getStringValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:level.offText")+t.getDictionaryAtIndex(this.getActualStartingLevelIndex()).getStringValue(o.x4592309840632940843x);this.mMenuButton_level.setButtonText(e,""),this.mMenuButton_level.setIsEnabled(!this.x3146280315819528581x().getOnboardingMgr().isOnboardingRequiredAndIncomplete())}},r.updateStartGameControl=function(){this.getUIInputMgr().unmapInputAction(n.x3577016744767019766x),this.x1546495508514513272x().getStartGameDeviceControlString()&&""!=this.x1546495508514513272x().getStartGameDeviceControlString()?this.getUIInputMgr().mapDeviceControlString(this.x1546495508514513272x().getStartGameDeviceControlString(),n.x3577016744767019766x,!1):(this.getUIInputMgr().mapDeviceControl(s.x4234934191319707258x,s.x617777370107070199x,n.x3577016744767019766x,!1),this.getUIInputMgr().mapDeviceControl(s.x4234934191319707258x,s.x2982772486876334107x,n.x3577016744767019766x,!1),this.getUIInputMgr().mapDeviceControl(s.x4234934191319707258x,s.x996033665766562016x,n.x3577016744767019766x,!1))},r.performPlay=function(t){this.x3146280315819528581x().x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.levels.params").setIntValue(o.x4064166878386413998x,this.getActualStartingLevelIndex()),c.getInstance().setIsAIDemoModeEnabled(t,!0),this.getSceneMgr().setScene("game")},r.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},r.x1795041629124088167x=function(){this.getSceneParams().getValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:level")&&(this.getSceneParams().getBoolValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:level.enabled")||this.getSceneRootView().removeDescendantNamed("level"))},r.x2040832708660789557x=function(){if(this.updateLevelButton(),!this.mDidHandleShowHelp){var t=this.getSceneMgr().getManagedScene("help"),e=this.x1546495508514513272x().hasPrefsKey("dontShowHelpAtStart");!this.getSceneParams().getBoolValue(a.stringToValueKey("showHelpAtStart"))||e&&this.x1546495508514513272x().getPrefsBool("dontShowHelpAtStart",!0)?t.getSceneParams().setBoolValue(a.stringToValueKey("enableDontShowAtStartButton"),!1):(this.getSceneMgr().pushScene("help"),e||(this.x1546495508514513272x().setPrefsBool("dontShowHelpAtStart",!1),this.x1546495508514513272x().savePrefs())),this.mDidHandleShowHelp=!0}this.mIsAIDemoModeEnabled&&this.startTimer(this.mAIDemoModeAutoStartDelayMSEC,this,n.x2681783118248206103x),this.updateStartGameControl()},r.x2286393723489345176x=function(){this.cancelTimer(n.x2681783118248206103x)},r.x2205753240179020188x=function(){this.cancelTimer(n.x2681783118248206103x)},r.x829844150907370379x=function(){this.updateLevelButton(),this.updateStartGameControl(),this.mIsAIDemoModeEnabled&&this.startTimer(this.mAIDemoModeAutoStartDelayMSEC,this,n.x2681783118248206103x)},r.x130462144329088844x=function(){},r.x2064865260925868963x=function(t){},r.x601562840631873202x=function(e,i,r){switch(e){case x.x1220349481777468123x:var s=i.getName();if(s==a.x1012796168335938419x("JHCMZPLHKU"))this.performPlay(!1);else if(s==a.x1012796168335938419x("SIYJSNGGGSUF")){var o=this.getSceneParams().getIntValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:level.incrementValue"),c=this.mStartingLevelIndex;if(c<o-1)c=o-1;else{var l=this.getSceneParams().getIntValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:level.maxLevelIndex");c=u.loopClampedInt(c+o,0,l)}this.setStartingLevelIndex(c)}else s==a.x1012796168335938419x("JBVGXKCTQJXNTJVH")?this.getSceneMgr().pushScene(a.x1012796168335938419x("ACHHTKOTAPHTDPPM")):s==a.x1012796168335938419x("IDGMEQIIJE")?this.getSceneMgr().pushScene(a.x1012796168335938419x("NECSGFEOFK")):"moreGames"==s&&(this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),"Clicked Button","Main Menu: More Games",0,!1),this.x3146280315819528581x().trackGA4GameEvent("game_button_clicked",{game_button_name:"Main Menu: More Games"}),this.getSceneMgr().pushScene("moreGames"));break;case n.x2681783118248206103x:this.performPlay(!0)}t.prototype.x601562840631873202x.call(this,e,i,r)},r.x4114393324539293585x=function(t,e,i,r){this.mIsAIDemoModeEnabled&&this.resetTimer(n.x2681783118248206103x)},r.x2709359389131215735x=function(t,e,i){return t===n.x3577016744767019766x&&(this.performPlay(!1),!0)},r.x1928504666025035685x=function(t,e,i,n){return t===s.x4234934191319707258x&&(this.x1546495508514513272x().getStartGameDeviceControlString()&&""!=this.x1546495508514513272x().getStartGameDeviceControlString()||!this.getSceneParams().getBoolValue(a.stringToValueKey("allowAnyKeyToPlay"))||this.performPlay(!1),!0)},i(n,null,[{key:"kBPSTGSceneId_mainMenu",get:function(){return 1413682297}},{key:"x3577016744767019766x",get:function(){return 62484675}},{key:"x2681783118248206103x",get:function(){return 391207929}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3626506752150642560x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x1442954324271535409x.ts","./x2385793234846142307x.ts","./x1127813857485463346x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1879755377857057486x},function(t){r=t.x1442954324271535409x},function(t){s=t.x2385793234846142307x},function(t){a=t.x1127813857485463346x}],execute:function(){i._RF.push({},"d40ccoCCA1LMIuMhT1PeQPn","x3626506752150642560x",void 0),t("x3626506752150642560x",function(t){function i(e,i){return t.call(this,"moreGames",e,i)||this}e(i,t);var n=i.prototype;return n.performGameButtonClick=function(t){this.x3146280315819528581x().trackGUAEvent(this.x3146280315819528581x().getGUAEventCategory(),"Clicked Button","More Games: "+t,0,!1),this.x3146280315819528581x().trackGA4GameEvent("game_button_clicked",{game_button_name:"More Games: "+t});var e=this.getSceneParams().getStringValueWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content._BPSUIButton:"+t+".URL");r.openURL(e,!1)},n.performDone=function(){this.getSceneMgr().popScene()},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},n.x2040832708660789557x=function(){},n.x2286393723489345176x=function(){},n.x2205753240179020188x=function(){},n.x829844150907370379x=function(){},n.x130462144329088844x=function(){},n.x2064865260925868963x=function(t){},n.x601562840631873202x=function(e,i,n){if(e==s.x1220349481777468123x){var r=i.getName();"done"==r?this.performDone():this.performGameButtonClick(r)}t.prototype.x601562840631873202x.call(this,e,i,n)},n.x2709359389131215735x=function(t,e,i){return t===a.x3716705742839152288x&&(this.performDone(),!0)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x56028271071371983x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x1232577566642415821x.ts","./x702435451033209193x.ts","./x2385793234846142307x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1879755377857057486x},function(t){s=t.x1232577566642415821x},function(t){a=t.x702435451033209193x},function(t){o=t.x2385793234846142307x}],execute:function(){n._RF.push({},"c2453l9U8RDJ45+ZEDCbQSm","x56028271071371983x",void 0),t("x56028271071371983x",function(t){function n(e,i){var r;(r=t.call(this,"newHighScore",e,i)||this).mNameView=null,r.mName="",r.mResetNameOnNextKey=!1;var s=i.getStringValueWithKeyStringPath("nameEntry.method");return r.mNameEntryMethod=s&&""!=s?a.stringToHash32(s):n.x2059997036888047203x,r.mDisplayNameBlinkRateMSEC=300,r.mDisplayNameBlinkTimerMSEC=0,r.mDisplayNameBlinkState=!1,r}e(n,t);var r=n.prototype;return r.resetName=function(){this.setName(""),this.mResetNameOnNextKey=!1},r.setName=function(t){this.mName=a.stringToUpperCase(t),this.updateDisplayName()},r.updateDisplayName=function(){if(this.mNameView){var t,e=this.mName.length;switch(this.mCurrentLetterIndex){case 0:case 1:case 2:var i=e>0?a.substringWithRange(this.mName,0,1):"",n=e>1?a.substringWithRange(this.mName,1,2):"",r=e>2?a.substringWithRange(this.mName,2,3):"";switch(this.mCurrentLetterIndex){case 0:i=this.mDisplayNameBlinkState?"_":i;break;case 1:n=this.mDisplayNameBlinkState?"_":n;break;case 2:r=this.mDisplayNameBlinkState?"_":r}t=i+n+r;break;default:t=a.stringToUpperCase(this.mName)}this.mNameView.setText(t)}},r.performSaveAndExit=function(){var t=this.x3146280315819528581x().getHighScoresMgr().getLastScoreIndex();this.x3146280315819528581x().getHighScoresMgr().setNameForIndex(t,this.mName,!0),this.getSceneMgr().swapScene("gameOver")},r.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},r.x2040832708660789557x=function(){var t=this.x3146280315819528581x().getHighScoresMgr().getLastScoreIndex();switch(this.getSceneRootView().getDescendantNamed("score").setText(this.x3146280315819528581x().getHighScoresMgr().getScoreStringForIndex(t)),this.mNameView=this.getSceneRootView().getDescendantNamed("name"),this.mNameEntryMethod){case n.x2059997036888047203x:this.setName(this.x3146280315819528581x().getHighScoresMgr().getNameForIndex(t)),this.mResetNameOnNextKey=this.mName&&""!=this.mName;break;case n.x1294369503896042333x:this.mCurrentLetterIndex=0,this.mDisplayNameBlinkTimerMSEC=this.mDisplayNameBlinkRateMSEC,this.setName("AAA"),this.mResetNameOnNextKey=!1}if(this.startTimer(1e3*this.getSceneParams().getIntValueWithDefault(n.x3810816303847854489x,-1),this,n.x4117674194996356713x),this.getUIInputMgr().unmapInputAction(n.x3577016744767019766x),this.mNameEntryMethod===n.x1294369503896042333x){var e=this.x1546495508514513272x().x1666856027417448917x().getDictionaryWithKeyStringPath("application.scenes.newHighScore").getDictionary(n.x3047785820324759785x);this.getUIInputMgr().mapDeviceControlString(e.getStringValue(n.x3134797064660478948x),n.x4493831236470204259x,!0),this.getUIInputMgr().mapDeviceControlString(e.getStringValue(n.x2647830579065071842x),n.x3865560782662456766x,!0),this.getUIInputMgr().mapDeviceControlString(e.getStringValue(n.x360975633884951159x),n.x2988158133554023405x,!0)}else this.x1546495508514513272x().getStartGameDeviceControlString()&&""!=this.x1546495508514513272x().getStartGameDeviceControlString()?this.getUIInputMgr().mapDeviceControlString(this.x1546495508514513272x().getStartGameDeviceControlString(),n.x3577016744767019766x,!1):(this.getUIInputMgr().mapDeviceControl(s.x4234934191319707258x,s.x617777370107070199x,n.x3577016744767019766x,!1),this.getUIInputMgr().mapDeviceControl(s.x4234934191319707258x,s.x2982772486876334107x,n.x3577016744767019766x,!1),this.getUIInputMgr().mapDeviceControl(s.x4234934191319707258x,s.x996033665766562016x,n.x3577016744767019766x,!1))},r.x2286393723489345176x=function(){},r.x2205753240179020188x=function(){},r.x829844150907370379x=function(){},r.x130462144329088844x=function(){},r.x2064865260925868963x=function(t){this.mNameEntryMethod===n.x1294369503896042333x&&(this.mDisplayNameBlinkTimerMSEC-=t,this.mDisplayNameBlinkTimerMSEC<0&&(this.mDisplayNameBlinkTimerMSEC+=this.mDisplayNameBlinkRateMSEC,this.mDisplayNameBlinkState=!this.mDisplayNameBlinkState,this.updateDisplayName()))},r.x601562840631873202x=function(e,i,r){switch(e){case o.x1220349481777468123x:"ok"==i.getName()&&this.performSaveAndExit();break;case n.x4117674194996356713x:this.performSaveAndExit()}t.prototype.x601562840631873202x.call(this,e,i,r)},r.x4114393324539293585x=function(t,e,i,r){this.resetTimer(n.x4117674194996356713x)},r.x4362136013151176600x=function(t,e,i,r){this.resetTimer(n.x4117674194996356713x)},r.x2052535492842291814x=function(t,e,i,r){this.resetTimer(n.x4117674194996356713x)},r.x2709359389131215735x=function(t,e,i){if(this.getElapsedActiveTimeMSEC()>500)switch(t){case n.x3577016744767019766x:return this.performSaveAndExit(),!0;case n.x4493831236470204259x:case n.x3865560782662456766x:case n.x2988158133554023405x:var r=this.mName;switch(t){case n.x4493831236470204259x:case n.x3865560782662456766x:var s=this.mName.charCodeAt(this.mCurrentLetterIndex);switch(s=a.loopClampedInt(s+(t==n.x4493831236470204259x?1:-1),65,90),mCurrentLetterIndex){case 0:r=String.fromCharCode(s,r.charCodeAt(1),r.charCodeAt(2));break;case 1:r=String.fromCharCode(r.charCodeAt(0),s,r.charCodeAt(2));break;case 2:r=String.fromCharCode(r.charCodeAt(0),r.charCodeAt(1),s)}return this.setName(r),!0;case n.x2988158133554023405x:return this.mCurrentLetterIndex<2?this.mCurrentLetterIndex++:this.performSaveAndExit(),!0}}return!1},r.x1928504666025035685x=function(t,e,i,r){if(t===s.x4234934191319707258x){if(this.getElapsedActiveTimeMSEC()>500)if(this.mNameView){if(this.mNameEntryMethod===n.x2059997036888047203x)switch(e){case s.x617777370107070199x:case s.x2982772486876334107x:this.performSaveAndExit();break;case s.x1036968105948898022x:this.mName&&""!=this.mName&&this.resetName();break;default:e===s.x3365840888754725140x?(this.mResetNameOnNextKey&&this.resetName(),this.mName&&""!=this.mName&&this.setName(a.substringToIndex(this.mName,this.mName.length-1))):s.isAlphanumericKeyboardControlId(e)&&(this.mResetNameOnNextKey&&this.resetName(),this.mName.length<3&&this.setName(this.mName+s.getDisplayNameForKeyboardControl(e)))}}else this.x1546495508514513272x().getStartGameDeviceControlString()&&""!=this.x1546495508514513272x().getStartGameDeviceControlString()||!this.getSceneParams().getBoolValue(a.stringToValueKey("allowAnyKeyToPlay"))||this.performSaveAndExit();return!0}return!1},i(n,null,[{key:"x3810816303847854489x",get:function(){return 1750210965}},{key:"x3047785820324759785x",get:function(){return 1529826102}},{key:"kParamKeyString_nameEntry_method",get:function(){return 1369281618}},{key:"x3134797064660478948x",get:function(){return 1506978071}},{key:"x2647830579065071842x",get:function(){return 1200155697}},{key:"x360975633884951159x",get:function(){return 1656605349}},{key:"x4117674194996356713x",get:function(){return 674240520}},{key:"kNameEntryMethod_disabled",get:function(){return 794494701}},{key:"x2059997036888047203x",get:function(){return 1822212600}},{key:"x1294369503896042333x",get:function(){return 538479745}},{key:"x3577016744767019766x",get:function(){return 62484675}},{key:"x4493831236470204259x",get:function(){return 385910113}},{key:"x3865560782662456766x",get:function(){return 1735968455}},{key:"x2988158133554023405x",get:function(){return 977650003}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1050156846452418517x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1879755377857057486x.ts","./x3693760142138385085x.ts","./x1232577566642415821x.ts","./x2205868517935256955x.ts","./x702435451033209193x.ts","./x3807920460184414210x.ts","./x982037128155278742x.ts","./x49008801373907804x.ts","./x1442954324271535409x.ts","./x1824733160648178692x.ts","./x160249411363356178x.ts","./x2385793234846142307x.ts","./x1127813857485463346x.ts","./x295234079426945939x.ts","./x832175137056958511x.ts","./x2109210492123306036x.ts","./x2513491171780780505x.ts","./x179266263294073309x.ts","./x1076475369105234232x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g,f,d,p,S,y,P,I,v,M;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x1879755377857057486x},function(t){a=t.x3693760142138385085x},function(t){o=t.x1232577566642415821x},function(t){x=t.x2205868517935256955x},function(t){u=t.x702435451033209193x},function(t){c=t.x3807920460184414210x},function(t){l=t.x982037128155278742x},function(t){h=t.x49008801373907804x},function(t){m=t.x1442954324271535409x},function(t){g=t.x1824733160648178692x},function(t){f=t.x160249411363356178x},function(t){d=t.x2385793234846142307x},function(t){p=t.x1127813857485463346x},function(t){S=t.x295234079426945939x},function(t){y=t.x832175137056958511x},function(t){P=t.x2109210492123306036x},function(t){I=t.x2513491171780780505x},function(t){v=t.x179266263294073309x},function(t){M=t.x1076475369105234232x}],execute:function(){r._RF.push({},"4bcc7oZcoRMaYxDNX1Ud0Qm","x1050156846452418517x",void 0),t("x1050156846452418517x",function(t){function r(e,i){var s;return(s=t.call(this,"options",e,i)||this).mOptionsItemsParams=i.getDictionaryWithKeyStringPath("viewHierarchy.views._BPSUIPanel:menu.content"),s.mLocalOptionsItemsValues=new a(!0),s.mPreviousLocalOptionsItemsValues=new a(!0),s.mDispatchChangeDictionary=new a(!1),s.mNumPlayers=e.x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.game.params").getIntValue(h.x8726347257553262x),s.mPlayerIndex=0,s.mPlayerIndexStepper=null,s.mPendingControlIdItemParams=null,s.mPendingControlIdItemButton=null,e.addMessageListener(n(s)),r.sInstance=n(s),s}e(r,t),r.getInstance=function(){return r.sInstance};var s=r.prototype;return s.getOptionsSavedDataId=function(){return this.x3146280315819528581x().getSavedDataId()+"-options"},s.resetSavedOptionsData=function(){this.mLocalOptionsItemsValues.removeAllValues(),this.mLocalOptionsItemsValues.setIntValue(u.stringToValueKey(u.x1012796168335938419x("JELJNNOFERHFJMLKJRVNJSHOYRDFDR")),r.x3591880977658352399x),this.saveLocalValues(),this.loadLocalValuesFromPrefs(!1)},s.loadLocalValuesFromPrefs=function(t){var e=new a(!0),i=this.x1546495508514513272x().getPrefsString(this.getOptionsSavedDataId(),"");e.parseJSONString(i,!0,!0);var n=e.getIntValueWithDefault(u.stringToValueKey(u.x1012796168335938419x("OCRMTQUIMPTTPPRNLEBRLFPMQPJIJU")),0);for(this.migrateLegacyControlItemsV11(e);n<r.x3591880977658352399x;)n=r.x3591880977658352399x;var s=null,o="",x="",c=0,l=null,h=0,m=this.mOptionsItemsParams.getNumValues();this.mLocalOptionsItemsValues.removeAllValues(),this.mLocalOptionsItemsValues.setIntValue(u.stringToValueKey(u.x1012796168335938419x("JELJNNOFERHFJMLKJRVNJSHOYRDFDR")),r.x3591880977658352399x);var g=null;for(h=0;h<m;h++)if(s=this.mOptionsItemsParams.getDictionaryAtIndex(h),o=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(h)),this.isEnabledOptionsItem(s,o)){for(var f=this.isItemPerPlayer(s)?this.mNumPlayers:1,d=0;d<f;d++)if(x=this.getItemPathInOptions(s,d),c=this.getItemType(s),g=this.mLocalOptionsItemsValues.insertValueWithKeyStringPath(x,c),l=e.getValueWithKeyStringPath(x))g.copyValue(l);else{var p=this.getDefaultValueEntry(s,d);g.copyValue(p)}if(1211591272==u.stringToValueKey(o)){var S=.01*g.getValue();this.x1546495508514513272x().setSoundEffectsVolume(S)}155419878==u.stringToValueKey(o)&&this.x1546495508514513272x().setStartGameDeviceControlString(g.getValue())}t&&this.mPreviousLocalOptionsItemsValues.copy(this.mLocalOptionsItemsValues,!0),null!==e&&(e.destroy(),e=null),this.saveLocalValuesToPrefsAndDispatch()},s.saveLocalValuesToPrefsAndDispatch=function(){for(var t=this.x3146280315819528581x().x1666856027417448917x(),e=this.mOptionsItemsParams.getNumValues(),i=0;i<e;i++){var n=this.mOptionsItemsParams.getDictionaryAtIndex(i),r=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(i));if(this.isEnabledOptionsItem(n,r))for(var s=this.isItemPerPlayer(n)?this.mNumPlayers:1,a=0;a<s;a++){var o=this.getItemPathInOptions(n,a),l=this.mLocalOptionsItemsValues.getValueWithKeyStringPath(o),h=this.mPreviousLocalOptionsItemsValues.getValueWithKeyStringPath(o),m=this.getItemType(n),g=this.getItemPathToTargetValue(n,a);switch(m){case c.x2736631188424289638x:var f=l.getValue();if(n.getBoolValueWithKeyStringPath("saveFloat1ItemAsPercent100")){var d=.01*f;this.setTargetValueFloat(t,g,d),this.mDispatchChangeDictionary.setFloatValue(x.x1265304804797134136x,d)}else this.setTargetValueInt(t,g,f),this.mDispatchChangeDictionary.setIntValue(x.x2676455487978512954x,f);break;case c.x2484114307597753098x:this.copyTargetValue(l,t,g),this.mDispatchChangeDictionary.setFloatValue(x.x1265304804797134136x,l.getValue());break;case c.x3103886056112448540x:this.copyTargetValue(l,t,g),this.mDispatchChangeDictionary.setBoolValue(x.x3016960944049098382x,l.getValue());break;case c.x3076231396314581594x:this.copyTargetValue(l,t,g),this.mDispatchChangeDictionary.setStringValue(x.x1304570939290879199x,l.getValue())}if(!l.equalsValue(h,!0)){if(this.isVolumeItemName(r)){var p=h.getValue(),S=l.getValue();p<=0&&S>0&&this.clampAllVolumeItems0To100()}if(this.mDispatchChangeDictionary.setIntValue(x.x1728791213671431913x,u.stringToValueKey(r)),this.mDispatchChangeDictionary.setIntValue(u.stringToValueKey("playerIndex"),a),this.dispatchMessage(x.x3749940443783434633x,this,this.mDispatchChangeDictionary),1211591272==u.stringToValueKey(r)){var y=.01*l.getValue();this.x1546495508514513272x().setSoundEffectsVolume(y)}155419878==u.stringToValueKey(r)&&this.x1546495508514513272x().setStartGameDeviceControlString(l.getValue())}}}this.mPreviousLocalOptionsItemsValues.copy(this.mLocalOptionsItemsValues,!0),this.saveLocalValues(),this.updateControls()},s.saveLocalValues=function(){this.getSceneParams().getBoolValueWithDefault(r.x3997392898055780856x,!0)&&(this.x1546495508514513272x().setPrefsString(this.getOptionsSavedDataId(),this.mLocalOptionsItemsValues.toJSONString(null,!0,-1)),this.x1546495508514513272x().savePrefs())},s.migrateLegacyControlItemsV11=function(t){for(var e=this.mOptionsItemsParams.getNumValues(),i=0;i<e;i++){var n=this.mOptionsItemsParams.getDictionaryAtIndex(i),r=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(i));if(this.isControlIdItemName(r)&&this.getItemType(n)==c.x3076231396314581594x)for(var s=this.isItemPerPlayer(n)?this.mNumPlayers:1,a=0;a<s;a++){var x=this.getItemPathInOptions(n,a),u=t.getValueWithKeyStringPath(x);if(u&&u.getValueType()!=c.x3076231396314581594x){var l=t.getIntValueWithKeyStringPath(x),h=o.x898889263061140814x(l),m=o.getKeyboardDeviceControlString(h);t.insertValueWithKeyStringPath(x,c.x3076231396314581594x),t.setStringValueWithKeyStringPath(x,m)}}}},s.doToggleItem=function(t){var e=this.getItemParamsForControl(t);if(e){var i=!this.mLocalOptionsItemsValues.getBoolValueWithKeyStringPath(this.getItemPathInOptions(e,this.mPlayerIndex));this.mLocalOptionsItemsValues.getValueWithKeyStringPath(this.getItemPathInOptions(e,this.mPlayerIndex)).setValue(i),this.updateButton(t)}},s.doStepperItem=function(t){var e=this.getItemParamsForControl(t);if(e){var i=t.getStepperValue();this.mLocalOptionsItemsValues.getValueWithKeyStringPath(this.getItemPathInOptions(e,this.mPlayerIndex)).setValue(i);var n=t.getName();if(1211591272==u.stringToValueKey(n)){var r=.01*t.getStepperValue();this.x1546495508514513272x().setSoundEffectsVolume(r)}}},s.doControlIdItem=function(t){var e=this.getItemParamsForControl(t);if(e){this.mPendingControlIdItemParams=e,this.mPendingControlIdItemButton=t;var i=this.getSceneMgr().getManagedScene("captureControlId"),n=e.getStringValueWithKeyStringPath("title");i.setParams(n,u.firstIndexInString(n,"MOVE")>=0),this.getSceneMgr().pushScene("captureControlId")}},s.tryCaptureDeviceControl=function(t,e){switch(t){case o.x4234934191319707258x:switch(e){case o.x4535460003535727211x:case o.x70061170236791832x:return}break;case o.x273326733444963739x:switch(e){case o.x1484181786099900418x:case o.x4394725857222336585x:return}}var i=o.getDeviceControlString(t,e);if(!this.isMetaControlIdItemName(this.mPendingControlIdItemButton.getName()))for(var n,r,s,a=this.mOptionsItemsParams.getNumValues(),x=0;x<a;x++)n=this.mOptionsItemsParams.getDictionaryAtIndex(x),r=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(x)),this.isControlIdItemName(r)&&(this.isMetaControlIdItemName(r)||(s=this.getItemPathInOptions(n,this.mPlayerIndex),this.mLocalOptionsItemsValues.getValueWithKeyStringPath(s)&&o.areDeviceControlStringsEquivalent(this.mLocalOptionsItemsValues.getStringValueWithKeyStringPath(s),i)&&(this.mLocalOptionsItemsValues.getValueWithKeyStringPath(s).setValue(""),this.updateButton(this.getSceneRootView().getDescendantNamed(r)))));this.mLocalOptionsItemsValues.getValueWithKeyStringPath(this.getItemPathInOptions(this.mPendingControlIdItemParams,this.mPlayerIndex)).setValue(i),this.updateButton(this.mPendingControlIdItemButton),this.mPendingControlIdItemParams=null,this.mPendingControlIdItemButton=null},s.isEnabledOptionsItem=function(t,e){return e&&""!=e&&t.getBoolValueWithDefault(u.stringToValueKey("enabled"),!0)},s.isControlIdItemName=function(t){return 0==u.firstIndexInString(t,"controls_")},s.isMetaControlIdItemName=function(t){return 0==u.firstIndexInString(t,"controls_meta_")},s.isItemPerPlayer=function(t){return u.firstIndexInString(t.getStringValueWithKeyStringPath(u.x1012796168335938419x("ZCUNQQWJHFYHMFWRYFQSMFBSXFKNSJKHMPHS")),u.x1012796168335938419x("MDNENHAQMLVPOLIJONPIFMIIULAFGR"))>=0||u.firstIndexInString(t.getStringValueWithKeyStringPath(u.x1012796168335938419x("UDILEOKHZSCGETFPFUGQWTZPJTBMBSJQRMLQII")),u.x1012796168335938419x("EEFSRFONQJZNCJMHCLTGJKWFYJSSUO"))>=0},s.getItemNameFromKeyString=function(t){var e=u.firstIndexInString(t,"item__");return e>=0?u.substringFromIndex(t,e+6):""},s.getItemPathToTargetValue=function(t,e){return this.prepareItemPath(t.getStringValueWithKeyStringPath(u.x1012796168335938419x("YFWGIKCTDPURSOOLEPIMIPDLTPMGAOIMOIZL")),e)},s.getItemPathInOptions=function(t,e){return this.prepareItemPath(t.getStringValueWithKeyStringPath(u.x1012796168335938419x("OGOOKRQKBGIJGGLSHHMTYGFTLGHPBKJIXPRTOL")),e)},s.prepareItemPath=function(t,e){return m.replaceString(t,u.x1012796168335938419x("LIDRPEMMOIXMAIKGAKRFHJUEWIQRUI"),u.stringFromInt(e+1,1,!1))},s.getDefaultValueEntry=function(t,e){var i=t.getValueWithKeyString(u.x1012796168335938419x("BGKGWJOSGOBTPOEMTOBLNPTLOO"));return i||(i=t.getValueWithKeyStringPath(this.prepareItemPath(u.x1012796168335938419x("RGMNORMJEFZJNFWTRFTSLGVSCGROXHIIHPXSSLJSJLJGVDUKUNFHMSWGKTVFPDGPEDYPOT"),e))),i},s.getItemType=function(t){return this.getDefaultValueEntry(t,0).getValueType()},s.getItemParamsForItemName=function(t){return this.mOptionsItemsParams.getDictionaryWithKeyString(P.concatStrings("_BPSUIPanel:item__",t))},s.getItemParamsForControl=function(t){return this.getItemParamsForItemName(t.getName())},s.updateControls=function(){if(this.getDidConstruct()){for(var t=this.getSceneRootView().getDescendantNamed("menu").getDescendantNamed("panelContent"),e=t.getNumChildren(),i=0;i<e;i++){var n=t.getChildAtIndex(i);n.x2607134971181910524x(S.x2939747116146489380x)&&this.updateControl(n)}this.updatePointerInputControls()}},s.updatePointerInputControls=function(){var t=this.getSceneRootView().getDescendantNamed("item__pointerInputType");if(t){var e=this.getSceneRootView().getDescendantNamed("item__enableSwipeCCWRotation"),i=!0;if(this.x3146280315819528581x().getOnboardingMgr().isOnboardingRequiredAndIncomplete()){var n=this.x3146280315819528581x().getOnboardingMgr().getDummyLevelsComponent();i=n.isOnboardingInputTypeSupported(l.x481964451504965421x)&&n.isOnboardingInputTypeSupported(l.x4564893816674366522x)}t.setIsVisible(i),e.setIsVisible(i)}},s.updateControl=function(t){if(t){var e=u.substringFromIndex(t.getName(),u.firstIndexInString(t.getName(),"item__")+6),i=t.getDescendantNamed(e);i&&(i.x2607134971181910524x(d.x2743329392283200599x)&&this.updateButton(i)||!i.x2607134971181910524x(y.x569523380061163539x)||this.updateStepper(i))}},s.updateButton=function(t){if(!t)return!1;var e=this.getItemPathInOptions(this.getItemParamsForControl(t),this.mPlayerIndex),i=t.getName();if(this.isControlIdItemName(i)){var n=this.mLocalOptionsItemsValues.getStringValueWithKeyStringPath(e),r=o.getDisplayNameForDeviceControlString(n);t.setButtonText(r,"")}else t.setIsOn(this.mLocalOptionsItemsValues.getBoolValueWithKeyStringPath(e));return!0},s.updateStepper=function(t){if(!t)return!1;var e=this.getItemPathInOptions(this.getItemParamsForControl(t),this.mPlayerIndex),i=this.mLocalOptionsItemsValues.getIntValueWithKeyStringPath(e),n=i;return this.isVolumeControl(t)&&i<0&&(n=0),t.setStepperValue(n),!0},s.isVolumeItemName=function(t){return u.stringEndsWith(t,"_volume")},s.isVolumeControl=function(t){return!!t&&u.firstIndexInString(t.getName(),"_volume")>0},s.handleAudioMuteChanged=function(t){for(var e=!0,i=this.x3146280315819528581x().x1666856027417448917x(),n=this.mOptionsItemsParams.getNumValues(),r=0;r<n;r++){var s=this.mOptionsItemsParams.getDictionaryAtIndex(r),a=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(r));if(this.isEnabledOptionsItem(s,a))for(var o=this.isItemPerPlayer(s)?this.mNumPlayers:1,x=0;x<o;x++)if(this.isVolumeItemName(a)){var u=this.getItemPathInOptions(s,x),c=this.mLocalOptionsItemsValues.getValueWithKeyStringPath(u),l=c.getValue();0!=(l=t?-(l>=0?l:-l):l>=0?l:-l)&&(e=!1),c.setValue(l);var h=.01*l,m=this.getItemPathToTargetValue(s,x);this.setTargetValueFloat(i,m,h)}}e&&!t&&this.resetAllVolumeItemsToDefault(),this.saveLocalValuesToPrefsAndDispatch()},s.clampAllVolumeItems0To100=function(){for(var t=this.x3146280315819528581x().x1666856027417448917x(),e=this.mOptionsItemsParams.getNumValues(),i=0;i<e;i++){var n=this.mOptionsItemsParams.getDictionaryAtIndex(i),r=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(i));if(this.isEnabledOptionsItem(n,r))for(var s=this.isItemPerPlayer(n)?this.mNumPlayers:1,a=0;a<s;a++)if(u.stringEndsWith(r,"_volume")){var o=this.getItemPathInOptions(n,a),x=this.mLocalOptionsItemsValues.getValueWithKeyStringPath(o),c=u.clampInt(x.getValue(),0,100);x.setValue(c);var l=.01*c,h=this.getItemPathToTargetValue(n,a);this.setTargetValueFloat(t,h,l)}}},s.resetAllVolumeItemsToDefault=function(){for(var t=this.x3146280315819528581x().x1666856027417448917x(),e=this.mOptionsItemsParams.getNumValues(),i=0;i<e;i++){var n=this.mOptionsItemsParams.getDictionaryAtIndex(i),r=this.getItemNameFromKeyString(this.mOptionsItemsParams.getValueKeyStringAtIndex(i));if(this.isEnabledOptionsItem(n,r))for(var s=this.isItemPerPlayer(n)?this.mNumPlayers:1,a=0;a<s;a++)if(u.stringEndsWith(r,"_volume")){var o=this.getItemPathInOptions(n,a),x=this.mLocalOptionsItemsValues.getValueWithKeyStringPath(o);x.setValue(this.getDefaultValueEntry(n,a).toInt());var c=x.getValue();x.setValue(c);var l=.01*c,h=this.getItemPathToTargetValue(n,a);this.setTargetValueFloat(t,h,l)}}},s.setPlayerIndex=function(t){this.mPlayerIndex=t,this.updateControls()},s.copyTargetValue=function(t,e,i){var n=e.getValueWithKeyStringPath(i);n&&n.copyValue(t)},s.setTargetValueInt=function(t,e,i){var n=t.getValueWithKeyStringPath(e);n&&n.getValueType()==c.x2736631188424289638x&&n.setValue(i)},s.setTargetValueFloat=function(t,e,i){var n=t.getValueWithKeyStringPath(e);n&&n.getValueType()==c.x2484114307597753098x&&n.setValue(i)},s.x1721113016797186854x=function(){this.x1546495508514513272x().removeMessageListener(this),null!==this.mLocalOptionsItemsValues&&(this.mLocalOptionsItemsValues.destroy(),this.mLocalOptionsItemsValues=null),null!==this.mPreviousLocalOptionsItemsValues&&(this.mPreviousLocalOptionsItemsValues.destroy(),this.mPreviousLocalOptionsItemsValues=null),null!==this.mDispatchChangeDictionary&&(this.mDispatchChangeDictionary.destroy(),this.mDispatchChangeDictionary=null),this==r.sInstance&&(r.sInstance=null),t.prototype.x1721113016797186854x.call(this)},s.x1795041629124088167x=function(){this.mPlayerIndexStepper=this.getSceneRootView().getDescendantNamed("playerIndex"),this.mPlayerIndexStepper&&this.mPlayerIndexStepper.addMessageListener(this),g.verifyNativeAudioSupport()||(this.getSceneRootView().removeDescendantNamed("item__effects_volume"),this.getSceneRootView().removeDescendantNamed("item__music_volume"),this.getSceneRootView().removeDescendantNamed("item__music_selectedFileIndex"),this.getSceneRootView().getDescendantNamed("menu").updateSize())},s.x2040832708660789557x=function(){this.mPlayerIndex=this.mPlayerIndexStepper?this.mPlayerIndexStepper.getStepperValue()-1:0,this.updateControls()},s.x2286393723489345176x=function(){this.saveLocalValuesToPrefsAndDispatch()},s.x2205753240179020188x=function(){},s.x829844150907370379x=function(){if("confirm"==this.getSceneMgr().getPreviousSceneName()){var t=this.getSceneMgr().getManagedScene("confirm");t.getDidConfirm()&&("resetOptions"==t.getAction()?this.resetSavedOptionsData():"resetHighScores"==t.getAction()?this.x3146280315819528581x().getHighScoresMgr().resetHighScores():"resetVSCPURecords"==t.getAction()?this.x3146280315819528581x().getVSCPURecordsMgr().resetData():"resetAllSavedData"==t.getAction()&&this.x3146280315819528581x().resetAllSavedData())}},s.x130462144329088844x=function(){},s.x2064865260925868963x=function(t){},s.x601562840631873202x=function(e,i,n){var r=null;switch(e){case d.x1220349481777468123x:var s=i.getName();if("done"==s)this.getSceneMgr().popScene();else if("resetOptions"==s){r=this.getSceneMgr().getManagedScene("confirm");var a=this.getSceneParams().getStringValue(u.stringToValueKey("confirmResetOptionsMessage"));r.setAction("resetOptions"),r.setMessage(a),this.getSceneMgr().pushScene("confirm")}else"resetHighScores"==s?((r=this.getSceneMgr().getManagedScene("confirm")).setAction("resetHighScores"),r.setMessage(this.getSceneParams().getStringValue(u.stringToValueKey("confirmResetRecordsMessage"))),this.getSceneMgr().pushScene("confirm")):"resetVSCPURecords"==s?((r=this.getSceneMgr().getManagedScene("confirm")).setAction("resetVSCPURecords"),r.setMessage(this.getSceneParams().getStringValue(u.stringToValueKey("confirmResetRecordsMessage"))),this.getSceneMgr().pushScene("confirm")):this.isControlIdItemName(s)?this.doControlIdItem(i):this.doToggleItem(i);break;case x.x3749940443783434633x:i&&(i==this.mPlayerIndexStepper?this.setPlayerIndex(i.getStepperValue()-1):this.doStepperItem(i));break;case M.x2140227026360370269x:var o=n.getIntValue(M.x179052397502976883x),c=n.getIntValue(M.x980577668810964781x);this.tryCaptureDeviceControl(o,c);break;case f.x1612170441469018558x:this.loadLocalValuesFromPrefs(!0),this.getSceneMgr().getManagedScene("captureControlId").addMessageListener(this),this.getSceneMgr().getManagedScene("game").addMessageListener(this);break;case v.x507218194492811356x:this.handleAudioMuteChanged(!0);break;case v.x653658679781127440x:this.handleAudioMuteChanged(!1);break;case I.x4104787155684813481x:this.resetSavedOptionsData()}t.prototype.x601562840631873202x.call(this,e,i,n)},s.x2709359389131215735x=function(t,e,i){return t===p.x3716705742839152288x&&(this.getSceneMgr().popScene(),!0)},i(r,null,[{key:"x3591880977658352399x",get:function(){return 11}},{key:"x3997392898055780856x",get:function(){return 1134182756}},{key:"kSceneOptionsMessageId_optionsItemValueChanged",get:function(){return 447231435}}]),r}(s)).sInstance=null,r._RF.pop()}}})),System.register("chunks:///_virtual/x1879755377857057486x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1413698088565076133x.ts","./x702435451033209193x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x1413698088565076133x},function(t){r=t.x702435451033209193x}],execute:function(){i._RF.push({},"0a7f2g7WZRN3LxUCwYpHxAN","x1879755377857057486x",void 0),t("x1879755377857057486x",function(t){function i(e,i,n){return t.call(this,e,r.stringToHash32(e),i,n)||this}e(i,t);var n=i.prototype;return n.x3146280315819528581x=function(){return this.x1546495508514513272x()},n.x1721113016797186854x=function(){t.prototype.x1721113016797186854x.call(this)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x4348519963410188051x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x935098930897063106x.ts","./x49008801373907804x.ts","./x3461623316906106937x.ts","./x1479493434950596026x.ts","./x3001588770202680173x.ts","./x923301222305930093x.ts","./x1300708268651209083x.ts","./x3513548718171000876x.ts","./x1119179591842280899x.ts","./x4177071645687641537x.ts","./x84946173450627179x.ts","./x880562797070432433x.ts","./x1734189169196685004x.ts","./x2092587468266470742x.ts","./x3663611298040580465x.ts","./x4480444526479763272x.ts","./x798347270567386436x.ts","./x2435732701735449926x.ts","./x130488792231225248x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g,f,d,p,S,y,P,I,v,M,V;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x2205868517935256955x},function(t){a=t.x935098930897063106x},function(t){o=t.x49008801373907804x},function(t){x=t.x3461623316906106937x},function(t){u=t.x1479493434950596026x},function(t){c=t.x3001588770202680173x},function(t){l=t.x923301222305930093x},function(t){h=t.x1300708268651209083x},function(t){m=t.x3513548718171000876x},function(t){g=t.x1119179591842280899x},function(t){f=t.x4177071645687641537x},function(t){d=t.x84946173450627179x},function(t){p=t.x880562797070432433x},function(t){S=t.x1734189169196685004x},function(t){y=t.x2092587468266470742x},function(t){P=t.x3663611298040580465x},function(t){I=t.x4480444526479763272x},function(t){v=t.x798347270567386436x},function(t){M=t.x2435732701735449926x},function(t){V=t.x130488792231225248x}],execute:function(){r._RF.push({},"4c62diR2TdEXL+anTbNT8NC","x4348519963410188051x",void 0),t("x4348519963410188051x",function(t){function r(e,i){var r;return(r=t.call(this)||this).mParams=e.x3395266717842453812x(),r.mGameMgr=i,i.addMessageListener(n(r)),i.getValueChangedSource().addMessageListener(n(r)),i.getGame().addMessageListener(n(r)),i.addMessageListenerToAllPlayers(n(r),!0),r.mGame=r.mGameMgr.getGame(),r.mIsMuted=!1,r.mEffectsMgr=new M(M.x2955420652194200412x),r.mEffectsMgr.setVolume(r.mParams.getFloatValueWithKeyStringPath("effects.volume")),r.mEffectsMgr.setIsEnabled(r.mParams.getBoolValueWithKeyStringPath("effects.enabled")),r.mEffectsMgr.getIsEnabled()&&i.getAppSupportFactory().addSoundsToSoundMgr(r.mEffectsMgr,r.mParams.getDictionaryWithKeyStringPath("effects.sounds")),r.mMetaEffectsMgr=new M(M.x2955420652194200412x),r.mParams.setFloatValueWithKeyStringPath("metaEffects.volume",r.mParams.getFloatValueWithKeyStringPath("effects.volume")),r.mMetaEffectsMgr.setVolume(r.mParams.getFloatValueWithKeyStringPath("metaEffects.volume")),r.mMetaEffectsMgr.setIsEnabled(r.mParams.getBoolValueWithKeyStringPath("metaEffects.enabled")),r.mMetaEffectsMgr.getIsEnabled()&&i.getAppSupportFactory().addSoundsToSoundMgr(r.mMetaEffectsMgr,r.mParams.getDictionaryWithKeyStringPath("metaEffects.sounds")),r.mMusicMgr=new M(M.x3898919149543657472x),r.mMusicMgr.setVolume(r.mParams.getFloatValueWithKeyStringPath("music.volume")),r.mMusicMgr.setIsEnabled(r.mParams.getBoolValueWithKeyStringPath("music.enabled")),r.mMusicMgr.getIsEnabled()&&i.getAppSupportFactory().addSoundsToSoundMgr(r.mMusicMgr,r.mParams.getDictionaryWithKeyStringPath("music.sounds")),r.mSelectedMusicFileIndex=r.mParams.getIntValueWithKeyStringPath("music.selectedFileIndex")-1,r.mCurrentMusicSoundId=0,r.updateIsMuted(),r}e(r,t);var T=r.prototype;return T.processTime=function(t){this.mEffectsMgr.processTimeMSEC(t),this.mMetaEffectsMgr.processTimeMSEC(t),this.mMusicMgr.processTimeMSEC(t),this.tryStartMusic()},T.getIsMuted=function(){return this.mIsMuted},T.setIsMuted=function(t){this.mIsMuted!=t&&(this.mIsMuted=t,this.mEffectsMgr.setIsMuted(t),this.mMusicMgr.setIsMuted(t),this.mMetaEffectsMgr.setIsMuted(t),t||(this.mCurrentMusicSoundId=0,this.tryStartMusic()))},T.stopEffects=function(){this.mEffectsMgr.stopAllSounds()},T.tryStartMusic=function(){if(this.mGame&&this.mGame.getCurrentState()==o.x1514772141815616644x&&this.mMusicMgr.canPlaySounds()){var t=this.mMusicMgr.getSoundIdAtIndex(this.mSelectedMusicFileIndex);this.mCurrentMusicSoundId!=t&&this.mMusicMgr.isSoundLoaded(t)&&(this.mMusicMgr.stopAllSounds(),this.mMusicMgr.playSound(t),this.mCurrentMusicSoundId=t)}},T.stopMusic=function(){this.mMusicMgr.stopAllSounds(),this.mCurrentMusicSoundId=0},T.updateIsMuted=function(){var t=(this.mEffectsMgr.getIsMuted()||this.mEffectsMgr.getVolume()<=0)&&(this.mMusicMgr.getIsMuted()||this.mMusicMgr.getVolume()<=0);this.setIsMuted(t)},T.x1721113016797186854x=function(){this.mGameMgr.removeMessageListener(this),this.mGameMgr.getValueChangedSource().removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),this.mGameMgr=null,this.mGame=null,null!==this.mEffectsMgr&&(this.mEffectsMgr.destroy(),this.mEffectsMgr=null),null!==this.mMetaEffectsMgr&&(this.mMetaEffectsMgr.destroy(),this.mMetaEffectsMgr=null),null!==this.mMusicMgr&&(this.mMusicMgr.destroy(),this.mMusicMgr=null),t.prototype.x1721113016797186854x.call(this)},T.x601562840631873202x=function(t,e,i){if(e==this.mGameMgr.getValueChangedSource())if(t==s.x3749940443783434633x){var n=i.getIntValue(s.x1728791213671431913x);switch(n){case 1211591272:case 1078007269:var M=i.getFloatValue(s.x1265304804797134136x);switch(n){case 1211591272:this.mEffectsMgr.setVolume(M),this.mEffectsMgr.setIsMuted(M<=0),this.mMetaEffectsMgr.setVolume(M),this.mMetaEffectsMgr.setIsMuted(M<=0);break;case 1078007269:this.mMusicMgr.setVolume(M),this.mMusicMgr.setIsMuted(M<=0)}this.updateIsMuted(),this.mMusicMgr.getIsMuted()&&this.mGameMgr.getGame().setWasMusicActiveDuringGame(!1);break;case 729413392:this.mSelectedMusicFileIndex=i.getIntValue(s.x2676455487978512954x)-1}}else t==V.x4008710982075431723x&&(this.stopEffects(),this.stopMusic());else{var T=null;switch(t){case x.x4249687894066459938x:if(0!=e.getPlayerIndex())return;this.mEffectsMgr.playSound(r.x1435942422611232181x);break;case h.x792076145386777064x:if(0!=e.getPlayerIndex())return;switch(i.getIntValue(h.x3416993641028547947x)){case a.x1854185702720947932x:case a.x3258880470381356346x:this.mEffectsMgr.playSound(r.x2516111495773367694x);break;case a.x4519586451785019140x:this.mEffectsMgr.playSound(r.x4467365961732303829x);break;case a.x280351877232321731x:case a.x2445769797929427052x:case a.x470776976658180505x:case a.x1770661362513838585x:this.mEffectsMgr.playSound(r.x3616462580086544954x);break;case a.x4446142406746104061x:this.mEffectsMgr.playSound(r.x4541152029250224996x);break;case a.x2851689118743160308x:case a.x2937731454309797899x:this.mEffectsMgr.playSound(r.x308327673379533691x);break;case a.x3654181238410086381x:this.mEffectsMgr.playSound(r.x1104923707840186992x)}break;case h.x2991095198426092779x:if(0!=e.getPlayerIndex())return;switch(i.getIntValue(h.x211056964961241978x)){case a.x1854185702720947932x:case a.x3258880470381356346x:this.mEffectsMgr.playSound(r.x1597429165208336805x);break;case a.x280351877232321731x:case a.x2445769797929427052x:case a.x470776976658180505x:case a.x1770661362513838585x:this.mEffectsMgr.playSound(r.x1689034595682145763x);break;case a.x3654181238410086381x:this.mEffectsMgr.playSound(r.x3823350825413380961x)}break;case I.x1242649438366443755x:case I.x1753374700456149204x:if(0!=e.getPlayerIndex())return;switch(t){case I.x1242649438366443755x:this.mEffectsMgr.playSound(r.x1260418061306386723x);break;case I.x1753374700456149204x:this.mEffectsMgr.playSound(r.x2846718009712698482x)}break;case I.x644234860812116737x:if(0!=e.getPlayerIndex())return;this.mEffectsMgr.playSound(r.x3845008016865623441x);break;case I.x2837132007225388124x:if(0!=e.getPlayerIndex())return;this.mEffectsMgr.playSound(r.x1028922820468320954x);break;case x.x1368156971866977203x:if(0!=e.getPlayerIndex())return;(T=e).getCurrentState()===x.x3265934470092458605x&&(T.getGameEndCondition()===x.x4593350295173720350x?this.mEffectsMgr.playSound(r.x3978776200053349935x):this.mEffectsMgr.playSound(r.x965039895155342913x));break;case x.x3953910861833633539x:if(0!=e.getPlayerIndex())return;this.mEffectsMgr.playSound(r.x3467076990821070025x);break;case x.x4372612027967450106x:this.mEffectsMgr.playSound(r.x2362660592890492802x);break;case l.x43516974774647162x:this.mEffectsMgr.playSound(r.x3858282210372769515x);break;case l.x3344905842568611137x:this.mEffectsMgr.playSound(r.x2584965223595181678x);break;case l.x4563261606863935423x:if(!i.getBoolValue(l.x3846704088808192491x))switch(0===i.getIntValue(l.x752335141195081299x)||this.mEffectsMgr.playSound(r.x130425543491569394x),i.getIntValue(l.x1280598769350886052x)){case 0:break;case 4:i.getBoolValue(l.x623771060938972829x)?this.mEffectsMgr.playSound(r.x4496128842436820623x):this.mEffectsMgr.playSound(r.x235969608835742427x);break;default:this.mEffectsMgr.playSound(r.x4110941128367537471x)}break;case c.x2732844868282066204x:this.mEffectsMgr.playSound(r.x1343270329415561297x);break;case x.x3286479124338019373x:if(0!=e.getPlayerIndex())return;var C;(T=e).getRemainingTimeSEC()<=10&&this.mEffectsMgr.playSound(r.x2026120843537592829x);break;case v.x593103829868600629x:switch(this.mEffectsMgr.playSound(r.x4227766051924920631x),(D=i.getObjectValue(v.x3044825115508512875x)).getActionId()){case m.x2113334628118377893x:var A=D;this.mEffectsMgr.playSound(A.isSpeedUp()?r.x1447250616335465414x:r.x2371223619117281434x);break;case g.x3194209701878920299x:this.mEffectsMgr.playSound(r.x1443455646143805550x);break;case f.x2808148533898659766x:this.mEffectsMgr.playSound(r.x3993017867515104464x);break;case d.x3814876417137536124x:this.mEffectsMgr.playSound(r.x2192895325645363256x);break;case p.x568122050052276579x:this.mEffectsMgr.playSound(r.x3949636384178993817x);break;case S.x3730400382218827790x:D.addMessageListener(this),this.mEffectsMgr.playSound(r.x4541998897434010484x);break;case y.x4562906994610874993x:var F=D;this.mEffectsMgr.playSound(F.isToCenter()?r.x4206666401693614642x:r.x3551305284560964900x);break;case P.x3447025935325255921x:this.mEffectsMgr.playSound(r.x2142565921558311508x)}break;case v.x2260314614005639254x:var D;(D=i.getObjectValue(v.x2564453184714498637x)).getActionId()===m.x2113334628118377893x&&(A=D,this.mEffectsMgr.playSound(A.isSpeedUp()?r.x4413231802277307094x:r.x3065151175381321910x));break;case S.x3280829469047158568x:this.mEffectsMgr.playSound(r.x135293893392656275x);break;case u.x1492987459186948972x:this.mEffectsMgr.playSound(r.x2881083362188097503x);break;case u.x1532189069174808298x:this.mEffectsMgr.playSound(r.x2864001995753633528x);break;case o.x1837688871124046825x:switch(this.mGame.getCurrentState()){case o.x2011879311002059536x:this.mMetaEffectsMgr.playSound(r.x4230914384240978260x);break;case o.x1514772141815616644x:this.mEffectsMgr.setIsPaused(!1),this.mMusicMgr.setIsMuted(this.mMusicMgr.getVolume()<=0),this.mMusicMgr.getVolume()>0?(this.mMusicMgr.setIsPaused(!1),this.tryStartMusic()):this.stopMusic(),this.updateIsMuted();break;case o.x968731194594044803x:this.mEffectsMgr.setIsPaused(!0),this.mMusicMgr.setIsPaused(!0),this.mMetaEffectsMgr.stopAllSounds();break;case o.x3265934470092458605x:this.stopMusic()}break;case o.x331280717235701147x:this.mGame.setWasMusicActiveDuringGame(!this.mMusicMgr.getIsMuted())}}},i(r,null,[{key:"x4230914384240978260x",get:function(){return 1369617984}},{key:"x2516111495773367694x",get:function(){return 1535169186}},{key:"x1597429165208336805x",get:function(){return 1910675519}},{key:"x4467365961732303829x",get:function(){return 172942947}},{key:"x3616462580086544954x",get:function(){return 1682556236}},{key:"x1689034595682145763x",get:function(){return 480439273}},{key:"x4541152029250224996x",get:function(){return 975619736}},{key:"x1435942422611232181x",get:function(){return 2065002966}},{key:"x308327673379533691x",get:function(){return 1326776011}},{key:"x1104923707840186992x",get:function(){return 1926544496}},{key:"x3823350825413380961x",get:function(){return 1179970829}},{key:"x2362660592890492802x",get:function(){return 753335612}},{key:"x1260418061306386723x",get:function(){return 575144844}},{key:"x2846718009712698482x",get:function(){return 25918949}},{key:"x3845008016865623441x",get:function(){return 884721982}},{key:"x4110941128367537471x",get:function(){return 928644968}},{key:"x130425543491569394x",get:function(){return 1328507124}},{key:"x235969608835742427x",get:function(){return 1908070058}},{key:"x4496128842436820623x",get:function(){return 784896531}},{key:"x1343270329415561297x",get:function(){return 1319742382}},{key:"x1028922820468320954x",get:function(){return 493499829}},{key:"x3467076990821070025x",get:function(){return 1567432234}},{key:"x965039895155342913x",get:function(){return 358377483}},{key:"x3978776200053349935x",get:function(){return 754385190}},{key:"x2026120843537592829x",get:function(){return 1375313883}},{key:"x2881083362188097503x",get:function(){return 1973534055}},{key:"x2864001995753633528x",get:function(){return 1036564500}},{key:"x3858282210372769515x",get:function(){return 1203306797}},{key:"x2584965223595181678x",get:function(){return 2021026868}},{key:"x4227766051924920631x",get:function(){return 504068791}},{key:"x1447250616335465414x",get:function(){return 107852104}},{key:"x4413231802277307094x",get:function(){return 300572284}},{key:"x2371223619117281434x",get:function(){return 1428078287}},{key:"x3065151175381321910x",get:function(){return 1394559619}},{key:"x1443455646143805550x",get:function(){return 727192839}},{key:"x3993017867515104464x",get:function(){return 727586433}},{key:"x2192895325645363256x",get:function(){return 366282555}},{key:"x3949636384178993817x",get:function(){return 1504724235}},{key:"x4541998897434010484x",get:function(){return 2115529587}},{key:"x135293893392656275x",get:function(){return 939394862}},{key:"x4206666401693614642x",get:function(){return 467334585}},{key:"x3551305284560964900x",get:function(){return 1830149464}},{key:"x2142565921558311508x",get:function(){return 2022685384}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x179266263294073309x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x130488792231225248x.ts","./x1232577566642415821x.ts","./x2205868517935256955x.ts","./x702435451033209193x.ts","./x982037128155278742x.ts","./x49008801373907804x.ts","./x3461623316906106937x.ts","./x1300708268651209083x.ts","./x4348519963410188051x.ts","./x4300947096375530332x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x130488792231225248x},function(t){s=t.x1232577566642415821x},function(t){a=t.x2205868517935256955x},function(t){o=t.x702435451033209193x},function(t){x=t.x982037128155278742x},function(t){u=t.x49008801373907804x},function(t){c=t.x3461623316906106937x},function(t){l=t.x1300708268651209083x},function(t){h=t.x4348519963410188051x},function(t){m=t.x4300947096375530332x}],execute:function(){n._RF.push({},"d4868owEiBKO6NkQ5eR+vaA","x179266263294073309x",void 0),t("x179266263294073309x",function(t){function n(e,i,r,a,x){var u;if(u=t.call(this,e,r,a,x)||this,!s.isMouseHoverEnabled()){var c=u.getGameMgrData().getDictionaryWithKeyStringPath("game.players.player-base.playerComponents.control.params");c.getDictionary(l.x141473379542339770x).setIntValue(l.x3227895495611036052x,o.FXPTFromFloat(.3)),c.getDictionary(l.x141473379542339770x).setBoolValue(l.x1461650096496468011x,!1),c.getDictionary(l.x141473379542339770x).setBoolValue(l.x2037696948833675224x,!1)}if(n.expandPlayerBaseControlDataToPlayers(u.getGameMgrData()),u.mGame=null,u.mGameView=null,u.mAudioMgr=null,i>=0){var h=u.getGameMgrData();0==i&&h.getDictionaryWithKeyStringPath("game.players.player-base.playerComponents.control.params").getDictionary(l.x2003570946515375886x).setBoolValue(l.x1651871492772466688x,!0);for(var m=h.getDictionaryWithKeyStringPath("game.players.players"),g=m.getNumValues(),f=0;f<g;f++){var d="player"+o.stringFromInt(f+1,0,!1),p=m.getDictionaryWithKeyString(d);f<i?(p.getDictionaryWithKeyStringPath("playerComponents.control.params").setStringValue(l.x1180876976189756047x,"direct"),p.getDictionaryWithKeyStringPath("playerComponents.control.params").setBoolValue(l.x2149666500415112980x,!0)):(p.getDictionaryWithKeyStringPath("playerComponents.control.params").setStringValue(l.x1180876976189756047x,"AI"),p.getDictionaryWithKeyStringPath("playerComponents.control.params").setBoolValue(l.x2149666500415112980x,!1),p.getDictionaryWithKeyStringPath("playerComponents.control.params").getDictionary(l.x2003570946515375886x)&&p.getDictionaryWithKeyStringPath("playerComponents.control.params").getDictionary(l.x2003570946515375886x).setBoolValue(l.x1651871492772466688x,!0))}}return u}e(n,t),n.expandPlayerBaseControlDataToPlayers=function(t){for(var e=t.getDictionaryWithKeyString("game"),i=e.getDictionaryWithKeyStringPath("players.player-base.playerComponents.control"),n=e.getDictionaryWithKeyStringPath("players.players"),r=n.getNumValues(),s=0;s<r;s++){var a=n.getDictionaryAtIndex(s).getDictionaryWithKeyStringPath("playerComponents.control");a?a.synchronizeWithSource(i,!1,!1,!0):(a=i.x3395266717842453812x(),n.getDictionaryAtIndex(s).getDictionaryWithKeyStringPath("playerComponents").insertObjectValue(0,"control",0,a))}};var g=n.prototype;return g.getGame=function(){return this.mGame},g.getPlayer=function(t){return this.mGame?this.mGame.getPlayer(t):null},g.getPlayerAtIndex=function(t){return this.mGame?this.mGame.getPlayerAtIndex(t):null},g.addMessageListenerToAllPlayers=function(t,e){for(var i=this.mGame.getNumPlayers(),n=0;n<i;n++){var r=this.getPlayerAtIndex(n);r.addMessageListener(t),e&&r.addMessageListenerToComponents(t)}},g.getIsAudioMuted=function(){return this.mAudioMgr.getIsMuted()},g.setIsAudioMuted=function(t){this.mAudioMgr.setIsMuted(t),t?this.dispatchMessage(n.x507218194492811356x,this,null):this.dispatchMessage(n.x653658679781127440x,this,null)},g.createGame=function(t){for(var e=t.getDictionaryWithKeyString("params"),i=new u(e),n=t.getDictionaryWithKeyStringPath("players.player-base"),r=e.getIntValue(u.x8726347257553262x),s=0;s<r;s++){var a=n.x3395266717842453812x(),o=t.getDictionaryWithKeyStringPath("players.players").getDictionaryAtIndex(s);a.copy(o,!1);var x=this.createPlayer(a,s,s,i);i.addPlayer(x),null!==a&&(a.destroy(),a=null)}return i},g.createPlayer=function(t,e,i,n){var r=t.getDictionaryWithKeyString("params"),s=new c(e,i,n,r);s.construct();for(var a=t.getDictionaryWithKeyString("playerComponents"),x=a.getNumValues(),u=0;u<x;u++){var l=a.getDictionaryAtIndex(u);if(l.getBoolValueWithDefault(o.stringToValueKey("enabled"),!0)){var h=a.getValueKeyStringAtIndex(u);s.addComponentWithParams(o.stringToValueKey(h),l.getDictionaryWithKeyString("params"))}}return s},g.x1721113016797186854x=function(){null!==this.mGame&&(this.mGame.destroy(),this.mGame=null),this.mGameView&&this.mGameView.release(),this.mGameView=null,null!==this.mAudioMgr&&(this.mAudioMgr.destroy(),this.mAudioMgr=null),t.prototype.x1721113016797186854x.call(this)},g.x2616759320630417655x=function(){null!==this.mGame&&(this.mGame.destroy(),this.mGame=null),this.mGame=this.createGame(this.getGameMgrData().getDictionaryWithKeyString("game")),this.mGameView&&this.mGameView.release(),this.mGameView=null,this.mGameView=new m(this.getGameMgrData().getDictionaryWithKeyString("gameView"),this),this.mGameView.retain(),this.getGameRootView().addChild(this.mGameView),this.mGameView.setIsVisible(!1),null!==this.mAudioMgr&&(this.mAudioMgr.destroy(),this.mAudioMgr=null),this.mAudioMgr=new h(this.getGameMgrData().getDictionaryWithKeyString("gameAudio"),this)},g.x3047795151953430559x=function(){return r.x3534944098651122926x},g.x4455416299536776025x=function(){},g.x1679663234218210271x=function(){this.mGameView.setIsVisible(!0),this.mGame.startGame()},g.x2150954409556137104x=function(t){return this.mGame.processTime(t),this.mAudioMgr.processTime(t),!this.mGame.isGameEnded()},g.x4098774661390088237x=function(){this.mGame.pauseGame()},g.x189316337028118022x=function(){this.mGame.resumeGame()},g.x2757081964714131468x=function(){this.mGame.terminateGame()},g.x279405108737269099x=function(t,e){for(var i=this.mGame.getNumPlayers(),n=0;n<i;n++)this.getPlayerAtIndex(n).getControlComponent().handleDeviceControlOn(t,e,0,0)},g.x3851148169730548938x=function(t,e){for(var i=this.mGame.getNumPlayers(),n=0;n<i;n++)this.getPlayerAtIndex(n).getControlComponent().handleDeviceControlOff(t,e,0,0)},g.x885415366219137194x=function(t,e){for(var i=this.mGame.getNumPlayers(),n=0;n<i;n++)this.getPlayerAtIndex(n).getControlComponent().handleDeviceControlCancelled(t,e)},g.x601562840631873202x=function(t,e,i){if(t==a.x3749940443783434633x){var n,r=this.mGame.getNumPlayers(),s=i.getIntValue(o.stringToValueKey("playerIndex"));switch(i.getIntValue(a.x1728791213671431913x)){case 989105235:case 204302768:case 1147746567:case 249037860:case 149182225:case 471287730:case 1937525847:var u=this.getPlayerAtIndex(s).getControlComponent().getParams().getDictionary2(l.x4389815947638728277x,l.x4413180936551149923x);if(u){var c=i.getStringValue(a.x1304570939290879199x);switch(i.getIntValue(a.x1728791213671431913x)){case 989105235:u.setStringValue(l.x811435244723270106x,c);break;case 204302768:u.setStringValue(l.x1574170212971589287x,c);break;case 1147746567:u.setStringValue(l.x4542408558815725369x,c);break;case 249037860:u.setStringValue(l.x2898477135344454250x,c);break;case 149182225:u.setStringValue(l.x417808279870630201x,c);break;case 471287730:u.setStringValue(l.x144159732418709698x,c);break;case 1937525847:u.setStringValue(l.x3435424149473420478x,c)}this.getPlayerAtIndex(s).getControlComponent().remapInputs()}break;case 1304103375:this.getPlayerAtIndex(s).getControlComponent().x3633925409096558838x().setDirectInputParameter_moveLRAutoRepeatInitialDelayMSEC(i.getIntValue(a.x2676455487978512954x));break;case 343082491:this.getPlayerAtIndex(s).getControlComponent().x3633925409096558838x().setDirectInputParameter_moveLRAutoRepeatDelayMSEC(i.getIntValue(a.x2676455487978512954x));break;case 1047210200:this.getPlayerAtIndex(s).getControlComponent().getParams().setIntValue(l.x1889189572273146763x,i.getIntValue(a.x2676455487978512954x)),this.getPlayerAtIndex(s).getControlComponent().remapInputs();break;case 98607055:this.getPlayerAtIndex(s).getControlComponent().x3633925409096558838x().setGestureInputParameter_enableCCWRotation(i.getBoolValue(a.x3016960944049098382x));break;case 474065836:var h=i.getBoolValue(a.x3016960944049098382x);this.getPlayerAtIndex(s).getControlComponent().x3633925409096558838x().setEnableAutomaticInputTypeSwitching(h),h||this.getPlayerAtIndex(s).getControlComponent().x3633925409096558838x().setActiveInputType(x.x3435724326894576505x);break;case 1791712459:for(n=0;n<r;n++)if(this.getPlayerAtIndex(n).getControlComponent().x3633925409096558838x().getController().getAIInputMgr()){var m=this.getPlayerAtIndex(n).getControlComponent().x3633925409096558838x().getController().getAIInputMgr(),g=i.getIntValue(a.x2676455487978512954x);m.mParameter_actionPreDelayMSEC_moveLR=g,m.mParameter_actionPreDelayMSEC_rotate=g,m.mParameter_actionPreDelayMSEC_hardDrop=g}}}},i(n,null,[{key:"x507218194492811356x",get:function(){return 444454758}},{key:"x653658679781127440x",get:function(){return 735131117}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x4300947096375530332x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x439725023118195804x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts","./x49008801373907804x.ts","./x3461623316906106937x.ts","./x923301222305930093x.ts","./x3513548718171000876x.ts","./x1119179591842280899x.ts","./x880562797070432433x.ts","./x1734189169196685004x.ts","./x2092587468266470742x.ts","./x3663611298040580465x.ts","./x349179295227638153x.ts","./x798347270567386436x.ts","./x1442954324271535409x.ts","./x3286211270008087752x.ts","./x2385793234846142307x.ts","./x4016911264059163956x.ts","./x4560964134034227844x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g,f,d,p,S,y,P,I;return{setters:[function(t){e=t.inheritsLoose,i=t.assertThisInitialized},function(t){n=t.cclegacy},function(t){r=t.x439725023118195804x},function(t){s=t.x3693760142138385085x},function(t){a=t.x702435451033209193x},function(t){o=t.x49008801373907804x},function(t){x=t.x3461623316906106937x},null,function(t){u=t.x3513548718171000876x},function(t){c=t.x1119179591842280899x},function(t){l=t.x880562797070432433x},function(t){h=t.x1734189169196685004x},function(t){m=t.x2092587468266470742x},function(t){g=t.x3663611298040580465x},function(t){f=t.x349179295227638153x},function(t){d=t.x798347270567386436x},function(t){p=t.x1442954324271535409x},function(t){S=t.x3286211270008087752x},function(t){y=t.x2385793234846142307x},function(t){P=t.x4016911264059163956x},function(t){I=t.x4560964134034227844x}],execute:function(){n._RF.push({},"62715qj831MHoBjkijlrWGy","x4300947096375530332x",void 0),t("x4300947096375530332x",function(t){function n(e,n){var r;return(r=t.call(this,null)||this).mParams=e.x3395266717842453812x(),r.mMinoSpriteFrameSet=null,r.mGameMgr=n,n.addMessageListener(i(r)),n.getGame().addMessageListener(i(r)),r.mGame=r.mGameMgr.getGame(),r.mPauseButton=null,r.mAudioButton=null,r.mDebugMessagesView=null,r.mDebugMessagesViewMaxLines=1,r.construct(),r.setName("_BPSTGStandardGameView"),r}e(n,t);var v=n.prototype;return v.construct=function(){this.createMinoSpriteFrames(this.mParams.getDictionaryWithKeyStringPath("gameViewParams.minos")),this.setSize(P.instance().getWindowWidth(),P.instance().getWindowHeight()),this.setPosition(this.mParams.getFloatValueWithKeyStringPath("gameViewParams.originX"),this.mParams.getFloatValueWithKeyStringPath("gameViewParams.originY")),this.mPlayerViewsLayer1=new r(this.getAppSupportFactory()),this.mPlayerViewsLayer2=new r(this.getAppSupportFactory());var t=this.mParams.getDictionaryWithKeyStringPath("playerViews.playerView-base");t.createDictionary(a.stringToValueKey("minos"),"minos",999,!0).copy(this.mParams.getDictionaryWithKeyStringPath("gameViewParams.minos"),!0);for(var e=this.mGame.getNumPlayers(),i=0;i<e;i++){var n=new s(!0);n.copy(this.mParams.getDictionaryWithKeyStringPath("playerViews.playerViews").getDictionaryAtIndex(i),!0),n.synchronizeWithSource(t,!1,!1,!1),new I(n,this.mGameMgr,i,this.mMinoSpriteFrameSet,this.mPlayerViewsLayer1,this.mPlayerViewsLayer2),null!==n&&(n.destroy(),n=null)}this.addChild(this.mPlayerViewsLayer1),this.addChild(this.mPlayerViewsLayer2),this.mParams.getBoolValueWithKeyStringPath("gameViewParams.pauseButton.enabled")&&(this.mPauseButton=this.mGameMgr.getAppSupportFactory().createViewWithTypeAndClass("_BPSUIButton","_BPSUIButton",this.mParams.getDictionaryWithKeyStringPath("gameViewParams.pauseButton")),this.mPauseButton.setName("pauseButton"),this.mPauseButton.addMessageListener(this),this.addChild(this.mPauseButton)),this.mParams.getBoolValueWithKeyStringPath("gameViewParams.audioButton.enabled")&&(this.mAudioButton=this.mGameMgr.getAppSupportFactory().createViewWithTypeAndClass("_BPSUIButton","_BPSUIButton",this.mParams.getDictionaryWithKeyStringPath("gameViewParams.audioButton")),this.mAudioButton.setName("audioButton"),this.mAudioButton.addMessageListener(this),this.addChild(this.mAudioButton)),this.mParams.getBoolValueWithKeyStringPath("gameViewParams.debugMessages.enabled")&&(this.mDebugMessagesView=this.mGameMgr.getAppSupportFactory().x4228482585618777116x(this.mParams.getDictionaryWithKeyStringPath("gameViewParams.debugMessages")),this.mDebugMessagesViewMaxLines=this.mParams.getIntValueWithKeyStringPath("gameViewParams.debugMessages.maxLines"),p.NativeView_addChild(this.getNativeView(),this.mDebugMessagesView.getNativeView()),this.mGameMgr.addMessageListenerToAllPlayers(this,!0))},v.createMinoSpriteFrames=function(t){null!==this.mMinoSpriteFrameSet&&(this.mMinoSpriteFrameSet.destroy(),this.mMinoSpriteFrameSet=null),this.mMinoSpriteFrameSet=new S(f.x1542464744281366388x);var e=t.getBoolValueWithKeyStringPath("isVisualStickyEnabled");this.addMinoBitmap(f.x1542464744281366388x,t.getStringValueWithKeyStringPath("baseMinoTexture.resource_texture"),e),this.addMinoBitmap(f.x2307441568472904081x,t.getStringValueWithKeyStringPath("visualStates.nextPiece.resource_texture"),e),this.addMinoBitmap(f.x2419069812277367245x,t.getStringValueWithKeyStringPath("visualStates.livePiece.resource_texture"),e),this.addMinoBitmap(f.x1778395811108923465x,t.getStringValueWithKeyStringPath("visualStates.ghostPiece.resource_texture"),e),this.addMinoBitmap(f.x3101548245554889221x,t.getStringValueWithKeyStringPath("visualStates.holdPiece.resource_texture"),e),this.addMinoBitmap(f.x3045546467004092255x,t.getStringValueWithKeyStringPath("visualStates.locked.resource_texture"),e),this.addMinoBitmap(f.x2874369192688022400x,t.getStringValueWithKeyStringPath("visualStates.garbage.resource_texture"),e),this.addMinoBitmap(f.x3742112099986664711x,t.getStringValueWithKeyStringPath("visualStates.shattering.resource_texture"),e),this.addMinoBitmap(f.x1847161197602780325x,t.getStringValueWithKeyStringPath("visualStates.shattered.resource_texture"),!1),this.addMinoBitmap(f.x2726954391055212649x,t.getStringValueWithKeyStringPath("visualStates.shattering.resource_texture"),e),this.addMinoBitmap(f.x3286196812965712189x,t.getStringValueWithKeyStringPath("visualStates.shattered.resource_texture"),!1),this.addMinoBitmap(f.x1527126193027760517x,t.getStringValueWithKeyStringPath("visualStates.dying.resource_texture"),!1),this.addMinoBitmap(f.x244013038850211387x,t.getStringValueWithKeyStringPath("visualStates.garbage2.resource_texture"),e),this.mMinoSpriteFrameSet.remapMinoLogicalState(f.x3729310023219695253x,f.x2419069812277367245x),this.mMinoSpriteFrameSet.remapMinoLogicalState(f.x853617920205802087x,f.x1778395811108923465x),this.mMinoSpriteFrameSet.remapMinoType(a.x1897493751449396940x,a.x3470980478260957226x),this.mMinoSpriteFrameSet.remapMinoType(a.x767082808028451276x,a.x4089917939347655793x),this.mMinoSpriteFrameSet.remapMinoType(a.x272739351403741827x,a.x4356952734068014821x),this.mMinoSpriteFrameSet.remapMinoType(a.x793268783332517826x,a.x3470980478260957226x),this.mMinoSpriteFrameSet.remapMinoType(a.x2986567280613901413x,a.x3470980478260957226x),this.mMinoSpriteFrameSet.constructSpriteFrames()},v.addMinoBitmap=function(t,e,i){if(""!=e){var n=null,r=p.getNumFilePathPermutations(e);if(r>0)for(var s=0;s<r;s++){var o=p.getFilePathPermutation(e,s),x=p.getFilePathAddition(e,s),u=a.getStandardPieceTypeId(x),c=0!=u?3:8;n=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeBitmap(o),this.mMinoSpriteFrameSet.addMinoBitmap(t,u,n,0,0,p.NativeBitmap_getWidth(n),p.NativeBitmap_getHeight(n),i,c)}else n=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeBitmap(e),this.mMinoSpriteFrameSet.addMinoBitmap(t,0,n,0,0,p.NativeBitmap_getWidth(n),p.NativeBitmap_getHeight(n),i,3)}},v.updateAudioButton=function(){this.mAudioButton&&this.mAudioButton.setIsOn(!this.mGameMgr.getIsAudioMuted())},v.toggleAudioButton=function(){if(this.mAudioButton){var t=this.mGameMgr.getIsAudioMuted();this.mGameMgr.setIsAudioMuted(!t),this.updateAudioButton()}},v.addDebugMessage=function(t){if(this.mDebugMessagesView){var e=this.mDebugMessagesView.getText();e&&""!=e&&(e+="\n"),e+=t,e=a.trimStringLines(e,this.mDebugMessagesViewMaxLines,!0),this.mDebugMessagesView.setText(e)}},v.x1721113016797186854x=function(){this.mGameMgr.removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mMinoSpriteFrameSet&&(this.mMinoSpriteFrameSet.destroy(),this.mMinoSpriteFrameSet=null),this.mGameMgr=null,this.mGame=null,this.mPauseButton=null,this.mAudioButton=null,null!==this.mDebugMessagesView&&(this.mDebugMessagesView.destroy(),this.mDebugMessagesView=null),t.prototype.x1721113016797186854x.call(this)},v.x601562840631873202x=function(t,e,i){if(e==this.mPauseButton)t==y.x1220349481777468123x&&this.mGameMgr.pauseGame();else if(e==this.mAudioButton)t==y.x1220349481777468123x&&this.toggleAudioButton();else switch(t){case o.x1837688871124046825x:switch(this.mGame.getCurrentState()){case o.x2011879311002059536x:case o.x1514772141815616644x:this.mPauseButton&&this.mPauseButton.setIsEnabled(!0),this.mAudioButton&&this.mAudioButton.setIsEnabled(!0),this.updateAudioButton();break;case o.x586834288206199424x:case o.x968731194594044803x:case o.x3265934470092458605x:this.mPauseButton&&this.mPauseButton.setIsEnabled(!1),this.mAudioButton&&this.mAudioButton.setIsEnabled(!1)}break;case x.x4372612027967450106x:this.addDebugMessage("- - -");break;case d.x593103829868600629x:if(this.mDebugMessagesView)switch(i.getObjectValue(d.x3044825115508512875x).getActionId()){case u.x2113334628118377893x:this.addDebugMessage("SPEED UP/DOWN");break;case c.x3194209701878920299x:this.addDebugMessage("TURN");break;case l.x568122050052276579x:this.addDebugMessage("BLUR");break;case h.x3730400382218827790x:this.addDebugMessage("POKE");break;case m.x4562906994610874993x:this.addDebugMessage("PRESS");break;case g.x3447025935325255921x:this.addDebugMessage("SHIFT")}}},n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x4560964134034227844x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3791052768062686699x.ts","./x3693760142138385085x.ts","./x1232577566642415821x.ts","./x2205868517935256955x.ts","./x702435451033209193x.ts","./x982037128155278742x.ts","./x49008801373907804x.ts","./x3461623316906106937x.ts","./x3026372372374902841x.ts","./x1479493434950596026x.ts","./x3001588770202680173x.ts","./x923301222305930093x.ts","./x4083617637690936339x.ts","./x3513548718171000876x.ts","./x1119179591842280899x.ts","./x4177071645687641537x.ts","./x84946173450627179x.ts","./x880562797070432433x.ts","./x1734189169196685004x.ts","./x2092587468266470742x.ts","./x3663611298040580465x.ts","./x4480444526479763272x.ts","./x349179295227638153x.ts","./x3482684588425346520x.ts","./x798347270567386436x.ts","./x1442954324271535409x.ts","./x4037811246765908194x.ts","./x849814992193452328x.ts","./x2568125435593650424x.ts","./x2047532040983720855x.ts","./x4016911264059163956x.ts","./x439725023118195804x.ts","./x1975437464451156427x.ts","./x2385793234846142307x.ts","./x1550596296120876899x.ts","./x2109210492123306036x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m,g,f,d,p,S,y,P,I,v,M,V,T,C,A,F,D,k,L,w,N,b,E,R,B,_,O,G;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3791052768062686699x},function(t){a=t.x3693760142138385085x},function(t){o=t.x1232577566642415821x},function(t){x=t.x2205868517935256955x},function(t){u=t.x702435451033209193x},function(t){c=t.x982037128155278742x},function(t){l=t.x49008801373907804x},function(t){h=t.x3461623316906106937x},function(t){m=t.x3026372372374902841x},function(t){g=t.x1479493434950596026x},function(t){f=t.x3001588770202680173x},function(t){d=t.x923301222305930093x},function(t){p=t.x4083617637690936339x},function(t){S=t.x3513548718171000876x},function(t){y=t.x1119179591842280899x},function(t){P=t.x4177071645687641537x},function(t){I=t.x84946173450627179x},function(t){v=t.x880562797070432433x},function(t){M=t.x1734189169196685004x},function(t){V=t.x2092587468266470742x},function(t){T=t.x3663611298040580465x},function(t){C=t.x4480444526479763272x},function(t){A=t.x349179295227638153x},function(t){F=t.x3482684588425346520x},function(t){D=t.x798347270567386436x},function(t){k=t.x1442954324271535409x},function(t){L=t.x4037811246765908194x},function(t){w=t.x849814992193452328x},function(t){N=t.x2568125435593650424x},function(t){b=t.x2047532040983720855x},function(t){E=t.x4016911264059163956x},function(t){R=t.x439725023118195804x},function(t){B=t.x1975437464451156427x},function(t){_=t.x2385793234846142307x},function(t){O=t.x1550596296120876899x},function(t){G=t.x2109210492123306036x}],execute:function(){r._RF.push({},"00698GMwopJWI1URNgtX7t3","x4560964134034227844x",void 0),t("x4560964134034227844x",function(t){function r(e,i,s,a,o,x){var c;return(c=t.call(this,null)||this).setIsPointerControl(e.getBoolValueWithDefault(u.stringToValueKey("enablePointerControl"),!0)),c.mParams=e.x3395266717842453812x(),c.mMatrixMinoSpacing=0,c.mMatrixMinoGap=0,c.mMatrixLeftX=0,c.mMatrixBottomY=0,c.mMatrixViewHalfWidth=0,c.mMatrixViewHalfHeight=0,c.mPointerInputOffsetX=0,c.mPointerInputOffsetY=0,c.mMinoSpriteFrameSet=a,c.mMinoActionItemSpriteFrameResources=null,c.mLockingMinoFadeToAlpha=e.getFloatValueWithKeyStringPath("matrix.lockingMinoEffects.fadeToAlpha"),c.mPostLockMinoBlinkTimeMSEC=e.getIntValueWithKeyStringPath("matrix.postLockMinoEffects.blinkTimeMSEC"),c.mPostLockMinoNumBlinks=e.getIntValueWithKeyStringPath("matrix.postLockMinoEffects.numBlinks"),c.mShatteringMinoNumBlinks=e.getIntValueWithKeyStringPath("matrix.shatteringMinoEffects.numBlinks"),c.mDyingMinoHorizontalSequenceType=e.getDictionary2(r.x3031829910526068852x,r.x1756484500833801327x).getStringValueAsHash32(r.x4000551401134910823x),c.mDyingMinoFadeFromAlpha=e.getDictionaryWithKeyStringPath("matrix.dyingMinoEffects").getFloatValueWithDefault(u.stringToValueKey("fadeFromAlpha"),1),c.mDyingMinoFadeToAlpha=e.getFloatValueWithKeyStringPath("matrix.dyingMinoEffects.fadeToAlpha"),c.mDyingMinoNumBlinks=e.getIntValueWithKeyStringPath("matrix.dyingMinoEffects.numBlinks"),c.mHoldPieceMinoSpacing=e.getFloatValueWithKeyStringPath("holdPiece.minoSpacing"),c.mNextQueueMinoSpacing=e.getFloatValueWithKeyStringPath("nextQueue.minoSpacing"),c.mIsGhostPieceEnabled=e.getBoolValueWithKeyStringPath("ghostPiece.enabled"),c.mGhostPieceAlpha=e.getFloatValueWithKeyStringPath("minos.visualStates.ghostPiece.alpha"),c.mMatrixDimmingForegroundAlpha=e.getFloatValueWithKeyStringPath("matrix.dimmingForeground.alpha"),c.mMatrixOverlayMessage1MessagesWon=e.getStringValueWithKeyStringPath("matrixOverlay.message1.messages.won"),c.mMatrixOverlayMessage1MessagesLost=e.getStringValueWithKeyStringPath("matrixOverlay.message1.messages.lost"),c.mMatrixOverlayMessage1MessagesTied=e.getStringValueWithKeyStringPath("matrixOverlay.message1.messages.tied"),c.mMatrixOverlayMessage1MessagesReady=e.getStringValueWithKeyStringPath("matrixOverlay.message1.messages.ready"),c.mMatrixOverlayMessage1MessagesWaiting=e.getStringValueWithKeyStringPath("matrixOverlay.message1.messages.waiting"),c.mMinoActionItemActivatedTexts=null,c.mEnableAnimations=e.getBoolValueWithKeyStringPath("enableAnimations"),c.mGameMgr=i,i.addMessageListener(n(c)),i.getValueChangedSource().addMessageListener(n(c)),i.getGame().addMessageListener(n(c)),i.getPlayerAtIndex(s).addMessageListener(n(c)),i.getPlayerAtIndex(s).addMessageListenerToComponents(n(c)),c.mGame=c.mGameMgr.getGame(),c.mPlayerIndex=s,c.mPlayer=c.mGameMgr.getGame().getPlayerAtIndex(s),c.mMatrixWidth=10,c.mPlayerView=null,c.mLayer2Container=null,c.mBackgroundView=null,c.mMatrixContainerView=null,c.mMatrixBackgroundView=null,c.mMatrixDimmingForegroundView=null,c.mMatrixView=null,c.mMatrixVFXUnderlayView=null,c.mMatrixVFXOverlayView=null,c.mMatrixMinosView=null,c.mMatrixUndergoundMinosView=null,c.mLivePieceView=null,c.mGhostPieceView=null,c.mNextQueueView=null,c.mHoldPieceView=null,c.mAvatarView=null,c.mAvatarLevelView=null,c.mKnockoutsMeterView=null,c.mKnockoutsSentView=null,c.mTurnTimerView=null,c.mAttackLinesSentView=null,c.mIncomingAttackMeterView=null,c.mScoreValueView=null,c.mScoreMultiplierValueView=null,c.mScoreMultiplierValueViewShowX=!0,c.mLinesValueView=null,c.mLevelRemainingActionGoalValueView=null,c.mLevelValueView=null,c.mDeepestLineClearValueView=null,c.mElapsedTimeValueView=null,c.mRemainingTimeValueView=null,c.mLevelOverlaySpriteFrameResource=null,c.mLevelOverlayView=null,c.mMatrixOverlayView=null,c.mMessage1View=null,c.mMessage2SpriteFrameResource=null,c.mMessage2View=null,c.mCountdownValueView=null,c.mHoldButton=null,c.mPendingActionItemButton=null,c.mViewFactory=null,c.mViewMgr=null,c.construct(o,x),c.setName("_BPSTGStandardPlayerView"),c}e(r,t);var X=r.prototype;return X.construct=function(t,e){var i;null!==this.mViewFactory&&(this.mViewFactory.destroy(),this.mViewFactory=null),this.mViewFactory=new N(this.mGameMgr.getAppSupportFactory().getResourceMgr()),null!==this.mViewMgr&&(this.mViewMgr.destroy(),this.mViewMgr=null),this.mViewMgr=new b(this.mParams.getDictionary(r.x2687095278261377036x),this.mViewFactory,this),this.mMinoActionItemActivatedTexts=this.mViewMgr.getPoolParams(r.x3712736674383598756x)?this.mViewMgr.getPoolParams(r.x3712736674383598756x).getDictionaryWithKeyStringPath("viewParams.actionItemsText"):null,this.mMatrixMinoSpacing=this.mParams.getFloatValueWithKeyStringPath("matrix.minoSpacing"),this.mPointerInputOffsetX=this.mParams.getFloatValueWithKeyStringPath("matrix.pointerInput.offsetX"),this.mPointerInputOffsetY=this.mParams.getFloatValueWithKeyStringPath("matrix.pointerInput.offsetY"),this.setSize(E.instance().getWindowWidth(),E.instance().getWindowHeight()),this.setPosition(this.mParams.getFloatValueWithKeyStringPath("originX"),this.mParams.getFloatValueWithKeyStringPath("originY"));var n=this.mParams.getBoolValueWithKeyStringPath("minos.minoPlayerActionItems.enabled");if(n){this.mMinoActionItemSpriteFrameResources=new a(!0);var s=this.mParams.getDictionaryWithKeyStringPath("minos.minoPlayerActionItems.actionIds"),o=s.getNumValues();for(i=0;i<o;i++)for(var x=this.mMinoActionItemSpriteFrameResources.createDictionary(s.getValueKeyAtIndex(i),s.getValueKeyStringAtIndex(i),999999,!1),c=s.getDictionaryAtIndex(i),l=c.getNumValues(),h=0;h<l;h++){var m=c.getDictionaryAtIndex(h).getStringValueWithKeyStringPath("resource_texture");x.setObjectValue(c.getValueKeyAtIndex(h),this.mViewFactory.getResourceMgr().getNativeSpriteFrameResource(m))}}this.mParams.getBoolValueWithKeyStringPath("holdPiece.enabled")&&this.mParams.getBoolValueWithKeyStringPath("holdButton.enabled")&&(this.mHoldButton=this.mGameMgr.getAppSupportFactory().createViewWithTypeAndClass("_BPSUIButton","_BPSUIButton",this.mParams.getDictionaryWithKeyString("holdButton")),this.mHoldButton.addMessageListener(this),this.mHoldButton.setName("holdButton"),this.addChild(this.mHoldButton)),this.mParams.getBoolValueWithKeyStringPath("pendingActionItem.enabled")&&this.mParams.getBoolValueWithKeyStringPath("pendingActionItemButton.enabled")&&!this.mPlayer.getAutoActivatePendingActionsQueue()&&(this.mPendingActionItemButton=this.mGameMgr.getAppSupportFactory().createViewWithTypeAndClass("_BPSUIButton","_BPSUIButton",this.mParams.getDictionaryWithKeyString("pendingActionItemButton")),this.mPendingActionItemButton.addMessageListener(this),this.mPendingActionItemButton.setName("pendingActionItemButton"),this.addChild(this.mPendingActionItemButton)),this.mPlayerView=k.NativeView_create(),k.NativeView_setName(this.mPlayerView,"PlayerView"),k.NativeView_setPosition(this.mPlayerView,0,0);var g=new O(!1,null);g.setNativeView(this.mPlayerView),this.addChild(g),this.mLayer2Container=new R(this.getAppSupportFactory()),this.mLayer2Container&&this.mLayer2Container.retain(),this.mLayer2Container.setPosition(this.getX(),this.getY());var f=this.mPlayer.isAIControlled()?this.mParams.getDictionaryWithKeyString("backgroundAIPlayer"):this.mParams.getDictionaryWithKeyString("background");if(this.mPlayer.isAIControlled()&&!f&&(f=this.mParams.getDictionaryWithKeyString("background")),this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(f.getStringValueWithKeyStringPath("resource_texture"))&&(this.mBackgroundView=k.NativeSprite_createWithSpriteFrame(this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrame(f.getStringValueWithKeyStringPath("resource_texture"),0)),k.NativeView_setName(this.mBackgroundView,"background"),k.NativeView_addChild(this.mPlayerView,this.mBackgroundView),k.NativeSprite_setPositionWithAnchor(this.mBackgroundView,f.getFloatValueWithKeyStringPath("transform.x"),f.getFloatValueWithKeyStringPath("transform.y"),f.getFloatValueWithKeyStringPath("transform.anchorX"),f.getFloatValueWithKeyStringPath("transform.anchorY")),k.NativeView_setChildrenSortingDepth(this.mPlayerView,1,0,0,!1)),this.constructMatrixView(),this.mParams.getBoolValueWithKeyStringPath("nextQueue.enabled")){this.mNextQueueView=k.NativeView_create(),k.NativeView_setName(this.mNextQueueView,"nextQueue"),k.NativeView_addChild(this.mPlayerView,this.mNextQueueView),k.NativeView_setPosition(this.mNextQueueView,this.mParams.getFloatValueWithKeyStringPath("nextQueue.firstPieceCenterX"),this.mParams.getFloatValueWithKeyStringPath("nextQueue.firstPieceCenterY"));var d=this.mMinoSpriteFrameSet.getMinoNativeSpriteFrame(A.x2307441568472904081x,u.x3470980478260957226x,0),p=u.minInt(this.mParams.getIntValueWithKeyStringPath("nextQueue.maxNumVisiblePieces"),this.mPlayer.getPieceQueue().getCapacity()),S=this.mParams.getFloatValueWithKeyStringPath("nextQueue.pieceSpacing");for(i=0;i<p;i++){var y=this.createPieceView(d,n,4);k.NativeView_setName(y,"nextPiece"),k.NativeView_addChild(this.mNextQueueView,y),k.NativeView_setPosition(y,0,i*S)}}this.mParams.getBoolValueWithKeyStringPath("holdPiece.enabled")&&(this.mHoldPieceView=this.createPieceView(this.mMinoSpriteFrameSet.getMinoNativeSpriteFrame(A.x3101548245554889221x,u.x3470980478260957226x,0),n,4),k.NativeView_setName(this.mHoldPieceView,"holdPiece"),k.NativeView_addChild(this.mPlayerView,this.mHoldPieceView),k.NativeView_setPosition(this.mHoldPieceView,this.mParams.getFloatValueWithKeyStringPath("holdPiece.centerX"),this.mParams.getFloatValueWithKeyStringPath("holdPiece.centerY")));var P=this.mPlayer.getAvatarIndex();if(this.mAvatarView=this.mViewMgr.createSpriteView(this.mParams.getDictionaryWithKeyStringPath("avatar"),this.mPlayerView,!0),this.mAvatarView){this.mAvatarView.setNativeViewName("avatar");var I=this.mParams.getDictionaryWithKeyStringPath("avatar.textures").getDictionaryAtIndex(P).getStringValueWithKeyStringPath("resource_texture"),v=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrame(I,0);this.mAvatarView.setNativeSpriteFrame(v)}if(this.mAvatarLevelView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("avatarLevel"),this.mPlayerView,!0),this.mAvatarLevelView){var M=P+1;this.mAvatarLevelView.setNativeViewName("avatarLevel"),this.mAvatarLevelView.setText(G.concatStrings("LEVEL ",u.stringFromInt(M,1,!1)))}this.mParams.getBoolValueWithKeyStringPath("knockoutsMeter.enabled")&&(this.mKnockoutsMeterView=this.createKnockoutsMeterView(this.mParams.getDictionaryWithKeyStringPath("knockoutsMeter")),k.NativeView_addChild(this.mPlayerView,this.mKnockoutsMeterView),k.NativeView_setIsVisible(this.mKnockoutsMeterView,!1)),this.mKnockoutsSentView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("knockoutsSent"),this.mPlayerView,!0),this.mKnockoutsSentView&&this.mKnockoutsSentView.setNativeViewName("knockoutsSent"),this.mParams.getBoolValueWithKeyStringPath("turnBattle.turnTimer.enabled")&&(this.mTurnTimerView=this.createTurnTimerView(this.mParams.getDictionaryWithKeyStringPath("turnBattle.turnTimer")),k.NativeView_addChild(this.mPlayerView,this.mTurnTimerView),k.NativeView_setIsVisible(this.mTurnTimerView,!1)),this.mAttackLinesSentView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("attackLinesSent"),this.mPlayerView,!0),this.mAttackLinesSentView&&this.mAttackLinesSentView.setNativeViewName("attackLinesSent"),this.mParams.getBoolValueWithKeyStringPath("attackMeter.enabled")&&(this.mIncomingAttackMeterView=this.createAttackMeterView(this.mParams.getDictionaryWithKeyStringPath("attackMeter")),k.NativeView_addChild(this.mPlayerView,this.mIncomingAttackMeterView)),this.mScoreValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("scoreValue"),this.mPlayerView,!0),this.mScoreValueView&&this.mScoreValueView.setNativeViewName("scoreValue"),this.mScoreMultiplierValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("scoreMultiplierValue"),this.mPlayerView,!0),this.mScoreMultiplierValueView&&(this.mScoreMultiplierValueView.setNativeViewName("scoreMultiplierValue"),this.mScoreMultiplierValueViewShowX=this.mParams.getDictionaryWithKeyStringPath("scoreMultiplierValue").getBoolValueWithDefault(u.stringToValueKey("showX"),!0)),this.mLinesValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("linesValue"),this.mPlayerView,!0),this.mLinesValueView&&this.mLinesValueView.setNativeViewName("linesValue"),this.mLevelRemainingActionGoalValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("levelRemainingActionGoalValue"),this.mPlayerView,!0),this.mLevelRemainingActionGoalValueView&&this.mLevelRemainingActionGoalValueView.setNativeViewName("levelRemainingActionGoalValue"),this.mLevelValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("levelValue"),this.mPlayerView,!0),this.mLevelValueView&&this.mLevelValueView.setNativeViewName("levelValue"),this.mDeepestLineClearValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("deepestLineClearValue"),this.mPlayerView,!0),this.mDeepestLineClearValueView&&this.mDeepestLineClearValueView.setNativeViewName("deepestLineClearValue"),this.mElapsedTimeValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("elapsedTimeValue"),this.mPlayerView,!0),this.mElapsedTimeValueView&&this.mElapsedTimeValueView.setNativeViewName("elapsedTimeValue"),this.mRemainingTimeValueView=this.mViewMgr.createBitmapTextView(this.mParams.getDictionaryWithKeyStringPath("remainingTimeValue"),this.mPlayerView,!0),this.mRemainingTimeValueView&&(this.mRemainingTimeValueView.setNativeViewName("remainingTimeValue"),this.mRemainingTimeValueViewShowSecondsOnly=this.mParams.getDictionaryWithKeyStringPath("remainingTimeValue").getBoolValueWithDefault(u.stringToValueKey("showSecondsOnly"),!0)),this.mParams.getBoolValueWithKeyStringPath("matrixOverlay.enabled")&&(this.mMatrixOverlayView=this.createMatrixOverlayView(this.mParams.getDictionaryWithKeyStringPath("matrixOverlay")),k.NativeView_setName(this.mMatrixOverlayView,"matrixOverlay"),k.NativeView_addChild(this.mLayer2Container.getNativeView(),this.mMatrixOverlayView)),t.addChild(this),e.addChild(this.mLayer2Container)},X.constructMatrixView=function(){this.mMatrixContainerView&&(this.mMatrixBackgroundView&&(k.NativeView_removeFromParent(this.mMatrixBackgroundView.getNativeView()),this.mMatrixBackgroundView&&this.mMatrixBackgroundView.release(),this.mMatrixBackgroundView=null),this.mMatrixDimmingForegroundView&&(k.NativeView_removeFromParent(this.mMatrixDimmingForegroundView.getNativeView()),this.mMatrixDimmingForegroundView&&this.mMatrixDimmingForegroundView.release(),this.mMatrixDimmingForegroundView=null),k.NativeView_destroy(this.mMatrixContainerView,!0),this.mMatrixContainerView=null,this.mMatrixView=null,this.mMatrixVFXUnderlayView=null,this.mMatrixMinosView=null,this.mMatrixUndergoundMinosView=null,this.mGhostPieceView=null,this.mLivePieceView=null,k.NativeView_removeFromParent(this.mMatrixVFXOverlayView),this.mMatrixVFXOverlayView=null),this.mMatrixContainerView=k.NativeView_create(),k.NativeView_setName(this.mMatrixContainerView,"MatrixContainer"),k.NativeView_addChild(this.mPlayerView,this.mMatrixContainerView);var t=this.mPlayer.getMatrix();this.mMatrixWidth=t.getWidth();var e=this.mMinoSpriteFrameSet.getMinoNativeSpriteFrame(A.x3045546467004092255x,u.x3470980478260957226x,0),i=k.NativeSpriteFrame_getWidth(e);this.mMatrixMinoGap=this.mMatrixMinoSpacing-i+this.mParams.getFloatValueWithKeyStringPath("matrix.minoGapAdjust");var n=t.getWidth()*this.mMatrixMinoSpacing-this.mMatrixMinoGap,r=t.getVisibleHeight()*this.mMatrixMinoSpacing-this.mMatrixMinoGap;this.mMatrixLeftX=~~k.getAnchoredPosition(this.mParams.getFloatValueWithKeyStringPath("matrix.transform.x"),n,0,this.mParams.getFloatValueWithKeyStringPath("matrix.transform.anchorX")),this.mMatrixBottomY=~~k.getAnchoredPosition(this.mParams.getFloatValueWithKeyStringPath("matrix.transform.y"),r,0,this.mParams.getFloatValueWithKeyStringPath("matrix.transform.anchorY")),this.mMatrixViewHalfWidth=t.getWidth()*this.mMatrixMinoSpacing*.5,this.mMatrixViewHalfHeight=t.getVisibleHeight()*this.mMatrixMinoSpacing*.5;var s=this.mMatrixLeftX+this.mMatrixViewHalfWidth,a=this.mMatrixBottomY+this.mMatrixViewHalfHeight;this.mMatrixBackgroundView=this.createMatrixFrameView(this.mParams.getDictionaryWithKeyStringPath("matrix.background"),n,r),this.mMatrixBackgroundView&&(this.mMatrixBackgroundView.retain(),this.mMatrixBackgroundView.setName("MatrixBackground"),this.mMatrixBackgroundView.addAsChildToNativeParent(this.mMatrixContainerView)),this.mMatrixVFXUnderlayView=k.NativeView_create(),k.NativeView_setName(this.mMatrixVFXUnderlayView,"MatrixVFXUnderlay"),k.NativeView_addChild(this.mMatrixContainerView,this.mMatrixVFXUnderlayView),k.NativeView_setPosition(this.mMatrixVFXUnderlayView,s,a-1),this.mMatrixView=k.NativeView_create(),k.NativeView_setName(this.mMatrixView,"Matrix"),k.NativeView_addChild(this.mMatrixContainerView,this.mMatrixView),k.NativeView_setPosition(this.mMatrixView,this.mMatrixLeftX,this.mMatrixBottomY),this.mMatrixVFXOverlayView=k.NativeView_create(),k.NativeView_setName(this.mMatrixVFXOverlayView,"MatrixVFXOverlay"),k.NativeView_addChild(this.mLayer2Container.getNativeView(),this.mMatrixVFXOverlayView),k.NativeView_setPosition(this.mMatrixVFXOverlayView,s,a-1);var o=k.NativeCropView_createInParent(0,0,this.mMatrixLeftX,this.mMatrixBottomY,n,r,0,0,this.mMatrixView);k.NativeView_setName(o,"matrixCrop");var x=this.mParams.getBoolValueWithKeyStringPath("minos.minoPlayerActionItems.enabled");this.mMatrixMinosView=k.NativeView_create(),k.NativeView_setName(this.mMatrixMinosView,"MatrixMinos"),k.NativeView_addChild(o,this.mMatrixMinosView),this.mMatrixUndergoundMinosView=k.NativeView_create(),k.NativeView_setName(this.mMatrixUndergoundMinosView,"MatrixUndergoundMinos"),k.NativeView_addChild(o,this.mMatrixUndergoundMinosView);for(var c=t.getWidth(),l=t.getVisibleHeight()+1,h=-1;h<l;h++)for(var m=0;m<c;m++){var g=this.createMinoView(e,x);h>=0?k.NativeView_addChild(this.mMatrixMinosView,g):k.NativeView_addChild(this.mMatrixUndergoundMinosView,g),k.NativeView_setPosition(g,m*this.mMatrixMinoSpacing,h*this.mMatrixMinoSpacing),k.NativeView_setIsVisible(g,!1)}this.mGhostPieceView||(this.mGhostPieceView=this.createPieceView(e,!1,4),k.NativeView_setName(this.mGhostPieceView,"GhostPiece")),k.NativeView_addChild(o,this.mGhostPieceView),this.mLivePieceView||(this.mLivePieceView=this.createPieceView(e,x,4),k.NativeView_setName(this.mLivePieceView,"LivePiece")),k.NativeView_addChild(o,this.mLivePieceView),k.NativeCropView_enableOnChildren(o,o),this.mMatrixDimmingForegroundView=this.createMatrixFrameView(this.mParams.getDictionaryWithKeyStringPath("matrix.dimmingForeground"),n,r),this.mMatrixDimmingForegroundView&&(this.mMatrixDimmingForegroundView.retain(),this.mMatrixDimmingForegroundView.setName("MatrixDimmingForeground"),this.mMatrixDimmingForegroundView.addAsChildToNativeParent(this.mMatrixContainerView)),k.NativeView_setChildrenSortingDepth(o,0,-.1,2,!1),k.NativeView_setChildrenSortingDepth(this.mMatrixContainerView,0,-.5,0,!1)},X.createMatrixFrameView=function(t,e,i){var n=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValueWithKeyStringPath("resource_texture"));if(n){var r=0,s=0,a=0,o=0;if(n.isScale9()){var x=t.getFloatValueWithKeyStringPath("padding");r=e+2*x,s=i+2*x,a=this.mMatrixLeftX-x+t.getFloatValueWithKeyStringPath("offsetX"),o=this.mMatrixBottomY-x+t.getFloatValueWithKeyStringPath("offsetY")}else r=k.NativeSpriteFrame_getWidth(n.getNativeSpriteFrame(0)),s=k.NativeSpriteFrame_getHeight(n.getNativeSpriteFrame(0)),a=this.mMatrixLeftX-~~(.5*(r-e))+t.getFloatValueWithKeyStringPath("offsetX"),o=this.mMatrixBottomY-~~(.5*(s-i))+t.getFloatValueWithKeyStringPath("offsetY");var c=new B(this.mGameMgr.getAppSupportFactory());return c.setName("matrixBackground"),c.setSpriteFrame(n),c.setSize(r,s),c.setAnchor(0,0),c.setPosition(a,o),c.setAlpha(t.getFloatValueWithDefault(u.stringToValueKey("alpha"),1)),c}return null},X.updateViews=function(t){var e=null,i=null,n=!1;switch(this.updateNextQueueView(),this.mGame.getCurrentState()){case l.x1514772141815616644x:case l.x3265934470092458605x:n=!0;for(var r=this.mPlayer.getMatrix(),s=r.getWidth(),a=r.getVisibleHeight(),o=a+1,x=0,c=-1;c<o;c++)for(var h=0;h<s;h++){var m=null,p=null;if(c>=0)m=r.getMinoAt(h,c),p=k.NativeView_getChildAtIndex(this.mMatrixMinosView,c*s+h),x=0;else{var S=-1-c;m=r.getExternalMinoBelow(h,S),p=k.NativeView_getChildAtIndex(this.mMatrixUndergoundMinosView,S*s+h),x=c*this.mMatrixMinoSpacing-this.mMatrixMinoGap}this.updateMinoView(p,m,this.mMatrixMinoSpacing,-1,a,0,0,0,x)}if(this.updatePieceView(this.mLivePieceView,this.mPlayer.getLivePiece(),!1,this.mMatrixMinoSpacing,0,a),this.updatePieceView(this.mGhostPieceView,this.mPlayer.getGhostPiece(!1),!1,this.mMatrixMinoSpacing,0,a),this.updatePieceView(this.mHoldPieceView,this.mPlayer.getHoldPiece(),!0,this.mHoldPieceMinoSpacing,u.x3148667442332835850x,u.x4486032239274713138x),this.mScoreValueView&&(i=this.mPlayer.getComponent(d.x2355730316075620282x))&&this.mScoreValueView.setTextWithInteger(i.getScore()),this.mScoreMultiplierValueView&&(i=this.mPlayer.getComponent(d.x2355730316075620282x))&&(this.mScoreMultiplierValueViewShowX?this.mScoreMultiplierValueView.setText(u.stringFromInt(i.getScoreMultiplier(),1,!0)+"x"):this.mScoreMultiplierValueView.setText(u.stringFromInt(i.getScoreMultiplier(),1,!0))),this.mLevelValueView&&(e=this.mPlayer.getComponent(f.x4314461242255220561x))&&this.mLevelValueView.setText(e.getLevelDisplayNameForLevelIndex(e.getCurrentLevelIndex())),this.mLinesValueView&&this.mLinesValueView.setTextWithInteger(this.mPlayer.getTotalMatrixMinoPatternMatches()),this.mLevelRemainingActionGoalValueView&&(e=this.mPlayer.getComponent(f.x4314461242255220561x))){var y=e.getLevelRemainingActionGoal();this.mLevelRemainingActionGoalValueView.setText(u.stringFromInt(y,1,!0))}if(this.mDeepestLineClearValueView){var P=this.mPlayer.getComponent(g.x2324817043947020368x);P&&this.mDeepestLineClearValueView.setText(u.stringFromInt(P.getDeepestLineClear(),1,!0))}if(this.mElapsedTimeValueView&&this.mElapsedTimeValueView.setText(u.timeStringFromMSEC(this.mPlayer.getElapsedActiveGameTimeMSEC(),1,0)),this.mRemainingTimeValueView){var I=~~(this.mPlayer.getRemainingTimeMSEC()/1e3);if(this.mRemainingTimeValueViewShowSecondsOnly?this.mRemainingTimeValueView.setText(u.stringFromInt(I,1,!1)):this.mRemainingTimeValueView.setText(u.timeStringFromMSEC(this.mPlayer.getRemainingTimeMSEC(),1,0)),I<10){var v=50*(I+1);v=u.maxInt(v,50),this.mPlayer.getRemainingTimeMSEC()%(2*v)>v?this.mRemainingTimeValueView.setAlpha(.4):this.mRemainingTimeValueView.setAlpha(1)}else this.mRemainingTimeValueView.setAlpha(1)}this.updateKnockoutsViews(),this.updateAttacksViews(),this.updateTurnTimerView()}k.NativeView_setIsVisible(this.mLivePieceView,n&&this.mPlayer.getLivePiece()),k.NativeView_setIsVisible(this.mGhostPieceView,n&&this.mPlayer.getGhostPiece(!1)&&this.mPlayer.getControlComponent().x3633925409096558838x().isGhostPieceValid()&&this.mIsGhostPieceEnabled),k.NativeView_setIsVisible(this.mMatrixMinosView,n),k.NativeView_setIsVisible(this.mIncomingAttackMeterView,n),k.NativeView_setIsVisible(this.mMatrixUndergoundMinosView,n),k.NativeView_setIsVisible(this.mNextQueueView,n),k.NativeView_setIsVisible(this.mHoldPieceView,n&&this.mPlayer.getHoldPiece()),k.NativeView_setIsVisible(this.mMatrixVFXUnderlayView,n),k.NativeView_setIsVisible(this.mMatrixVFXOverlayView,n),this.updateMatrixDimmingForegroundView(),this.updateMatrixOverlayView(),n?this.mViewMgr.processTime(t):this.mCountdownValueView&&this.mCountdownValueView.processTime(t)},X.updateNextQueueView=function(){if(this.mNextQueueView)for(var t=k.NativeView_getNumChildren(this.mNextQueueView),e=0;e<t;e++){var i=k.NativeView_getChildAtIndex(this.mNextQueueView,e);this.updatePieceView(i,this.mPlayer.getPieceQueue().getPieceAtIndex(e),!0,this.mNextQueueMinoSpacing,u.x3148667442332835850x,u.x4486032239274713138x)}var n=!0;switch(this.mGame.getCurrentState()){case l.x2011879311002059536x:n=!this.mGame.getDidStartPlayers();break;case l.x968731194594044803x:n=!1;break;default:n=!0}k.NativeView_setIsVisible(this.mNextQueueView,n)},X.createMinoView=function(t,e){var i=k.NativeSprite_createWithSpriteFrame(t);if(k.NativeView_setName(i,"mino"),k.NativeView_setIsVisible(i,!1),e){var n=this.createMinoPlayerActionItemView();k.NativeView_setIsVisible(n,!1),k.NativeView_addChild(i,n),k.NativeView_setChildrenSortingDepth(i,-1,0,0,!1)}return i},X.updateMinoView=function(t,e,i,n,s,a,o,x,c){var l=e&&u.FXPTToFloat(e.getVisualY_FXPT())>=n&&u.FXPTToFloat(e.getVisualY_FXPT())<s&&e.getLogicalState()!=A.x3063801120240131793x;if(l){var h=u.FXPTToFloat(e.getLogicalStateTween_FXPT()),m=1,g=e.getLogicalState();switch(g){case A.x2307441568472904081x:case A.x3101548245554889221x:case A.x2419069812277367245x:m=1;break;case A.x3729310023219695253x:this.mLockingMinoFadeToAlpha<1&&(m=u.lerp(1,this.mLockingMinoFadeToAlpha,h));break;case A.x1778395811108923465x:case A.x853617920205802087x:m=this.mGhostPieceAlpha;break;case A.x3045546467004092255x:e.getLogicalStateElapsedTimeMSEC()<this.mPostLockMinoBlinkTimeMSEC&&this.mPostLockMinoNumBlinks>0&&(~~((h=e.getLogicalStateElapsedTimeMSEC()/this.mPostLockMinoBlinkTimeMSEC)*(2*this.mPostLockMinoNumBlinks+0))%2==0?(g=A.x3742112099986664711x,m=1):(g=A.x3045546467004092255x,m=1));break;case A.x2874369192688022400x:case A.x244013038850211387x:m=1;break;case A.x1847161197602780325x:case A.x3286196812965712189x:m=1,e.getRemainingKills()>0&&(g=A.x1527126193027760517x);break;case A.x3742112099986664711x:case A.x2726954391055212649x:this.mShatteringMinoNumBlinks>0&&(g=~~(h*(2*this.mShatteringMinoNumBlinks+0))%2==0?A.x3742112099986664711x:A.x3045546467004092255x);break;case A.x1527126193027760517x:var f=h;switch(this.mDyingMinoHorizontalSequenceType){case r.x3712797596645402683x:case r.x4395447929463265675x:var d=1/this.mMatrixWidth,p=0;this.mDyingMinoHorizontalSequenceType===r.x4395447929463265675x&&(p=e.getX()*d);var S=(e.getX()+1)*d;f=u.getLerpFactor(h,p,S),f=u.clamp01(f)}m=this.mDyingMinoFadeToAlpha!=this.mDyingMinoFadeFromAlpha?u.lerp(this.mDyingMinoFadeFromAlpha,this.mDyingMinoFadeToAlpha,f):this.mDyingMinoFadeFromAlpha,this.mDyingMinoNumBlinks>0&&(g=~~(f*(2*this.mDyingMinoNumBlinks+0))%2==0?A.x1527126193027760517x:A.x3045546467004092255x);break;default:m=1}k.NativeSprite_setSpriteFrame(t,this.mMinoSpriteFrameSet.getMinoNativeSpriteFrame(g,e.getMinoTypeId(),e.getStickyBits()),!1);var y=u.FXPTToFloat(e.getObscurationFactor_FXPT());y>.001&&(m*=1-y),k.NativeSprite_setAlpha(t,m);var P=u.FXPTToFloat(e.getVisualX_FXPT())*i+x,I=u.FXPTToFloat(e.getVisualY_FXPT())*i+c,v;if(P=~~P,I=~~I,v=.4,this.mMinoSpriteFrameSet.isMinoSticky(g,e.getMinoTypeId())&&(k.NativeSprite_setSize(t,i+v,i+v),P+=v*(a-.5),I+=v*(o-.5)),k.NativeSprite_setPositionWithAnchor(t,P,I,a,o),k.NativeView_getNumChildren(t)>0){var M=k.NativeView_getChildAtIndex(t,0);this.updateMinoPlayerActionItemView(M,e)}}k.NativeView_setIsVisible(t,l)},X.createMinoPlayerActionItemView=function(){var t=k.NativeSprite_createWithSpriteFrame(null);return k.NativeView_setName(t,"minoPlayerActionItem"),t},X.updateMinoPlayerActionItemView=function(t,e){if(t){var i=e.getMinoPlayerActionItem();if(i){var n=i.getPlayerAction().getActionId(),r=500;switch(i.getCurrentState()){case F.x2744117081613910912x:r=400;break;case F.x3425742194731643217x:r=80;break;case F.x2429557968940375124x:r=40}var s=e.getLogicalStateElapsedTimeMSEC()%(2*r)<=r?0:1,a=this.mMinoActionItemSpriteFrameResources.getDictionary(n);a||(a=this.mMinoActionItemSpriteFrameResources.getDictionaryAtIndex(0));var o=a.getObjectValueAtIndex(s);k.NativeSprite_setSpriteFrame(t,o.getNativeSpriteFrame(0),!0),k.NativeView_setIsVisible(t,!0)}else k.NativeView_setIsVisible(t,!1)}},X.createPieceView=function(t,e,i){for(var n=k.NativeView_create(),r=0;r<i;r++){var s=this.createMinoView(t,e);k.NativeView_addChild(n,s)}return k.NativeView_setIsVisible(n,!1),n},X.updatePieceView=function(t,e,i,n,r,s){if(t)if(e){k.NativeView_setIsVisible(t,!0);var a=0,o=0,x=0,c=0;i&&(a=.5,o=.5,x=-(u.FXPTToFloat(e.getLocalCenterX_FXPT())*n-.5*n),c=-(u.FXPTToFloat(e.getLocalCenterY_FXPT())*n-.5*n));for(var l=e.getNumMinos(),h=k.NativeView_getNumChildren(t),m=0;m<h;m++){var g=m<l?e.getMinoAtIndex(m):null,f=k.NativeView_getChildAtIndex(t,m);this.updateMinoView(f,g,n,r,s,a,o,x,c)}}else k.NativeView_setIsVisible(t,!1)},X.createAttackMeterView=function(t){if(!this.mPlayer.getComponent(m.x3907464974367750351x))return null;for(var e=k.NativeView_create(),i=t.getFloatValueWithKeyStringPath("firstCenterX"),n=t.getFloatValueWithKeyStringPath("firstCenterY"),r=t.getFloatValueWithKeyStringPath("spacing"),s=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValueWithKeyStringPath("resource_texture")).getNativeSpriteFrame(0),a=this.mPlayer.getMatrixVisibleHeight(),o=0;o<a;o++){var x=k.NativeSprite_createWithSpriteFrame(s);k.NativeView_setPosition(x,i,n+r*o),k.NativeView_addChild(e,x),k.NativeView_setIsVisible(x,!1)}return e},X.updateAttacksViews=function(){if(this.mIncomingAttackMeterView||this.mAttackLinesSentView){var t=this.mPlayer.getComponent(m.x3907464974367750351x);if(t){if(this.mIncomingAttackMeterView)for(var e=t.getNumIncomingAttacks(),i=this.mPlayer.getMatrixVisibleHeight(),n=0;n<i;n++){var r=k.NativeView_getChildAtIndex(this.mIncomingAttackMeterView,n);k.NativeView_setIsVisible(r,n<e)}if(this.mAttackLinesSentView){var s=t.getNumAttacksSent();this.mAttackLinesSentView.setText(u.stringFromInt(s,1,!0))}}}},X.createKnockoutsMeterView=function(t){var e=this.mPlayer.getComponent(m.x3907464974367750351x);if(!e)return null;for(var i=k.NativeView_create(),n=t.getFloatValueWithKeyStringPath("firstCenterX"),r=t.getFloatValueWithKeyStringPath("firstCenterY"),s=t.getFloatValueWithKeyStringPath("spacing"),a=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValueWithKeyStringPath("texture:alive.resource_texture")).getNativeSpriteFrame(0),o=e.getParams().getIntValue(m.x397920408869262524x),x=0;x<o;x++){var u=k.NativeSprite_createWithSpriteFrame(a);k.NativeView_setPosition(u,n+s*x,r),k.NativeView_addChild(i,u)}return i},X.updateKnockoutsViews=function(){if(this.mKnockoutsMeterView||this.mKnockoutsSentView){var t=this.mPlayer.getComponent(m.x3907464974367750351x);if(t){if(this.mKnockoutsMeterView){var e=t.getNumKnockoutsReceived();k.NativeView_setIsVisible(this.mKnockoutsMeterView,!0);for(var i=this.mParams.getDictionaryWithKeyStringPath("knockouts"),n=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(i.getStringValueWithKeyStringPath("texture:alive.resource_texture")).getNativeSpriteFrame(0),r=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(i.getStringValueWithKeyStringPath("texture:dead.resource_texture")).getNativeSpriteFrame(0),s=t.getParams().getIntValue(m.x397920408869262524x),a=0;a<s;a++){var o=k.NativeView_getChildAtIndex(this.mKnockoutsMeterView,a);a<e?k.NativeSprite_setSpriteFrame(o,r,!0):k.NativeSprite_setSpriteFrame(o,n,!0)}}if(this.mKnockoutsSentView){var x=t.getNumKnockoutsSent();this.mKnockoutsSentView.setTextWithInteger(x)}}}},X.createTurnTimerView=function(t){if(!this.mPlayer.getComponent(p.x1052376050215541209x))return null;var e=k.NativeSprite_createWithSpriteFrame(this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrame(t.getStringValueWithKeyStringPath("resource_texture"),0));return k.NativeSprite_setSize(e,t.getFloatValueWithKeyStringPath("transform.width"),t.getFloatValueWithKeyStringPath("transform.height")),k.NativeSprite_setPositionWithAnchor(e,t.getFloatValueWithKeyStringPath("transform.x"),t.getFloatValueWithKeyStringPath("transform.y"),t.getFloatValueWithKeyStringPath("transform.anchorX"),t.getFloatValueWithKeyStringPath("transform.anchorY")),k.NativeView_setIsVisible(e,!1),e},X.updateTurnTimerView=function(){if(this.mTurnTimerView){var t=this.mPlayer.getComponent(p.x1052376050215541209x);if(t){k.NativeView_setIsVisible(this.mTurnTimerView,!0);var e=this.mParams.getDictionaryWithKeyStringPath("turnBattle.turnTimer.transform"),i=e.getFloatValueWithKeyStringPath("width"),n=u.clamp01(u.FXPTToFloat(t.getTimerAttackMeterFilled01_FXPT())),r=e.getFloatValueWithKeyStringPath("height")*n;k.NativeSprite_setSize(this.mTurnTimerView,i,r),k.NativeSprite_setPositionWithAnchor(this.mTurnTimerView,e.getFloatValueWithKeyStringPath("x"),e.getFloatValueWithKeyStringPath("y"),e.getFloatValueWithKeyStringPath("anchorX"),e.getFloatValueWithKeyStringPath("anchorY"))}}},X.updateMatrixDimmingForegroundView=function(){if(this.mMatrixDimmingForegroundView){var t=!1;this.mPlayer.getCurrentState()===h.x3265934470092458605x&&(t=!0),k.NativeView_setIsVisible(this.mMatrixDimmingForegroundView.getNativeView(),t)}},X.createMatrixOverlayView=function(t){var e=k.NativeView_create();return k.NativeView_setPosition(e,t.getFloatValueWithKeyStringPath("x"),t.getFloatValueWithKeyStringPath("y")),this.mMessage1View=this.mViewMgr.createBitmapTextView(t.getDictionaryWithKeyStringPath("message1"),e,!0),t.getBoolValueWithKeyStringPath("message2.enabled")&&(this.mMessage2SpriteFrameResource=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValueWithKeyStringPath("message2.resource_texture")),this.mMessage2SpriteFrameResource&&(this.mMessage2View=k.NativeSprite_createWithSpriteFrame(null),k.NativeView_addChild(e,this.mMessage2View),k.NativeSprite_setPositionWithAnchor(this.mMessage2View,t.getFloatValueWithKeyStringPath("message2.transform.x"),t.getFloatValueWithKeyStringPath("message2.transform.y"),t.getFloatValueWithKeyStringPath("message2.transform.anchorX"),t.getFloatValueWithKeyStringPath("message2.transform.anchorY")))),this.mCountdownValueView=this.mViewMgr.createBitmapTextView(t.getDictionaryWithKeyStringPath("countdownValue"),e,!0),t.getBoolValueWithKeyStringPath("levelOverlay.enabled")&&(this.mLevelOverlaySpriteFrameResource=this.mGameMgr.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValueWithKeyStringPath("levelOverlay.resource_texture")),this.mLevelOverlaySpriteFrameResource&&(this.mLevelOverlayView=k.NativeSprite_createWithSpriteFrame(null),k.NativeView_addChild(e,this.mLevelOverlayView),k.NativeSprite_setPositionWithAnchor(this.mLevelOverlayView,t.getFloatValueWithKeyStringPath("levelOverlay.transform.x"),t.getFloatValueWithKeyStringPath("levelOverlay.transform.y"),t.getFloatValueWithKeyStringPath("levelOverlay.transform.anchorX"),t.getFloatValueWithKeyStringPath("levelOverlay.transform.anchorY")))),e},X.updateMatrixOverlayView=function(){switch(this.mGame.getCurrentState()){case l.x1514772141815616644x:case l.x3265934470092458605x:if(this.mCountdownValueView&&this.mCountdownValueView.setIsVisible(!1),this.mMessage1View)if(this.mPlayer.getCurrentState()===h.x3265934470092458605x){if(this.mMessage1View.setIsVisible(!0),this.mPlayer.getComponent(m.x3907464974367750351x))switch(this.mPlayer.getGameEndCondition()){case m.x4307882867729987397x:this.mMessage1View.setText(this.mMatrixOverlayMessage1MessagesWon);break;case m.x790306920451850578x:this.mMessage1View.setText(this.mMatrixOverlayMessage1MessagesLost);break;case m.x271176509498905822x:this.mMessage1View.setText(this.mMatrixOverlayMessage1MessagesTied);break;default:this.mMessage1View.setText("")}}else this.mMessage1View.setIsVisible(!1);if(this.mMessage2View)if(this.mGame.getCurrentState()===l.x3265934470092458605x){if(k.NativeView_setIsVisible(this.mMessage2View,!0),this.mPlayer.getComponent(m.x3907464974367750351x))switch(this.mPlayer.getGameEndCondition()){case m.x4307882867729987397x:k.NativeSprite_setSpriteFrame(this.mMessage2View,this.mMessage2SpriteFrameResource.getNativeSpriteFrame(2),!0);break;case m.x790306920451850578x:k.NativeSprite_setSpriteFrame(this.mMessage2View,this.mMessage2SpriteFrameResource.getNativeSpriteFrame(3),!0);break;case m.x271176509498905822x:k.NativeSprite_setSpriteFrame(this.mMessage2View,this.mMessage2SpriteFrameResource.getNativeSpriteFrame(4),!0);break;default:k.NativeSprite_setSpriteFrame(this.mMessage2View,null,!0),k.NativeView_setIsVisible(this.mMessage2View,!1)}}else k.NativeView_setIsVisible(this.mMessage2View,!1);switch(this.mGame.getCurrentState()){case l.x1514772141815616644x:k.NativeView_setIsVisible(this.mLevelOverlayView,!0);break;case l.x3265934470092458605x:k.NativeView_setIsVisible(this.mLevelOverlayView,!1)}break;case l.x2011879311002059536x:if(this.mCountdownValueView){this.mCountdownValueView.setIsVisible(!0);var t=this.mGame.getCountdownTween321();this.mCountdownValueView.setText(u.stringFromInt(t,0,!1))}this.mMessage1View&&this.mMessage1View.setIsVisible(!1),this.mMessage2View&&k.NativeView_setIsVisible(this.mMessage2View,!1),k.NativeView_setIsVisible(this.mLevelOverlayView,!1);break;case l.x4101553028593694779x:this.mMessage1View&&(this.mMessage1View.setIsVisible(this.mGame.getCurrentStateElapsedTimeMSEC()>100),this.mPlayer.isReadyToStartGame()?this.mMessage1View.setText(this.mMatrixOverlayMessage1MessagesReady):this.mMessage1View.setText(this.mMatrixOverlayMessage1MessagesWaiting)),this.mMessage2View&&(k.NativeView_setIsVisible(this.mMessage2View,this.mGame.getCurrentStateElapsedTimeMSEC()>100),this.mPlayer.isReadyToStartGame()?k.NativeSprite_setSpriteFrame(this.mMessage2View,this.mMessage2SpriteFrameResource.getNativeSpriteFrame(1),!0):k.NativeSprite_setSpriteFrame(this.mMessage2View,this.mMessage2SpriteFrameResource.getNativeSpriteFrame(0),!0))}},X.x1721113016797186854x=function(){this.mGameMgr.removeMessageListener(this),this.mGameMgr.getValueChangedSource().removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mMinoActionItemSpriteFrameResources&&(this.mMinoActionItemSpriteFrameResources.destroy(),this.mMinoActionItemSpriteFrameResources=null),this.mLayer2Container.removeFromParent(),this.mLayer2Container&&this.mLayer2Container.release(),this.mLayer2Container=null,this.mMatrixBackgroundView&&this.mMatrixBackgroundView.release(),this.mMatrixBackgroundView=null,this.mMatrixDimmingForegroundView&&this.mMatrixDimmingForegroundView.release(),this.mMatrixDimmingForegroundView=null,null!==this.mViewMgr&&(this.mViewMgr.destroy(),this.mViewMgr=null),null!==this.mViewFactory&&(this.mViewFactory.destroy(),this.mViewFactory=null),t.prototype.x1721113016797186854x.call(this)},X.x391595271929733413x=function(t,e){var i=this.convertWorldXToLocal(t)-this.mPointerInputOffsetX-this.mMatrixLeftX,n=this.convertWorldYToLocal(e)-this.mPointerInputOffsetY-this.mMatrixBottomY,r=i/this.mMatrixMinoSpacing,s=n/this.mMatrixMinoSpacing;this.mPlayer.getControlComponent().handleDeviceControlValues(o.x2073925366050221825x,o.x3423209971934666902x,r,s)},X.x781012747799194866x=function(t,e,i){var n=this.convertWorldXToLocal(e)-this.mPointerInputOffsetX-this.mMatrixLeftX,r=this.convertWorldYToLocal(i)-this.mPointerInputOffsetY-this.mMatrixBottomY,s=n/this.mMatrixMinoSpacing,a=r/this.mMatrixMinoSpacing,x=o.convertMouseControlIdToControlIndex(t),u=o.convertGamePointerControlIndexToControlId(x);this.mPlayer.getControlComponent().handleDeviceControlOn(o.x2073925366050221825x,u,s,a)},X.x2612513675307951471x=function(t){var e=o.convertMouseControlIdToControlIndex(t),i=o.convertGamePointerControlIndexToControlId(e);this.mPlayer.getControlComponent().handleDeviceControlCancelled(o.x2073925366050221825x,i)},X.x1103002881154167342x=function(t,e,i){var n=this.convertWorldXToLocal(e)-this.mPointerInputOffsetX-this.mMatrixLeftX,r=this.convertWorldYToLocal(i)-this.mPointerInputOffsetY-this.mMatrixBottomY,s=n/this.mMatrixMinoSpacing,a=r/this.mMatrixMinoSpacing,x=o.convertMouseControlIdToControlIndex(t),u=o.convertGamePointerControlIndexToControlId(x);this.mPlayer.getControlComponent().handleDeviceControlOff(o.x2073925366050221825x,u,s,a)},X.x754043462355724564x=function(t,e,i){var n=this.convertWorldXToLocal(e)-this.mPointerInputOffsetX-this.mMatrixLeftX,r=this.convertWorldYToLocal(i)-this.mPointerInputOffsetY-this.mMatrixBottomY,s=n/this.mMatrixMinoSpacing,a=r/this.mMatrixMinoSpacing,x=o.convertGamePointerControlIndexToControlId(t);this.mPlayer.getControlComponent().handleDeviceControlOn(o.x2073925366050221825x,x,s,a)},X.x2017632316864301224x=function(t,e,i){var n=this.convertWorldXToLocal(e)-this.mPointerInputOffsetX-this.mMatrixLeftX,r=this.convertWorldYToLocal(i)-this.mPointerInputOffsetY-this.mMatrixBottomY,s=n/this.mMatrixMinoSpacing,a=r/this.mMatrixMinoSpacing,x=o.convertGamePointerControlIndexToControlId(t);this.mPlayer.getControlComponent().handleDeviceControlValues(o.x2073925366050221825x,x,s,a)},X.x3418096318213010901x=function(t,e,i){var n=this.convertWorldXToLocal(e)-this.mPointerInputOffsetX-this.mMatrixLeftX,r=this.convertWorldYToLocal(i)-this.mPointerInputOffsetY-this.mMatrixBottomY,s=n/this.mMatrixMinoSpacing,a=r/this.mMatrixMinoSpacing,x=o.convertGamePointerControlIndexToControlId(t);this.mPlayer.getControlComponent().handleDeviceControlOff(o.x2073925366050221825x,x,s,a)},X.x3816839119984218077x=function(t,e,i){var n=o.convertGamePointerControlIndexToControlId(t);this.mPlayer.getControlComponent().handleDeviceControlCancelled(o.x2073925366050221825x,n)},X.x2451360937245666119x=function(t){this.updateViews(t)},X.x601562840631873202x=function(t,e,i){var n=0,a=0,o=0,g=null,p=null,A=null,F=null,N=null,b=.5*this.mMatrixMinoSpacing,E=null;if(e==this)switch(t){case r.x1958602664990250529x:case r.x3648746106929270237x:if(!this.mEnableAnimations||!this.mViewMgr.hasPool(t))return;this.mViewMgr.activateAndManageViewFromPool(t,this.mMatrixVFXOverlayView)}else if(e==this.mGame){if(t===l.x1837688871124046825x)switch(this.mGame.getCurrentState()){case l.x2011879311002059536x:s.trySetIsEnabled(this.mHoldButton,!0);break;case l.x1514772141815616644x:s.trySetIsEnabled(this.mHoldButton,!0),s.trySetIsEnabled(this.mPendingActionItemButton,!0);break;case l.x968731194594044803x:case l.x586834288206199424x:k.NativeView_setIsVisible(this.mLivePieceView,!1),k.NativeView_setIsVisible(this.mGhostPieceView,!1),k.NativeView_setIsVisible(this.mMatrixMinosView,!1),k.NativeView_setIsVisible(this.mMatrixUndergoundMinosView,!1),k.NativeView_setIsVisible(this.mNextQueueView,!1),k.NativeView_setIsVisible(this.mHoldPieceView,!1),k.NativeView_setIsVisible(this.mIncomingAttackMeterView,!1),k.NativeView_setIsVisible(this.mMatrixVFXUnderlayView,!1),k.NativeView_setIsVisible(this.mMatrixVFXOverlayView,!1),L.trySetIsVisible(this.mCountdownValueView,!1),s.trySetIsEnabled(this.mHoldButton,!1),s.trySetIsEnabled(this.mPendingActionItemButton,!1)}}else if(e==this.mGameMgr.getValueChangedSource()){if(t==x.x3749940443783434633x)switch(i.getIntValue(x.x1728791213671431913x)){case 876635715:this.mEnableAnimations=i.getBoolValue(x.x3016960944049098382x),this.mParams.getValueWithKeyStringPath("enableAnimations").setValue(this.mEnableAnimations);break;case 1412464371:this.mIsGhostPieceEnabled=i.getBoolValue(x.x3016960944049098382x),this.mParams.getValueWithKeyStringPath("ghostPiece.enabled").setValue(this.mIsGhostPieceEnabled)}}else if(e==this.mHoldButton)t==_.x1934026983786189580x&&(this.mPlayer.getControlComponent().x3633925409096558838x().handleInputIsOn(c.x358855786334357761x,0,0),this.mPlayer.getControlComponent().x3633925409096558838x().handleInputIsOff(c.x358855786334357761x,0,0));else switch(t){case C.x1242649438366443755x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(t))return;F=i.getObjectValue(C.x1381692501379388581x),g=this.mViewMgr.getSpriteViewFromPool(t),a=F.getX()*this.mMatrixMinoSpacing-this.mMatrixViewHalfWidth+b,o=F.getY()*this.mMatrixMinoSpacing-this.mMatrixViewHalfHeight+b,g.setPosition(a,o),g.setAnimatorsIndex(F.getX()),this.mViewMgr.activateAndManageView(g,this.mMatrixVFXOverlayView);break;case C.x1753374700456149204x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(t))return;F=i.getObjectValue(C.x3385413543808571515x),g=this.mViewMgr.getSpriteViewFromPool(t),a=F.getX()*this.mMatrixMinoSpacing-this.mMatrixViewHalfWidth+b,o=F.getY()*this.mMatrixMinoSpacing-this.mMatrixViewHalfHeight+b,g.setPosition(a,o),this.mViewMgr.activateAndManageView(g,this.mMatrixVFXOverlayView);break;case h.x3286479124338019373x:var R=this.mPlayer.getRemainingTimeSEC(),B=0;if(B=R>5?r.x1526235853865146244x:r.x2047709498933503655x,!this.mViewMgr.hasPool(B))return;if(R<=30){var O="";switch(R){case 30:O="30 SECONDS\nREMAINING!";break;case 10:O="10 SECONDS\nREMAINING!";break;case 5:O="5";break;case 4:O="4";break;case 3:O="3";break;case 2:O="2";break;case 1:O="1"}O&&""!=O&&((p=this.mViewMgr.getBitmapTextViewFromPool(B)).setText(O),this.mViewMgr.activateAndManageView(p,this.mMatrixVFXOverlayView))}break;case h.x239817429003214204x:if(!this.mEnableAnimations)return;this.mViewMgr.activateAndManageViewFromPool(t,this.mMatrixVFXOverlayView);break;case h.x4372612027967450106x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(t))return;var G=(H=this.mPlayer.getLivePiece()).getNumMinos();for(n=0;n<G;n++)a=(F=H.getMinoAtIndex(n)).getX()*this.mMatrixMinoSpacing-this.mMatrixViewHalfWidth+b,o=F.getY()*this.mMatrixMinoSpacing-this.mMatrixViewHalfHeight+b,this.mViewMgr.activateAndManageViewFromPoolWithPosition(t,this.mMatrixVFXOverlayView,a,o);break;case h.x2894254231694125496x:if(!this.mEnableAnimations)return;var X=this.mViewMgr.hasPool(t),K=this.mViewMgr.hasPool(r.x931821685213946521x);if(!X&&!K)return;var W=i.getIntValue(h.x1473828083645811259x);W=u.maxInt(W,6);var H,Y=(H=this.mPlayer.getLivePiece()).getNumColumns();for(n=0;n<Y;n++){var J=H.getColumnXInMatrix(n)*this.mMatrixMinoSpacing;if(J-=this.mMatrixViewHalfWidth,X){var Q=H.getColumnMinYInMatrix(n)*this.mMatrixMinoSpacing,U=W+H.getNumRows();Q-=this.mMatrixViewHalfHeight,Q+=1,(g=this.mViewMgr.getSpriteViewFromPool(t)).setPosition(J,Q),g.setScaleY(U),g.setSizeX(~~(n<Y-1?this.mMatrixMinoSpacing:this.mMatrixMinoSpacing-this.mMatrixMinoGap)),this.mViewMgr.activateAndManageView(g,this.mMatrixVFXUnderlayView)}if(K){var j=(H.getColumnMaxYInMatrix(n)+1)*this.mMatrixMinoSpacing;j-=this.mMatrixViewHalfHeight;for(var Z=0;Z<W;Z++)if(u.nextNativeRandomIntInRange(1,100)<=80){A=(g=this.mViewMgr.getSpriteViewFromPool(r.x931821685213946521x)).getAnimator(r.x1164784193378847824x);var z=u.getLerpFactor(Z,W,0),q=J+b,$=j+Z*this.mMatrixMinoSpacing+b,tt=.3*this.mMatrixMinoSpacing;q+=u.nextNativeRandomFloatInRange(-tt,tt,1e3),$+=u.nextNativeRandomFloatInRange(-tt,tt,1e3),g.setPosition(q,$);var et=10;et+=u.nextNativeRandomFloatInRange(-5,5,1e3),A.getChannel(w.x2604396162997676467x).mValue=et;var it=z*g.getScaleX();it*=u.nextNativeRandomFloatInRange(.5,1.5,1e3),g.setScale(it,it);var nt=0;nt+=u.nextNativeRandomFloatInRange(-180,180,1e3),g.setRotation(nt);var rt=0;rt+=u.nextNativeRandomFloatInRange(-270,270,1e3),A.getChannel(w.x1290637302309821839x).mValue=rt;var st=u.lerp(.2,g.getAlpha(),z);st*=u.nextNativeRandomFloatInRange(.5,1.5,1e3),st=u.clamp01(st),g.setAlpha(st);var at=A.getInitialGlobalDurationScale();at*=u.nextNativeRandomFloatInRange(.7,1.3,1e3),at*=u.lerp(.3,1,z),A.setGlobalDurationScale(at),this.mViewMgr.activateAndManageView(g,this.mMatrixVFXUnderlayView)}}}break;case d.x4563261606863935423x:if(!this.mEnableAnimations)return;if(i.getBoolValue(d.x3846704088808192491x))return;this.mScoreValueView&&this.mScoreValueView.startAnimator(r.x4321980033129641961x);var ot=i.getIntValue(d.x4021322772183539622x);switch(ot>0&&this.mLinesValueView&&this.mLinesValueView.startAnimator(r.x4321980033129641961x),ot){case 0:case 1:case 2:case 3:if(!this.mViewMgr.hasPool(r.x957904898819666779x))return;break;case 4:if(!this.mViewMgr.hasPool(r.x2209065419344574270x)&&!this.mViewMgr.hasPool(r.x4192456054474530615x))return}var xt=i.getIntValue(d.x438248116822016767x),ut=i.getIntValue(d.x4268196375255836292x),ct=i.getBoolValue(d.x623771060938972829x),lt=i.getBoolValue(d.x141493927620337356x),ht=i.getIntValue(d.x4017599486629318019x),mt=i.getIntValue(d.x4002130832260486610x),gt=i.getObjectValue(d.x3527621570082328501x);a=0,o=0;var ft=0,dt=2*this.mMatrixViewHalfHeight;switch(gt&&gt.getNumObjects()>0?(ft=C.getMinoPatternMatchesMinY(gt),dt=C.getMinoPatternMatchesMaxY(gt)+1):(ft=i.getIntValue(d.x388206241421991151x),dt=i.getIntValue(d.x3879893247735724908x)+1),o=(ft+.5*(dt-ft))*this.mMatrixMinoSpacing-this.mMatrixViewHalfHeight,E=u.getStringBuilder(),(p=this.mViewMgr.getBitmapTextViewFromPool(r.x1549961253790446340x))&&(E.setString("+"),E.appendInt(xt,1,!0),p.setText(E.getString()),p.setPosition(a,o),this.mViewMgr.activateAndManageView(p,this.mMatrixVFXOverlayView)),ot){case 0:case 1:case 2:case 3:(p=this.mViewMgr.getBitmapTextViewFromPool(r.x957904898819666779x))&&(E.setString(u.getStandardScoreEventDescription(ot,ut,ct,lt,ht,mt)),p.setText(E.getString()),p.setPosition(a,o),this.mViewMgr.activateAndManageView(p,this.mMatrixVFXOverlayView));break;case 4:(p=this.mViewMgr.getBitmapTextViewFromPool(r.x2209065419344574270x))&&(E.setString(u.getStandardScoreEventDescription(ot,ut,ct,lt,ht,mt)),p.setText(E.getString()),p.setPosition(a,o),this.mViewMgr.activateAndManageView(p,this.mMatrixVFXOverlayView)),this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x4192456054474530615x,this.mMatrixVFXOverlayView,a,o)}break;case m.x3543624329488895039x:case m.x2358143868250863138x:if(!this.mEnableAnimations)return;if(t===m.x3543624329488895039x&&this.mAttackLinesSentView&&this.mAttackLinesSentView.startAnimator(r.x4321980033129641961x),!this.mViewMgr.hasPool(t))return;a=this.mPlayer.getLockedPieceCenterX()*this.mMatrixMinoSpacing-this.mMatrixViewHalfWidth,o=this.mPlayer.getLockedPieceCenterY()*this.mMatrixMinoSpacing-this.mMatrixViewHalfHeight;var pt=i.getIntValue(m.x1969355065676404676x);for(n=0;n<pt;n++)(g=this.mViewMgr.getSpriteViewFromPool(t)).setAnimatorsIndex(n),g.setPosition(a,o),this.mViewMgr.activateAndManageView(g,this.mMatrixVFXOverlayView);break;case m.x91939408693907281x:case m.x3827945192526708429x:if(!this.mEnableAnimations)return;switch(this.mViewMgr.hasPool(t)&&this.mViewMgr.activateAndManageViewFromPool(t,this.mMatrixVFXOverlayView),t){case m.x91939408693907281x:if(this.mAvatarView&&this.mAvatarView.startAnimator(u.stringToValueKey("didReceiveAttacks")),this.mIncomingAttackMeterView){var St=i.getIntValue(m.x3332219283751098360x),yt=i.getIntValue(m.x512069985885670020x),Pt=this.mPlayer.getMatrixVisibleHeight();for(n=0;n<yt;n++){var It=St+n;if(It>=Pt)break;var vt=k.NativeView_getChildAtIndex(this.mIncomingAttackMeterView,It);a=k.NativeView_getX(vt),o=k.NativeView_getY(vt),this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x4253476108814198815x,this.mMatrixOverlayView,a,o)}}break;case m.x3827945192526708429x:this.mIncomingAttackMeterView}break;case f.x2732844868282066204x:if(!this.mEnableAnimations)return;this.mViewMgr.activateAndManageViewFromPool(r.x4245417056792238442x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(r.x3619870408712168479x,this.mMatrixVFXOverlayView),this.mLevelValueView&&this.mLevelValueView.startAnimator(r.x4321980033129641961x);break;case D.x1343342519347217457x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(r.x4430233297640408902x))return;a=((N=i.getObjectValue(D.x1997346734813325818x)).getSpawnedMatrixX()+.5)*this.mMatrixMinoSpacing,o=(N.getSpawnedMatrixY()+.5)*this.mMatrixMinoSpacing,a-=this.mMatrixViewHalfWidth,o-=this.mMatrixViewHalfHeight,this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x4430233297640408902x,this.mMatrixVFXOverlayView,a,o);break;case D.x1277176230042833576x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(r.x2985393278574794861x))return;a=((N=i.getObjectValue(D.x2102628685640881757x)).getActivationMatrixX()+.5)*this.mMatrixMinoSpacing,o=(N.getActivationMatrixY()+.5)*this.mMatrixMinoSpacing,a-=this.mMatrixViewHalfWidth,o-=this.mMatrixViewHalfHeight,this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x2985393278574794861x,this.mMatrixVFXOverlayView,a,o);break;case D.x593103829868600629x:if(!this.mEnableAnimations)return;switch(N=i.getObjectValue(D.x3044825115508512875x),this.mViewMgr.hasPool(r.x2985393278574794861x)&&(a=(N.getActivationMatrixX()+.5)*this.mMatrixMinoSpacing,o=(N.getActivationMatrixY()+.5)*this.mMatrixMinoSpacing,a-=this.mMatrixViewHalfWidth,o-=this.mMatrixViewHalfHeight,this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x2985393278574794861x,this.mMatrixVFXOverlayView,a,o)),(p=this.mViewMgr.getBitmapTextViewFromPool(r.x3712736674383598756x))&&(p.setText(this.mMinoActionItemActivatedTexts.getStringValue(N.getActionId())),a=(N.getActivationMatrixX()+.5)*this.mMatrixMinoSpacing,o=(N.getActivationMatrixY()+.5)*this.mMatrixMinoSpacing,a-=this.mMatrixViewHalfWidth,o-=this.mMatrixViewHalfHeight,p.setPosition(a,o),this.mViewMgr.activateAndManageView(p,this.mMatrixVFXOverlayView)),N.getActionId()){case S.x2113334628118377893x:var Mt=N;this.mViewMgr.activateAndManageViewFromPool(Mt.isSpeedUp()?r.x2367001933777919118x:r.x3251328191393694760x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(Mt.isSpeedUp()?r.x2456262349905590077x:r.x2493283591889558222x,this.mMatrixVFXOverlayView);break;case y.x3194209701878920299x:this.mViewMgr.activateAndManageViewFromPool(r.x864293204130375685x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(r.x2142937420345068616x,this.mMatrixVFXOverlayView);break;case P.x2808148533898659766x:this.mViewMgr.activateAndManageViewFromPool(r.x938319100593751627x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(r.x405614136228201162x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(r.x791276913010372999x,this.mMatrixVFXOverlayView);break;case I.x3814876417137536124x:this.mViewMgr.activateAndManageViewFromPool(r.x1897146653195579497x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(r.x1707381094017693006x,this.mMatrixVFXOverlayView);break;case v.x568122050052276579x:this.mViewMgr.activateAndManageViewFromPool(r.x2005766225671745342x,this.mMatrixVFXOverlayView);break;case M.x3730400382218827790x:this.mViewMgr.activateAndManageViewFromPool(r.x3731361743864246073x,this.mMatrixVFXOverlayView);break;case V.x4562906994610874993x:var Vt=N;this.mViewMgr.activateAndManageViewFromPool(Vt.isToCenter()?r.x805863387745451304x:r.x2274363973653806848x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(Vt.isToCenter()?r.x4251947368151638078x:r.x3951808621204813721x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(Vt.isToCenter()?r.x2876359454560498436x:r.x2409716702563486745x,this.mMatrixVFXOverlayView);break;case T.x3447025935325255921x:var Tt=N;this.mViewMgr.activateAndManageViewFromPool(Tt.isToLeft()?r.x3920497294628834957x:r.x1761566682336987181x,this.mMatrixVFXOverlayView),this.mViewMgr.activateAndManageViewFromPool(Tt.isToLeft()?r.x1430503207696039317x:r.x1823066325058615727x,this.mMatrixVFXOverlayView)}break;case h.x3812435844050873046x:if(!this.mEnableAnimations)return;this.mViewMgr.activateAndManageViewFromPool(r.x978134479951596816x,this.mMatrixVFXOverlayView);break;case M.x3280829469047158568x:if(!this.mEnableAnimations)return;if(!this.mViewMgr.hasPool(r.x403772254201731163x))return;a=((F=i.getObjectValue(M.x309529847962487067x)).getX()+.5)*this.mMatrixMinoSpacing,o=(F.getY()+.5)*this.mMatrixMinoSpacing,a-=this.mMatrixViewHalfWidth,o-=this.mMatrixViewHalfHeight,this.mViewMgr.activateAndManageViewFromPoolWithPosition(r.x403772254201731163x,this.mMatrixVFXOverlayView,a,o);break;case d.x43516974774647162x:if(!this.mEnableAnimations)return;if(!this.mScoreMultiplierValueView)return;this.mScoreMultiplierValueView.startAnimator(t),this.mViewMgr.autoActivateAndManageViewsFromPool(r.x1520220017611135479x,this.mMatrixVFXOverlayView);break;case d.x3344905842568611137x:if(!this.mEnableAnimations)return;if(!this.mScoreMultiplierValueView)return;this.mScoreMultiplierValueView.startAnimator(t),this.mViewMgr.autoActivateAndManageViewsFromPool(r.x2011759043209872643x,this.mMatrixVFXOverlayView);break;case h.x1596677612753542970x:this.constructMatrixView();break;case f.x2973273170559740354x:if(this.mLevelOverlayView){var Ct=i.getIntValue(f.x666163137526406478x),At=this.mLevelOverlaySpriteFrameResource.getNativeSpriteFrame(Ct);k.NativeSprite_setSpriteFrame(this.mLevelOverlayView,At,!0),k.NativeView_setIsVisible(this.mLevelOverlayView,At)}}},i(r,null,[{key:"x2687095278261377036x",get:function(){return 949945314}},{key:"x3031829910526068852x",get:function(){return 1188213234}},{key:"x1756484500833801327x",get:function(){return 1928046857}},{key:"x4000551401134910823x",get:function(){return 823304176}},{key:"kHorizontalSequenceType_None",get:function(){return 958761353}},{key:"x3712797596645402683x",get:function(){return 1723161416}},{key:"x4395447929463265675x",get:function(){return 1723161417}},{key:"x931821685213946521x",get:function(){return 1479050412}},{key:"x957904898819666779x",get:function(){return 1995179762}},{key:"x2209065419344574270x",get:function(){return 818039251}},{key:"x4192456054474530615x",get:function(){return 818039252}},{key:"x1549961253790446340x",get:function(){return 1608418396}},{key:"x4245417056792238442x",get:function(){return 342016175}},{key:"x3619870408712168479x",get:function(){return 342016176}},{key:"x4253476108814198815x",get:function(){return 309952719}},{key:"kViewPoolId_attackMeterSegmentDidReceiveAttackCounters",get:function(){return 346498790}},{key:"x1526235853865146244x",get:function(){return 876590387}},{key:"x2047709498933503655x",get:function(){return 876590388}},{key:"x978134479951596816x",get:function(){return 195626544}},{key:"x4430233297640408902x",get:function(){return 1001889027}},{key:"x2985393278574794861x",get:function(){return 500044090}},{key:"x3712736674383598756x",get:function(){return 471552455}},{key:"x1520220017611135479x",get:function(){return 262227630}},{key:"kViewPoolId_multiplierUp02",get:function(){return 262227631}},{key:"x2011759043209872643x",get:function(){return 1707843125}},{key:"kViewPoolId_multiplierDown02",get:function(){return 1707843126}},{key:"x2367001933777919118x",get:function(){return 730061555}},{key:"x2456262349905590077x",get:function(){return 2013799381}},{key:"x3251328191393694760x",get:function(){return 208295468}},{key:"x2493283591889558222x",get:function(){return 1211255388}},{key:"x3731361743864246073x",get:function(){return 728552192}},{key:"x403772254201731163x",get:function(){return 1160385019}},{key:"x2005766225671745342x",get:function(){return 1088689304}},{key:"x864293204130375685x",get:function(){return 533841396}},{key:"x2142937420345068616x",get:function(){return 151677076}},{key:"x938319100593751627x",get:function(){return 2052775571}},{key:"x405614136228201162x",get:function(){return 1610888608}},{key:"x791276913010372999x",get:function(){return 236236814}},{key:"x1897146653195579497x",get:function(){return 1162286272}},{key:"x1707381094017693006x",get:function(){return 895002312}},{key:"x3920497294628834957x",get:function(){return 1592400396}},{key:"x1430503207696039317x",get:function(){return 908299900}},{key:"x1761566682336987181x",get:function(){return 1522325607}},{key:"x1823066325058615727x",get:function(){return 158632289}},{key:"x805863387745451304x",get:function(){return 120637958}},{key:"x4251947368151638078x",get:function(){return 1948002029}},{key:"x2876359454560498436x",get:function(){return 209298651}},{key:"x2274363973653806848x",get:function(){return 1108425647}},{key:"x3951808621204813721x",get:function(){return 1661017988}},{key:"x2409716702563486745x",get:function(){return 876851186}},{key:"x1164784193378847824x",get:function(){return 1175123609}},{key:"x4321980033129641961x",get:function(){return 5658932}},{key:"x1958602664990250529x",get:function(){return 410988074}},{key:"x3648746106929270237x",get:function(){return 933306120}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x1797660697812370999x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x295234079426945939x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts","./x4016911264059163956x.ts","./x1413698088565076133x.ts","./x832175137056958511x.ts","./x1870017049469742020x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c;return{setters:[function(t){e=t.inheritsLoose,i=t.assertThisInitialized},function(t){n=t.cclegacy},function(t){r=t.x295234079426945939x},function(t){s=t.x3693760142138385085x},function(t){a=t.x702435451033209193x},function(t){o=t.x4016911264059163956x},function(t){x=t.x1413698088565076133x},function(t){u=t.x832175137056958511x},function(t){c=t.x1870017049469742020x}],execute:function(){n._RF.push({},"e63adgpsOtJqrT2AZo1I6v5","x1797660697812370999x",void 0),t("x1797660697812370999x",function(t){function n(e){var n;return(n=t.call(this,e)||this).mParams=new s(!0),n.mVSCPURecordsMgr=o.instance().getVSCPURecordsMgr(),n.mVSCPURecordsMgr&&n.mVSCPURecordsMgr.addMessageListener(i(n)),n.mLevelStepper=null,n}e(n,t);var r=n.prototype;return r.updateView=function(){var t=this.mVSCPURecordsMgr.getCurrentLevelIndex();t<0&&(t=0),this.mLevelStepper.setMaxStepperValue(this.mVSCPURecordsMgr.getMaxUnlockedLevelIndex()+1),this.mLevelStepper.setStepperValue(t+1);var e=a.getStringBuilder();e.setString(""),e.appendString("TOTAL WINS: "),e.appendInt(this.mVSCPURecordsMgr.getNumWinsForLevelIndex(t),1,!0),e.appendString("\n"),e.appendString("CURRENT WIN STREAK: "),e.appendInt(this.mVSCPURecordsMgr.getCurrentWinStreakForLevelIndex(t),1,!0),e.appendString("\n"),e.appendString("LONGEST WIN STREAK: "),e.appendInt(this.mVSCPURecordsMgr.getLongestWinStreakForLevelIndex(t),1,!0),this.getDescendantNamed("mainText").setText(e.getString()),this.updateSize()},r.x962108131907433511x=function(e){this.mParams.copy(e,!0),t.prototype.x962108131907433511x.call(this,e),this.mLevelStepper=this.getDescendantNamed("LevelStepper"),this.mLevelStepper.addMessageListener(this),this.updateView()},r.x1721113016797186854x=function(){null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),this.mVSCPURecordsMgr&&(this.mVSCPURecordsMgr.removeMessageListener(this),this.mVSCPURecordsMgr=null),this.mLevelStepper=null,t.prototype.x1721113016797186854x.call(this)},r.x601562840631873202x=function(t,e,i){switch(t){case u.x3749940443783434633x:var n=e;this.mVSCPURecordsMgr.setCurrentLevelIndex(n.getStepperValue()-1);break;case x.x2157740800996097089x:case x.x3375564835510544078x:case c.x4504165447773153872x:case c.x4425116259920330297x:this.updateView()}},n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1870017049469742020x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x2205868517935256955x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts","./x3461623316906106937x.ts","./x3026372372374902841x.ts","./x1300708268651209083x.ts","./x160249411363356178x.ts","./x2513491171780780505x.ts","./x2942546774025373449x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x2205868517935256955x},function(t){a=t.x3693760142138385085x},function(t){o=t.x702435451033209193x},function(t){x=t.x3461623316906106937x},function(t){u=t.x3026372372374902841x},function(t){c=t.x1300708268651209083x},function(t){l=t.x160249411363356178x},function(t){h=t.x2513491171780780505x},function(t){m=t.x2942546774025373449x}],execute:function(){r._RF.push({},"c2dfdtbfZ1ItZp13XBSJHKa","x1870017049469742020x",void 0),t("x1870017049469742020x",function(t){function r(e,i){var s;return(s=t.call(this)||this).mParams=e.x3395266717842453812x(),s.mIsEnabled=e.getBoolValueWithDefault(r.x1170515238876133688x,!0),s.x1098789963781731349x=i,s.mIsEnabled&&(i.addMessageListener(n(s)),i.getSceneMgr().addMessageListener(n(s))),s.mDataDictionary=new a(!0),s.mNumLevels=e.getIntValue(r.x2496689708945938193x),s.mGameOverLevelResult=r.x2129245839988459790x,s}e(r,t);var s=r.prototype;return s.resetData=function(){if(this.mIsEnabled){this.mDataDictionary.removeAllValues(),this.mDataDictionary.setIntValue(r.x1484406448784763270x,r.x3497254889419186313x),this.mDataDictionary.setIntValue(r.x2307348534748651814x,0),this.mDataDictionary.setIntValue(r.x781450533902908624x,0);var t=new a(!0);this.mDataDictionary.setObjectValue(r.x3732166192995771650x,t);for(var e=0;e<this.mNumLevels;e++){var i=t.createDictionary(e+1,"",999999,!0);i.setIntValue(r.x3032291183788580555x,0),i.setIntValue(r.x1744952106464590231x,0),i.setIntValue(r.x3511076639078912947x,0),i.setIntValue(r.x2824939494738296580x,0),i.setIntValue(r.x370692336246697136x,0)}this.saveDataToPrefs()}},s.didLoadData=function(){return!!this.mIsEnabled&&this.mDataDictionary.getIntValueWithDefault(r.x1484406448784763270x,0)==r.x3497254889419186313x},s.getMaxUnlockedLevelIndex=function(){return this.mDataDictionary.getIntValueWithDefault(r.x781450533902908624x,0)},s.getMaxPossibleLevelIndex=function(){return this.x1098789963781731349x.x1666856027417448917x().getIntValueWithKeyStringPath("gameMgr.game.players.players.player2.playerComponents.control.params.AIInput.levels.maximumLevelIndex")},s.getCurrentLevelIndex=function(){return this.mDataDictionary.getIntValueWithDefault(r.x2307348534748651814x,-1)},s.setCurrentLevelIndex=function(t){this.getCurrentLevelIndex()!=t&&(this.mDataDictionary.setIntValue(r.x2307348534748651814x,t),this.updateAIParamsForCurrentLevel(),this.saveDataToPrefs(),this.dispatchMessage(r.x4425116259920330297x,this,null))},s.getNumWinsForLevelIndex=function(t){var e=this.getLevelDictForLevelIndex(t);return e?e.getIntValue(r.x3032291183788580555x):0},s.getCurrentWinStreakForLevelIndex=function(t){var e=this.getLevelDictForLevelIndex(t);return e?e.getIntValue(r.x1744952106464590231x):0},s.getLongestWinStreakForLevelIndex=function(t){var e=this.getLevelDictForLevelIndex(t);return e?e.getIntValue(r.x3511076639078912947x):0},s.getNumLossesForLevelIndex=function(t){var e=this.getLevelDictForLevelIndex(t);return e?e.getIntValue(r.x2824939494738296580x):0},s.getGameOverLevelResult=function(){return this.mGameOverLevelResult},s.updateAIParamsForCurrentLevel=function(){var t=this.getCurrentLevelIndex(),e=this.getMaxPossibleLevelIndex()+1;this.x1098789963781731349x.x1666856027417448917x().setIntValueWithKeyStringPath("gameMgr.game.players.players.player2.params.avatarIndex",t),this.x1098789963781731349x.x1666856027417448917x().setIntValueWithKeyStringPath("gameMgr.game.players.players.player2.playerComponents.control.params.AIInput.levels.startingLevelIndex",t);var i=e-t+1,n=Math.pow(1.25,i),r=~~(50*n),s=~~(30*n);this.x1098789963781731349x.x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.AIInput").setIntValue(c.x3077521158705307390x,r),this.x1098789963781731349x.x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.AIInput").setIntValue(c.x3611508355657884921x,r),this.x1098789963781731349x.x1666856027417448917x().getDictionaryWithKeyStringPath("gameMgr.game.players.player-base.playerComponents.control.params.AIInput").setIntValue(c.x1932269299472430410x,s)},s.getSavedRecordsDataId=function(){return this.x1098789963781731349x.getSavedDataId()+"-records"},s.getLevelDictForLevelIndex=function(t){var e=this.mDataDictionary.getDictionary(r.x3732166192995771650x);return e?e.getDictionaryAtIndex(t):null},s.loadDataFromPrefs=function(){if(this.mIsEnabled){this.mDataDictionary.removeAllValues();var t=this.x1098789963781731349x.getPrefsString(this.getSavedRecordsDataId(),"");t&&""!=t&&this.mDataDictionary.parseJSONString(t,!1,!0),this.mDataDictionary.hasValue(r.x2307348534748651814x)||this.setCurrentLevelIndex(0);for(var e=this.mDataDictionary.getIntValueWithDefault(r.x1484406448784763270x,0);e<r.x3497254889419186313x;)this.resetData(),e=r.x3497254889419186313x;this.updateAIParamsForCurrentLevel(),this.dispatchMessage(r.x4504165447773153872x,this,null)}},s.saveDataToPrefs=function(){if(this.mIsEnabled&&this.didLoadData()){this.mDataDictionary.resetAllKeyStringsToKeyValue();var t=this.mDataDictionary.toJSONString(null,!0,-1);this.x1098789963781731349x.setPrefsString(this.getSavedRecordsDataId(),t),this.x1098789963781731349x.savePrefs()}},s.processGameResult=function(t,e){if(this.mIsEnabled&&this.didLoadData()){var i,n=e.getControlComponent().getParams().getIntValueWithKeyStringPath("AIInput.levels.startingLevelIndex"),s=this.getLevelDictForLevelIndex(n);switch(t.getGameEndCondition()){case u.x4307882867729987397x:var a=this.getMaxUnlockedLevelIndex();n>=a?(a=o.minInt(n+1,this.mNumLevels-1),this.mDataDictionary.setIntValue(r.x781450533902908624x,a),this.mGameOverLevelResult=r.x3881694082021684113x):this.mGameOverLevelResult=r.x2129245839988459790x,i=s.getIntValue(r.x3032291183788580555x),s.setIntValue(r.x3032291183788580555x,i+1);var c=this.getCurrentWinStreakForLevelIndex(n);c++,s.setIntValue(r.x1744952106464590231x,c),c>this.getLongestWinStreakForLevelIndex(n)&&s.setIntValue(r.x3511076639078912947x,c);break;case u.x790306920451850578x:i=s.getIntValue(r.x2824939494738296580x),s.setIntValue(r.x2824939494738296580x,i+1),s.setIntValue(r.x1744952106464590231x,0),this.mGameOverLevelResult=r.x2129245839988459790x;break;case u.x271176509498905822x:i=s.getIntValue(r.x370692336246697136x),s.setIntValue(r.x370692336246697136x,i+1),s.setIntValue(r.x1744952106464590231x,0),this.mGameOverLevelResult=r.x2129245839988459790x;break;case x.x2639760855526379562x:default:return void(this.mGameOverLevelResult=r.x2129245839988459790x)}this.saveDataToPrefs(),this.dispatchMessage(r.x4504165447773153872x,this,null)}},s.x1721113016797186854x=function(){this.x1098789963781731349x.removeMessageListener(this),this.x1098789963781731349x.getSceneMgr().removeMessageListener(this),m.getInstance().removeMessageListener(this),null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mDataDictionary&&(this.mDataDictionary.destroy(),this.mDataDictionary=null),t.prototype.x1721113016797186854x.call(this)},s.x601562840631873202x=function(t,e,i){switch(t){case l.x1612170441469018558x:this.loadDataFromPrefs(),m.getInstance().addMessageListener(this);break;case m.x4328140004478401849x:var n=m.getInstance().getGameMgr().getPlayerAtIndex(0),r=m.getInstance().getGameMgr().getPlayerAtIndex(1);this.processGameResult(n,r);break;case h.x4104787155684813481x:this.resetData()}},i(r,null,[{key:"x1170515238876133688x",get:function(){return 488921072}},{key:"x2496689708945938193x",get:function(){return 1486170884}},{key:"x3497254889419186313x",get:function(){return 6}},{key:"x4504165447773153872x",get:function(){return 1672953625}},{key:"x4425116259920330297x",get:function(){return 1775200073}},{key:"x2129245839988459790x",get:function(){return 603928186}},{key:"x3881694082021684113x",get:function(){return 1649615273}},{key:"x1484406448784763270x",get:function(){return 648332039}},{key:"x2307348534748651814x",get:function(){return 579410351}},{key:"x781450533902908624x",get:function(){return 953201725}},{key:"x3732166192995771650x",get:function(){return 385983840}},{key:"x3032291183788580555x",get:function(){return 701012776}},{key:"x1744952106464590231x",get:function(){return 732892372}},{key:"x3511076639078912947x",get:function(){return 787172099}},{key:"x2824939494738296580x",get:function(){return 965132418}},{key:"x370692336246697136x",get:function(){return 506144436}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x2385793234846142307x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3791052768062686699x.ts","./x3693760142138385085x.ts","./x1232577566642415821x.ts","./x702435451033209193x.ts","./x1442954324271535409x.ts","./x4016911264059163956x.ts","./x1046482460489005215x.ts","./x1127813857485463346x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x3791052768062686699x},function(t){s=t.x3693760142138385085x},function(t){a=t.x1232577566642415821x},function(t){o=t.x702435451033209193x},function(t){x=t.x1442954324271535409x},function(t){u=t.x4016911264059163956x},function(t){c=t.x1046482460489005215x},function(t){l=t.x1127813857485463346x}],execute:function(){n._RF.push({},"f499aVS+PJPZr1mAq4S91F1","x2385793234846142307x",void 0),t("x2385793234846142307x",function(t){function n(e){var i;return(i=t.call(this,e)||this).mStyle=new s(!0),i.mDoAutoToggle=!1,i.mOffText="",i.mOnText="",i.mOffContentImageSpriteFrame=null,i.mOnContentImageSpriteFrame=null,i.mDisabledContentImageSpriteFrame=null,i.setIsPointerControl(!0),i.setAcceptsInputFocus(!0),i.setName("_BPSUIButton"),i}e(n,t);var h=n.prototype;return h.setButtonText=function(t,e){this.mOffText==t&&this.mOnText==e||(this.mOffText=t,this.mOnText=e,this.updateText())},h.setContentImageSpriteFrame=function(t){var e=this.getContentView().getChildNamed("contentImage");e&&e.setSpriteFrame(t),this.mOffContentImageSpriteFrame=t,this.mOnContentImageSpriteFrame=t,this.mDisabledContentImageSpriteFrame=t},h.updateFrame=function(){if(this.mStyle&&this.mStyle.getDictionary(o.stringToValueKey("frame")))if(this.getIsEnabled())if(this.getIsOn())switch(this.getPointerState()){case r.x4256079191993495094x:case r.x3397694374290756729x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:on-normal"));break;case r.x1104436723596089052x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath(a.isMouseHoverEnabled()?"frame.textures.texture:on-hover":"frame.textures.texture:on-normal"));break;case r.x2770716950701397870x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath(this.getDidPointerDownStartInside()?"frame.textures.texture:on-down":"frame.textures.texture:on-normal"))}else switch(this.getPointerState()){case r.x4256079191993495094x:case r.x3397694374290756729x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:off-normal"));break;case r.x1104436723596089052x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath(a.isMouseHoverEnabled()?"frame.textures.texture:off-hover":"frame.textures.texture:off-normal"));break;case r.x2770716950701397870x:this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath(this.getDidPointerDownStartInside()?"frame.textures.texture:off-down":"frame.textures.texture:off-normal"))}else this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:disabled"))},h.updateText=function(){if(this.mStyle&&this.mStyle.getDictionary(o.stringToValueKey("text"))){if(this.getIsEnabled())if(this.getIsOn())switch(this.getPointerState()){case r.x4256079191993495094x:case r.x3397694374290756729x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath("text.fonts.font:on-normal"));break;case r.x1104436723596089052x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath(a.isMouseHoverEnabled()?"text.fonts.font:on-hover":"text.fonts.font:on-normal"));break;case r.x2770716950701397870x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath(this.getDidPointerDownStartInside()?"text.fonts.font:on-down":"text.fonts.font:on-normal"))}else switch(this.getPointerState()){case r.x4256079191993495094x:case r.x3397694374290756729x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath("text.fonts.font:off-normal"));break;case r.x1104436723596089052x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath(a.isMouseHoverEnabled()?"text.fonts.font:off-hover":"text.fonts.font:off-normal"));break;case r.x2770716950701397870x:this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath(this.getDidPointerDownStartInside()?"text.fonts.font:off-down":"text.fonts.font:off-normal"))}else this.setTextStyle(this.mStyle.getDictionaryWithKeyStringPath("text.fonts.font:disabled"));this.setText(this.getIsOn()?this.mOnText:this.mOffText)}},h.updateContentImage=function(){var t=this.getContentView().getChildNamed("contentImage");t&&(this.getIsEnabled()?this.getIsOn()?t.setSpriteFrame(this.mOnContentImageSpriteFrame):t.setSpriteFrame(this.mOffContentImageSpriteFrame):t.setSpriteFrame(this.mDisabledContentImageSpriteFrame),t.setAlpha(this.getFrameView().getAlpha()))},h.handleButtonClicked=function(){this.mDoAutoToggle&&this.setIsOn(!this.getIsOn()),this.dispatchMessage(n.x1220349481777468123x,this,null),u.instance().handleUIEvent(u.x2926095884306795869x)},h.x962108131907433511x=function(e){t.prototype.x962108131907433511x.call(this,e),this.setName("_BPSUIButton"),e&&(this.setName(e.getStringValue(o.stringToValueKey("name"))),this.mDoAutoToggle=e.getBoolValue(o.stringToValueKey("autoToggle")),this.mOffText=e.getStringValue(o.stringToValueKey("offText")),this.mOnText=e.getStringValue(o.stringToValueKey("onText")))},h.x1721113016797186854x=function(){this.mOffContentImageSpriteFrame=null,this.mOnContentImageSpriteFrame=null,this.mDisabledContentImageSpriteFrame=null,null!==this.mStyle&&(this.mStyle.destroy(),this.mStyle=null),t.prototype.x1721113016797186854x.call(this)},h.x2087238289079137286x=function(t){switch(this.updateFrame(),this.updateText(),this.updateContentImage(),this.getPointerState()){case r.x2770716950701397870x:case r.x1104436723596089052x:t?x.setCursorToButton():x.setCursorToNormal()}},h.x427686640273313359x=function(t){this.updateFrame(),this.updateText(),this.updateContentImage()},h.x1829116493635155500x=function(t){t?(this.setInputFocusStyle(this.mStyle.getDictionaryWithKeyStringPath("inputFocus.textures.texture:inputFocus")),this.getIsOn()?this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:on-hover")):this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:off-hover"))):(this.setInputFocusStyle(null),this.getIsEnabled()?this.getIsOn()?this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:on-normal")):this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:off-normal")):this.setFrameStyle(this.mStyle.getDictionaryWithKeyStringPath("frame.textures.texture:disabled")))},h.x108367365699833894x=function(t,e){switch(e){case r.x2770716950701397870x:case r.x1104436723596089052x:switch(this.getIsEnabled()?x.setCursorToButton():x.setCursorToNormal(),e){case r.x2770716950701397870x:this.dispatchMessage(n.x1934026983786189580x,this,null);break;case r.x1104436723596089052x:u.instance().handleUIEvent(u.x588578327673441622x)}break;default:x.setCursorToNormal()}this.updateFrame(),this.updateText(),this.updateContentImage(),e==r.x1104436723596089052x&&this.getDidPointerDownStartInside()&&this.handleButtonClicked()},h.x1009804471225371144x=function(t){return t===l.x1960163044591708132x},h.x3123597400434174255x=function(t){t===l.x1960163044591708132x&&this.handleButtonClicked()},h.x3043966882343981070x=function(t){this.mStyle.copy(t,!1),this.updateFrame(),this.setTextTransform(t.getDictionaryWithKeyStringPath("text.transform")),this.updateText();var e=t.getDictionary(o.stringToValueKey("contentImage"));if(e){var i=e.getDictionary(o.stringToValueKey("textures"));if(i){var n=null;if(i.getDictionary(o.stringToValueKey("texture:off"))&&(this.mOffContentImageSpriteFrame=this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(i.getDictionary(o.stringToValueKey("texture:off")).getStringValue(o.stringToValueKey("resource_texture"))),n||(n=this.mOffContentImageSpriteFrame)),i.getDictionary(o.stringToValueKey("texture:on"))&&(this.mOnContentImageSpriteFrame=this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(i.getDictionary(o.stringToValueKey("texture:on")).getStringValue(o.stringToValueKey("resource_texture"))),n||(n=this.mOnContentImageSpriteFrame)),i.getDictionary(o.stringToValueKey("texture:disabled"))&&(this.mDisabledContentImageSpriteFrame=this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(i.getDictionary(o.stringToValueKey("texture:disabled")).getStringValue(o.stringToValueKey("resource_texture"))),n||(n=this.mDisabledContentImageSpriteFrame)),n){var r=new c(this.getAppSupportFactory());r.retain(),r.setName("contentImage"),r.setSpriteFrame(n),r.setTransformWithParams(e.getDictionary(o.stringToValueKey("transform"))),this.getContentView().addChild(r),r.release()}}}this.updateContentImage(),this.verifyViews()},h.x4015185806143002421x=function(t){this.addMessageListener(t)},h.x687444878156563588x=function(){return n.x2743329392283200599x},h.x2607134971181910524x=function(e){return e==n.x2743329392283200599x||t.prototype.x2607134971181910524x.call(this,e)},i(n,null,[{key:"x2743329392283200599x",get:function(){return 1511014842}},{key:"x1934026983786189580x",get:function(){return 625193200}},{key:"x1220349481777468123x",get:function(){return 1888574137}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x3791052768062686699x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1550596296120876899x.ts","./x1232577566642415821x.ts","./x3552755872900086406x.ts","./x439725023118195804x.ts","./x1975437464451156427x.ts","./x1127813857485463346x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1550596296120876899x},function(t){s=t.x1232577566642415821x},function(t){a=t.x3552755872900086406x},function(t){o=t.x439725023118195804x},function(t){x=t.x1975437464451156427x},function(t){u=t.x1127813857485463346x}],execute:function(){n._RF.push({},"ada13NL0WhCxbVrpRx8pWz+","x3791052768062686699x",void 0),t("x3791052768062686699x",function(t){function n(e){var i;return(i=t.call(this,!0,e)||this).mFrameView=null,i.mTextView=null,i.mTextViewTransform=null,i.mContentView=new o(e),i.mContentView.retain(),i.mContentView.setName("content"),i.createInternalChildrenContainer(),i.getInternalChildrenContainer().addChild(i.mContentView),i.mInputFocusView=null,i.mInputFocusViewWidthMod=0,i.mInputFocusViewHeightMod=0,i.mIsEnabled=!0,i.mIsOn=!1,i.mIsPointerControl=!1,i.mAcceptsInputFocus=!1,i.mIsInputFocus=!1,i.mIsPointerInside=!1,i.mIsPointerDown=!1,i.mDidPointerDownStartInside=!1,i.mPointerState=n.x4256079191993495094x,i.setName("_BPSUIControl"),i}e(n,t),n.trySetIsEnabled=function(t,e){t&&t.setIsEnabled(e)};var r=n.prototype;return r.isPointerControl=function(){return this.mIsPointerControl},r.setIsPointerControl=function(t){this.mIsPointerControl=t},r.isAcceptingInput=function(){return this.mIsEnabled&&this.getIsActive()},r.getIsEnabled=function(){return this.mIsEnabled},r.setIsEnabled=function(t){this.mIsEnabled!=t&&(this.mIsEnabled=t,this.mIsPointerControl&&u.updatePointerControlState(this),this.setInputFocusStyle(null),this.x2087238289079137286x(t))},r.acceptsInputFocus=function(){return this.mAcceptsInputFocus},r.setAcceptsInputFocus=function(t){this.mAcceptsInputFocus=t},r.getIsInputFocus=function(){return this.mIsInputFocus},r.setIsInputFocus=function(t){this.isAcceptingInput()||(t=!1),this.mIsInputFocus!=t&&(this.mIsInputFocus=t,this.x1829116493635155500x(t),this.verifyViews())},r.getIsOn=function(){return this.mIsOn},r.setIsOn=function(t){this.isAcceptingInput()&&this.mIsOn!=t&&(this.mIsOn=t,this.x427686640273313359x(t))},r.getText=function(){return this.mTextView?this.mTextView.getText():""},r.setText=function(t){this.mTextView&&(this.mTextView.setText(t),this.applyTextTransform())},r.getTextWidth=function(){return this.mTextView?this.mTextView.getWidth():0},r.handleDeviceControlOn=function(t,e,i,n){if(this.isAcceptingInput())switch(t){case s.x682881226454308741x:this.handleMouseControlOn(e,~~i,~~n);break;case s.x174329776616401164x:this.handleTouchControlOn(e,~~i,~~n)}},r.handleDeviceControlOff=function(t,e,i,n){if(this.isAcceptingInput())switch(t){case s.x682881226454308741x:this.handleMouseControlOff(e,~~i,~~n);break;case s.x174329776616401164x:this.handleTouchControlOff(e,~~i,~~n)}},r.handleDeviceControlValues=function(t,e,i,n){if(this.isAcceptingInput())switch(t){case s.x682881226454308741x:this.handleMouseControlValues(e,~~i,~~n);break;case s.x174329776616401164x:this.handleTouchControlValues(e,~~i,~~n)}},r.handleDeviceControlCancelled=function(t,e){if(this.isAcceptingInput())switch(t){case s.x682881226454308741x:this.handleMouseControlCancelled(e);break;case s.x174329776616401164x:this.handleTouchControlCancelled(e)}},r.handleMouseControlOn=function(t,e,i){this.x781012747799194866x(t,e,i),t==s.x2537312111073578457x&&this.setPointerState(e,i,!0,!1)},r.handleMouseControlOff=function(t,e,i){this.x1103002881154167342x(t,e,i),t==s.x2537312111073578457x&&this.setPointerState(e,i,!1,!1)},r.handleMouseControlValues=function(t,e,i){this.x391595271929733413x(e,i),this.setPointerState(e,i,this.mIsPointerDown,!1)},r.handleMouseControlCancelled=function(t){this.x2612513675307951471x(t),t==s.x2537312111073578457x&&this.setPointerState(-1e6,-1e6,!1,!0)},r.handleTouchControlOn=function(t,e,i){this.x754043462355724564x(t,e,i)},r.handleTouchControlOff=function(t,e,i){this.x3418096318213010901x(t,e,i)},r.handleTouchControlValues=function(t,e,i){this.x2017632316864301224x(t,e,i)},r.handleTouchControlCancelled=function(t){this.x3816839119984218077x(t,-1e6,-1e6)},r.getPointerState=function(){return this.mPointerState},r.setPointerState=function(t,e,i,r){var s=this.isWorldSpacePointInside(t,e),a=this.mIsPointerInside!=s;this.mIsPointerInside=s;var o=this.mIsPointerDown!=i;if(o&&(this.mIsPointerDown=i,i&&s?this.mDidPointerDownStartInside=!0:r&&(this.mDidPointerDownStartInside=!1)),o||a){var x=this.mPointerState;this.mPointerState=s?this.mIsPointerDown?n.x2770716950701397870x:n.x1104436723596089052x:this.mIsPointerDown?n.x3397694374290756729x:n.x4256079191993495094x,this.x108367365699833894x(x,this.mPointerState)}i||(this.mDidPointerDownStartInside=!1)},r.getDidPointerDownStartInside=function(){return this.mDidPointerDownStartInside},r.acceptsInputAction=function(t){return this.x1009804471225371144x(t)},r.handleInputActionOn=function(t){this.x3123597400434174255x(t)},r.handleInputActionOff=function(t){this.x4601252178440400060x(t)},r.handleInputActionCancelled=function(t){this.x3179554550512765339x(t)},r.setFrameStyle=function(t){t?(this.mFrameView||(this.mFrameView=new x(this.getAppSupportFactory()),this.mFrameView.retain(),this.mFrameView.setName("frame"),this.mFrameView.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValueWithKeyStringPath("resource_texture"))),this.mFrameView.setSize(this.getWidth(),this.getHeight()),this.verifyViews()),this.mFrameView.setIsActive(!0),this.mFrameView.setIsVisible(!0),this.mFrameView.setStyle(t)):this.mFrameView&&this.mFrameView.setIsActive(!1)},r.getFrameView=function(){return this.mFrameView},r.setTextStyle=function(t){t?(this.mTextView||(this.mTextView=new a(this.getAppSupportFactory()),this.mTextView.retain(),this.mTextView.setName("text"),this.verifyViews()),this.mTextView.setIsActive(!0),this.mTextView.setIsVisible(!0),this.mTextView.setStyle(t),this.applyTextTransform()):this.mTextView&&this.mTextView.setIsActive(!1)},r.setTextTransform=function(t){this.mTextViewTransform=t,this.applyTextTransform()},r.getContentView=function(){return this.mContentView},r.setInputFocusStyle=function(t){t?(this.mInputFocusView||(this.mInputFocusView=new x(this.getAppSupportFactory()),this.mInputFocusView.retain(),this.mInputFocusView.setName("inputFocus"),this.mInputFocusView.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(t.getStringValueWithKeyStringPath("resource_texture"))),this.mInputFocusViewWidthMod=t.getFloatValueWithKeyStringPath("widthMod"),this.mInputFocusViewHeightMod=t.getFloatValueWithKeyStringPath("heightMod"),this.mInputFocusView.setSize(this.getWidth()+this.mInputFocusViewWidthMod,this.getHeight()+this.mInputFocusViewHeightMod),this.verifyViews()),this.mInputFocusView.setIsActive(!0),this.mInputFocusView.setIsVisible(!0),this.mInputFocusView.setStyle(t)):this.mInputFocusView&&(this.mInputFocusView.setIsActive(!1),this.mInputFocusView.setIsVisible(!1))},r.verifyViews=function(){if(this.mFrameView&&this.mFrameView.getParent()!=this||this.mTextView&&this.mTextView.getParent()!=this||this.mInputFocusView&&this.mInputFocusView.getParent()!=this){var t=this.getInternalChildrenContainer();t.removeAllChildren(!0),this.mInputFocusView&&this.mIsInputFocus&&t.addChild(this.mInputFocusView),t.addChild(this.mFrameView),t.addChild(this.mTextView),this.applyTextTransform(),t.addChild(this.mContentView)}},r.applyTextTransform=function(){this.mTextView&&this.mTextViewTransform&&this.mTextView.setTransformWithParams(this.mTextViewTransform)},r.x2087238289079137286x=function(t){},r.x427686640273313359x=function(t){},r.x1829116493635155500x=function(t){},r.x108367365699833894x=function(t,e){},r.x391595271929733413x=function(t,e){},r.x781012747799194866x=function(t,e,i){},r.x2612513675307951471x=function(t){},r.x1103002881154167342x=function(t,e,i){},r.x754043462355724564x=function(t,e,i){},r.x2017632316864301224x=function(t,e,i){},r.x3418096318213010901x=function(t,e,i){},r.x3816839119984218077x=function(t,e,i){},r.x1009804471225371144x=function(t){return!1},r.x3123597400434174255x=function(t){},r.x4601252178440400060x=function(t){},r.x3179554550512765339x=function(t){},r.x962108131907433511x=function(e){t.prototype.x962108131907433511x.call(this,e),this.setName("_BPSUIControl")},r.x1721113016797186854x=function(){this.mFrameView&&this.mFrameView.release(),this.mFrameView=null,this.mTextView&&this.mTextView.release(),this.mTextView=null,this.mTextViewTransform=null,this.mContentView&&this.mContentView.release(),this.mContentView=null,this.mInputFocusView&&this.mInputFocusView.release(),this.mInputFocusView=null,t.prototype.x1721113016797186854x.call(this)},r.x3803532165094435170x=function(e,i){t.prototype.x3803532165094435170x.call(this,e,i),this.mFrameView&&this.mFrameView.setSize(e,i),this.applyTextTransform(),this.mInputFocusView&&this.mInputFocusView.setSize(e+this.mInputFocusViewWidthMod,i+this.mInputFocusViewHeightMod)},r.x687444878156563588x=function(){return n.x3193376517533136792x},r.x2607134971181910524x=function(e){return e==n.x3193376517533136792x||t.prototype.x2607134971181910524x.call(this,e)},i(n,null,[{key:"x3193376517533136792x",get:function(){return 2101312149}},{key:"x4256079191993495094x",get:function(){return 1}},{key:"x1104436723596089052x",get:function(){return 2}},{key:"x3397694374290756729x",get:function(){return 3}},{key:"x2770716950701397870x",get:function(){return 4}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x1127813857485463346x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1232577566642415821x.ts","./x3693760142138385085x.ts","./x3196398007076860870x.ts","./x702435451033209193x.ts","./x1442954324271535409x.ts","./x3791052768062686699x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x1232577566642415821x},function(t){s=t.x3693760142138385085x},function(t){a=t.x3196398007076860870x},function(t){o=t.x702435451033209193x},function(t){x=t.x1442954324271535409x},function(t){u=t.x3791052768062686699x}],execute:function(){n._RF.push({},"ff37dRzCQBB+Lwluz6LHjPX","x1127813857485463346x",void 0),t("x1127813857485463346x",function(t){function n(e,i){var r;return(r=t.call(this,i)||this).mParams=new s(!0),r.mParams.copy(e,!0),r.mIsControlsNavigationEnabled=r.mParams.getBoolValueWithDefault(n.x3760414007627883774x,!1),r.mFocusableControls=new a(0),r.mInputFocusControl=null,r.mPointerControls=new a(0),r.mActivePointerControl=null,r.mapStandardDeviceInputs(r.mIsControlsNavigationEnabled),r}e(n,t),n.updatePointerControlState=function(t){n.sIsPointerActive?t.setPointerState(r.sMouseWorldX,r.sMouseWorldY,r.isMouseButtonDown(r.x2630077880114777475x),!1):t.setPointerState(-1e6,-1e6,!1,!1)},n.isPointerActive=function(){return n.sIsPointerActive},n.setIsPointerActive=function(t){n.sIsPointerActive=t,x.setCursorIsVisible(t)};var c=n.prototype;return c.manageControlsInView=function(t){this.clearManagedControls(),this._manageControlsInView(t,!0)},c.clearManagedControls=function(){this.cancelAllInputActions(),this.resetInputFocusControl(),this.mFocusableControls.removeAll(),this.mPointerControls.removeAll()},c.hasInputFocusControl=function(){return this.mInputFocusControl},c.resetInputFocusControl=function(){this.setInputFocusControl(null),this.clearActivePointerControl()},c.focusNextControl=function(){var t=this.mFocusableControls.getNumObjects();if(0==t)return!1;for(var e=this.mInputFocusControl?this.mFocusableControls.getObjectIndex(this.mInputFocusControl):t-1,i=0;i<t;i++){e=o.loopClampedInt(e+1,0,t-1);var n=this.mFocusableControls.getAtIndex(e);if(n.isAcceptingInput())return this.setInputFocusControl(n),!0}return this.setInputFocusControl(null),!0},c.focusPreviousControl=function(){var t=this.mFocusableControls.getNumObjects();if(0==t)return!1;for(var e=this.mInputFocusControl?this.mFocusableControls.getObjectIndex(this.mInputFocusControl):1,i=0;i<t;i++){e=o.loopClampedInt(e-1,0,t-1);var n=this.mFocusableControls.getAtIndex(e);if(n.isAcceptingInput())return this.setInputFocusControl(n),!0}return this.setInputFocusControl(null),!0},c.mapStandardDeviceInputs=function(t){t&&(this.mapStandardDeviceInputsForAction(n.x3740269607784699370x),this.mapStandardDeviceInputsForAction(n.x3058286439155871692x),this.mapStandardDeviceInputsForAction(n.x4535933922886202808x),this.mapStandardDeviceInputsForAction(n.x1315328804317542264x)),this.mapStandardDeviceInputsForAction(n.x1960163044591708132x),this.mapStandardDeviceInputsForAction(n.x3716705742839152288x)},c.mapStandardDeviceInputsForAction=function(t){switch(t){case n.x3740269607784699370x:this.mapDeviceControl(r.x4234934191319707258x,r.x1860907962812433353x,t,!1),this.mapDeviceControl(r.x4234934191319707258x,r.x312990791788936675x,t,!1),this.mapDeviceControl(r.x273326733444963739x,r.x674794962460818490x,t,!1);break;case n.x3058286439155871692x:this.mapDeviceControl(r.x4234934191319707258x,r.x1807416947540734653x,t,!1),this.mapDeviceControl(r.x273326733444963739x,r.x3612342849729475857x,t,!1);break;case n.x4535933922886202808x:this.mapDeviceControl(r.x4234934191319707258x,r.x1597228462527623109x,t,!1),this.mapDeviceControl(r.x273326733444963739x,r.x429680799316670294x,t,!1);break;case n.x1315328804317542264x:this.mapDeviceControl(r.x4234934191319707258x,r.x3108845472590638251x,t,!1),this.mapDeviceControl(r.x273326733444963739x,r.x1617120287850231413x,t,!1);break;case n.x1960163044591708132x:this.mapDeviceControl(r.x4234934191319707258x,r.x617777370107070199x,t,!1),this.mapDeviceControl(r.x4234934191319707258x,r.x2982772486876334107x,t,!1),this.mapDeviceControl(r.x4234934191319707258x,r.x996033665766562016x,t,!1),this.mapDeviceControl(r.x273326733444963739x,r.x1751605661018021058x,t,!1);break;case n.x3716705742839152288x:this.mapDeviceControl(r.x4234934191319707258x,r.x4535460003535727211x,t,!1),this.mapDeviceControl(r.x273326733444963739x,r.x1172661380578722777x,t,!1)}},c._manageControlsInView=function(t,e){if(t)for(var i=t.getNumChildren(),n=0;n<i;n++){var r=e,s=t.getChildAtIndex(n);if(s.x2607134971181910524x(u.x3193376517533136792x)){var a=s;if(this.tryAddPointerControl(a),e)switch(a.x687444878156563588x()){case 1511014842:case 1508367305:a.acceptsInputFocus()&&(this.mFocusableControls.pushBack(a),r=!1)}}this._manageControlsInView(s,r)}},c.setInputFocusControl=function(t){this.mInputFocusControl!=t&&(this.clearActivePointerControl(),this.mInputFocusControl&&this.mInputFocusControl.setIsInputFocus(!1),this.mInputFocusControl=t,this.mInputFocusControl&&this.mInputFocusControl.isAcceptingInput()&&(this.mInputFocusControl.setIsInputFocus(!0),this.dispatchMessage(n.x1864491597007388497x,this,null)))},c.tryResetInputFocusControlAndInputActions=function(){this.hasInputFocusControl()&&(this.resetInputFocusControl(),this.cancelAllInputActions())},c.tryAddPointerControl=function(t){t.isPointerControl()&&(this.mPointerControls.containsObject(t)||this.mPointerControls.pushBack(t))},c.removePointerControl=function(t){this.mPointerControls.removeObject(t),this.mActivePointerControl==t&&this.setActivePointerControl(null)},c.clearActivePointerControl=function(){for(var t=this.mPointerControls.getNumObjects()-1;t>=0;t--)this.mPointerControls.getAtIndex(t).setPointerState(-1e6,-1e6,!1,!1);this.setActivePointerControl(null)},c.setActivePointerControl=function(t){this.mActivePointerControl!=t&&(this.mActivePointerControl&&this.mActivePointerControl.release(),this.mActivePointerControl=t,this.mActivePointerControl&&this.mActivePointerControl.retain())},c.updateAllPointerControlsState=function(){for(var t=n.sIsPointerActive,e=this.mPointerControls.getNumObjects(),i=0;i<e;i++){var s=this.mPointerControls.getAtIndex(i);t?s.setPointerState(r.sMouseWorldX,r.sMouseWorldY,r.isMouseButtonDown(r.x2630077880114777475x),!1):s.setPointerState(-1e6,-1e6,!1,!1)}},c.invalidatePointerState=function(){this.handleMouseDeviceControlValues(r.x2537312111073578457x,-1e6,-1e6),this.handleMouseDeviceControlValues(r.x931823227208707668x,-1e6,-1e6),this.handleTouchDeviceControlValues(r.x4119695339070737997x,-1e6,-1e6)},c.getPointerControlUnderPoint=function(t,e){for(var i=this.mPointerControls.getNumObjects()-1;i>=0;i--){var n=this.mPointerControls.getAtIndex(i);if(n.isWorldSpacePointInside(t,e)&&n.getIsEnabled())return n}return null},c.handleMouseDeviceControlOn=function(t,e,i){var n=r.convertMouseControlIdToControlIndex(t);if(!r.isMouseButtonDown(n)){r.setMouseButtonIsDown(n,!0);var s=~~e,a=~~i;if(r.sMouseWorldX==s&&r.sMouseWorldY==a||this.handleMouseDeviceControlValues(t,s,a),!this.mActivePointerControl){var o=this.getPointerControlUnderPoint(s,a);this.setActivePointerControl(o)}this.mActivePointerControl&&this.mActivePointerControl.handleDeviceControlOn(r.x682881226454308741x,t,s,a)}},c.handleMouseDeviceControlOff=function(t,e,i){var n=r.convertMouseControlIdToControlIndex(t);if(r.isMouseButtonDown(n)){r.setMouseButtonIsDown(n,!1);var s=~~e,a=~~i;r.sMouseWorldX==s&&r.sMouseWorldY==a||this.handleMouseDeviceControlValues(t,s,a),this.mActivePointerControl&&(this.mActivePointerControl.handleDeviceControlOff(r.x682881226454308741x,t,s,a),r.isAnyMouseButtonDown()||this.setActivePointerControl(null))}},c.handleMouseDeviceControlValues=function(t,e,i){var n=r.convertMouseControlIdToControlIndex(t);if(r.isMouseHoverEnabled()||r.isAnyMouseButtonDown()){var s=~~e,a=~~i;if(r.sMouseWorldX!=s||r.sMouseWorldY!=a)if(r.sMouseWorldX=s,r.sMouseWorldY=a,this.mActivePointerControl)this.mActivePointerControl.handleDeviceControlValues(r.x682881226454308741x,t,s,a);else if(!r.isMouseButtonDown(n))for(var o=this.mPointerControls.getNumObjects()-1;o>=0;o--)this.mPointerControls.getAtIndex(o).handleDeviceControlValues(r.x682881226454308741x,t,s,a)}},c.handleMouseDeviceControlCancelled=function(t){var e=r.convertMouseControlIdToControlIndex(t);if(r.isMouseButtonDown(e)){r.setMouseButtonIsDown(e,!1),this.invalidatePointerState(),r.isAnyMouseButtonDown()||this.setActivePointerControl(null);for(var i=this.mPointerControls.getNumObjects()-1;i>=0;i--)this.mPointerControls.getAtIndex(i).handleDeviceControlCancelled(r.x682881226454308741x,t)}},c.handleTouchDeviceControlOn=function(t,e,i){},c.handleTouchDeviceControlOff=function(t,e,i){},c.handleTouchDeviceControlValues=function(t,e,i){},c.handleTouchDeviceControlCancelled=function(t){},c.x1721113016797186854x=function(){null!==this.mPointerControls&&(this.mPointerControls.destroy(),this.mPointerControls=null),this.mActivePointerControl&&this.mActivePointerControl.release(),this.mActivePointerControl=null,null!==this.mParams&&(this.mParams.destroy(),this.mParams=null),null!==this.mFocusableControls&&(this.mFocusableControls.destroy(),this.mFocusableControls=null),this.mInputFocusControl=null,t.prototype.x1721113016797186854x.call(this)},c.x1805156525887796098x=function(t,e,i,n){switch(t){case r.x682881226454308741x:this.tryResetInputFocusControlAndInputActions(),this.handleMouseDeviceControlOn(e,i,n);break;case r.x174329776616401164x:this.tryResetInputFocusControlAndInputActions(),this.handleTouchDeviceControlOn(e,i,n)}},c.x93721751811016080x=function(t,e,i,n){switch(t){case r.x682881226454308741x:this.tryResetInputFocusControlAndInputActions(),this.handleMouseDeviceControlOff(e,i,n);break;case r.x174329776616401164x:this.handleTouchDeviceControlOff(e,i,n)}},c.x2396081279365443715x=function(t,e,i,n){switch(t){case r.x682881226454308741x:this.tryResetInputFocusControlAndInputActions(),this.handleMouseDeviceControlValues(e,i,n);break;case r.x174329776616401164x:this.handleTouchDeviceControlValues(e,i,n)}},c.x417646767678010285x=function(t,e){switch(t){case r.x682881226454308741x:this.handleMouseDeviceControlCancelled(e);break;case r.x174329776616401164x:this.handleTouchDeviceControlCancelled(e)}},c.x2812808321535839600x=function(t,e,i){switch(t){case n.x3740269607784699370x:return this.focusNextControl();case n.x3058286439155871692x:return this.focusPreviousControl();case n.x4535933922886202808x:case n.x1315328804317542264x:case n.x1960163044591708132x:if(this.mInputFocusControl&&this.mInputFocusControl.isAcceptingInput()&&this.mInputFocusControl.acceptsInputAction(t))return this.mInputFocusControl.handleInputActionOn(t),!0;switch(t){case n.x1315328804317542264x:return this.focusNextControl();case n.x4535933922886202808x:return this.focusPreviousControl()}}return!1},c.x1139453838275450500x=function(t,e,i){switch(t){case n.x4535933922886202808x:case n.x1315328804317542264x:case n.x1960163044591708132x:if(this.mInputFocusControl&&this.mInputFocusControl.isAcceptingInput()&&this.mInputFocusControl.acceptsInputAction(t))return this.mInputFocusControl.handleInputActionOff(t),!0}return!1},c.x3479537235222062038x=function(t,e,i,n){return!1},c.x3219935097999029942x=function(t){switch(t){case n.x4535933922886202808x:case n.x1315328804317542264x:case n.x1960163044591708132x:if(this.mInputFocusControl&&this.mInputFocusControl.acceptsInputAction(t))return this.mInputFocusControl.handleInputActionCancelled(t),!0}return!1},i(n,null,[{key:"x3760414007627883774x",get:function(){return 1203179410}},{key:"x3740269607784699370x",get:function(){return 1319585881}},{key:"x3058286439155871692x",get:function(){return 514523253}},{key:"x4535933922886202808x",get:function(){return 670917368}},{key:"x1315328804317542264x",get:function(){return 208332043}},{key:"x1960163044591708132x",get:function(){return 1626023021}},{key:"x3716705742839152288x",get:function(){return 1421737144}},{key:"x1864491597007388497x",get:function(){return 608420455}}]),n}(r)).sIsPointerActive=!0,n._RF.pop()}}})),System.register("chunks:///_virtual/x295234079426945939x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3791052768062686699x.ts","./x3693760142138385085x.ts","./x702435451033209193x.ts","./x439725023118195804x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x3791052768062686699x},function(t){s=t.x3693760142138385085x},function(t){a=t.x702435451033209193x},function(t){o=t.x439725023118195804x}],execute:function(){n._RF.push({},"0f5d51sFr5G/qp2ZTFT/GZ2","x295234079426945939x",void 0),t("x295234079426945939x",function(t){function n(e){var i;return(i=t.call(this,e)||this).mStyle=new s(!0),i.mTitle="",i.mPanelContentView=new o(e),i.mPanelContentView.retain(),i.mPanelContentView.setName("panelContent"),i.mPanelContentView.setEnableChildrenSiblingDepthOffset(!1),i.getContentView().addChild(i.mPanelContentView),i.getContentView().setEnableChildrenBaseDepthOffset(!1),i.mAutoFrameWidth=!1,i.mAutoFrameHeight=!1,i}e(n,t);var r=n.prototype;return r.setTitle=function(t){this.mTitle!=t&&(this.mTitle=t,this.setText(t))},r.createContentHierarchy=function(t){this.mPanelContentView.removeAllChildren(!0),this.getAppSupportFactory().createViewHierarchyInView(t,this.mPanelContentView),this.setContentStyle(),this.updateSize()},r.updateSize=function(){var t=this.getFrameView();t&&(this.mAutoFrameWidth&&t.setWidth(this.mPanelContentView.getWidth()),this.mAutoFrameHeight&&t.setHeight(this.mPanelContentView.getHeight()),this.setSize(t.getWidth(),t.getHeight()))},r.setTitleStyle=function(){if(this.mStyle){var t=this.mStyle.getDictionary(a.stringToValueKey("title"));t&&(this.setTextStyle(t.getDictionary(a.stringToValueKey("font:title"))),this.setTextTransform(t.getDictionary(a.stringToValueKey("transform"))))}},r.setContentStyle=function(){this.mStyle&&(this.mPanelContentView.setStyle(this.mStyle.getDictionaryWithKeyStringPath("content.style")),this.mPanelContentView.setTransformWithParams(this.mStyle.getDictionaryWithKeyStringPath("content.transform")))},r.x962108131907433511x=function(e){if(t.prototype.x962108131907433511x.call(this,e),this.setName("_BPSUIPanel"),e){var i=e.getDictionary(a.stringToValueKey("transform"));i?(this.mAutoFrameWidth=i.getFloatValue(a.stringToValueKey("width"))<=0,this.mAutoFrameHeight=i.getFloatValue(a.stringToValueKey("height"))<=0):(this.mAutoFrameWidth=!0,this.mAutoFrameHeight=!0),this.setStyle(e.getDictionary(a.stringToValueKey("style"))),this.setTitle(e.getStringValue(a.stringToValueKey("title"))),this.createContentHierarchy(e.getDictionary(a.stringToValueKey("content")))}},r.x1721113016797186854x=function(){null!==this.mStyle&&(this.mStyle.destroy(),this.mStyle=null),this.mPanelContentView&&this.mPanelContentView.release(),this.mPanelContentView=null,t.prototype.x1721113016797186854x.call(this)},r.x3803532165094435170x=function(e,i){t.prototype.x3803532165094435170x.call(this,e,i);var n=this.getContentView();n&&n.setSize(e,i),this.setTitleStyle(),this.setContentStyle()},r.x2370511840089065695x=function(){var t=this.getContentView();return t?t.getWidth():0},r.x2242586287672954044x=function(){var t=this.getContentView();return t?t.getHeight():0},r.x3043966882343981070x=function(t){this.mStyle.copy(t,!1),t&&(this.setFrameStyle(t.getDictionaryWithKeyStringPath("frame.textures.texture:frame")),this.setTitleStyle(),this.setContentStyle())},r.x4015185806143002421x=function(t){this.mPanelContentView.addControlListenerToHierarchy(t)},r.x4257407987153827499x=function(){this.updateSize()},r.x687444878156563588x=function(){return n.x2939747116146489380x},r.x2607134971181910524x=function(e){return e==n.x2939747116146489380x||t.prototype.x2607134971181910524x.call(this,e)},i(n,null,[{key:"x2939747116146489380x",get:function(){return 917515804}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x832175137056958511x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3791052768062686699x.ts","./x3693760142138385085x.ts","./x2205868517935256955x.ts","./x702435451033209193x.ts","./x2109210492123306036x.ts","./x3552755872900086406x.ts","./x1046482460489005215x.ts","./x2385793234846142307x.ts","./x1127813857485463346x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x,u,c,l,h,m;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.assertThisInitialized},function(t){r=t.cclegacy},function(t){s=t.x3791052768062686699x},function(t){a=t.x3693760142138385085x},function(t){o=t.x2205868517935256955x},function(t){x=t.x702435451033209193x},function(t){u=t.x2109210492123306036x},function(t){c=t.x3552755872900086406x},function(t){l=t.x1046482460489005215x},function(t){h=t.x2385793234846142307x},function(t){m=t.x1127813857485463346x}],execute:function(){r._RF.push({},"ea4edrRgaZCl7fcADaPjjxJ","x832175137056958511x",void 0),t("x832175137056958511x",function(t){function r(e){var i;return(i=t.call(this,e)||this).mStyle=new a(!0),i.mAutoSize=!0,i.mDecrementButton=new h(e),i.getContentView().addChild(i.mDecrementButton),i.mDecrementButton.addMessageListener(n(i)),i.mIncrementButton=new h(e),i.getContentView().addChild(i.mIncrementButton),i.mIncrementButton.addMessageListener(n(i)),i.mValueSprite=null,i.mPrevValueTextView=null,i.mPrevValueSprite=null,i.mNextValueTextView=null,i.mNextValueSprite=null,i.mValueSpriteTextures=null,i.mDisabledValueSpriteTextures=null,i.mButtonSpacing=0,i.mValue=0,i.mMinValue=0,i.mMaxValue=0,i.mStepValue=0,i.mAllowWrapping=!1,i.mValueLabels="",i.mValuePrefix="",i.mValueSuffix="",i.setAcceptsInputFocus(!0),i}e(r,t);var s=r.prototype;return s.getStepperValue=function(){return this.mValue},s.setStepperValue=function(t){this.setStepperValueInternal(t,!1,!1)},s.getMinStepperValue=function(){return this.mMinValue},s.setMinStepperValue=function(t){this.mMinValue=t,this.setStepperValueInternal(this.mValue,!1,!0)},s.getMaxStepperValue=function(){return this.mMaxValue},s.setMaxStepperValue=function(t){this.mMaxValue=t,this.setStepperValueInternal(this.mValue,!1,!0)},s.setStepperValueInternal=function(t,e,i){if(t=this.mAllowWrapping?u.loopClampedInt(t,this.mMinValue,this.mMaxValue):u.clampInt(t,this.mMinValue,this.mMaxValue),i||this.mValue!=t){this.mValue=t,this.mAllowWrapping||(this.mDecrementButton.setIsEnabled(this.mValue>this.mMinValue),this.mIncrementButton.setIsEnabled(this.mValue<this.mMaxValue));var n,r=this.mValue-this.mMinValue;this.mValue>this.mMinValue&&(this.mValue,this.mMaxValue),this.mValue>=this.mMinValue&&this.mValue<this.mMaxValue||this.mDisabledValueSpriteTextures&&this.mDisabledValueSpriteTextures.getNumValues(),this.mValueLabels&&""!=this.mValueLabels?this.setText(u.concatStrings(this.mValuePrefix,u.concatStrings(x.stringListItemAtIndex(this.mValueLabels,r),this.mValueSuffix))):(this.setText(u.concatStrings(this.mValuePrefix,u.concatStrings(x.stringFromInt(this.mValue,0,!1),this.mValueSuffix))),this.mPrevValueTextView&&(r>0?this.mPrevValueTextView.setText(u.concatStrings(this.mValuePrefix,u.concatStrings(x.stringFromInt(this.mValue-1,0,!1),this.mValueSuffix))):this.mPrevValueTextView.setText("")),this.mNextValueTextView&&(this.mDisabledValueSpriteTextures&&r<this.mDisabledValueSpriteTextures.getNumValues()-1?this.mNextValueTextView.setText(u.concatStrings(this.mValuePrefix,u.concatStrings(x.stringFromInt(this.mValue+1,0,!1),this.mValueSuffix))):this.mNextValueTextView.setText(""))),this.mValueSprite&&(n=this.mValueSpriteTextures.getDictionaryAtIndex(r).getStringValueAtIndex(0),this.mValueSprite.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(n)));var s=this.mValueSprite?.8*this.mValueSprite.getWidth():0,a=this.mValueSprite?.8*this.mValueSprite.getHeight():0;this.mPrevValueSprite&&(n=this.mValue>this.mMinValue&&this.mValue<=this.mMaxValue?this.mValueSpriteTextures.getDictionaryAtIndex(r-1).getStringValueAtIndex(0):r>0?this.mDisabledValueSpriteTextures.getDictionaryAtIndex(r-1).getStringValueAtIndex(0):"",this.mPrevValueSprite.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(n)),this.mPrevValueSprite.setSize(s,a)),this.mNextValueSprite&&(n=this.mValue>=this.mMinValue&&this.mValue<this.mMaxValue?this.mValueSpriteTextures.getDictionaryAtIndex(r+1).getStringValueAtIndex(0):r<this.mDisabledValueSpriteTextures.getNumValues()-1?this.mDisabledValueSpriteTextures.getDictionaryAtIndex(r+1).getStringValueAtIndex(0):"",this.mNextValueSprite.setSpriteFrame(this.getAppSupportFactory().getResourceMgr().getNativeSpriteFrameResource(n)),this.mNextValueSprite.setSize(s,a)),e&&this.dispatchMessage(o.x3749940443783434633x,this,null)}},s.x962108131907433511x=function(e){if(t.prototype.x962108131907433511x.call(this,e),this.setName("_BPSUIStepper"),e){this.mMinValue=e.getIntValue(x.stringToValueKey("minValue")),this.mMaxValue=e.getIntValue(x.stringToValueKey("maxValue")),this.mStepValue=e.getIntValue(x.stringToValueKey("stepValue")),this.mAllowWrapping=e.getBoolValue(x.stringToValueKey("allowWrapping")),this.mValueLabels=e.getStringValue(x.stringToValueKey("valueLabels")),this.mValuePrefix=e.getStringValue(x.stringToValueKey("valuePrefix")),this.mValueSuffix=e.getStringValue(x.stringToValueKey("valueSuffix"));var i=e.getDictionaryWithKeyStringPath("valueTextures");this.mValueSpriteTextures=i?i.x3395266717842453812x():null;var n=e.getDictionaryWithKeyStringPath("disabledValueTextures");this.mDisabledValueSpriteTextures=n?n.x3395266717842453812x():null;var r=e.getDictionary(x.stringToValueKey("style"));this.setStyle(r),this.mDecrementButton.setName("decrement"),this.mDecrementButton.setButtonText(e.getStringValueWithDefault(x.stringToValueKey("decrementButtonText"),"-"),""),this.mIncrementButton.setName("increment"),this.mIncrementButton.setButtonText(e.getStringValueWithDefault(x.stringToValueKey("incrementButtonText"),"+"),"");var s=e.getIntValue(x.stringToValueKey("value"));this.mValue=~s,this.setStepperValueInternal(s,!0,!1),this.updateLayout(!0)}},s.x1721113016797186854x=function(){null!==this.mStyle&&(this.mStyle.destroy(),this.mStyle=null),null!==this.mValueSpriteTextures&&(this.mValueSpriteTextures.destroy(),this.mValueSpriteTextures=null),null!==this.mDisabledValueSpriteTextures&&(this.mDisabledValueSpriteTextures.destroy(),this.mDisabledValueSpriteTextures=null),t.prototype.x1721113016797186854x.call(this)},s.x1829116493635155500x=function(t){t?this.setInputFocusStyle(this.mStyle.getDictionaryWithKeyStringPath("inputFocus.textures.texture:inputFocus")):this.setInputFocusStyle(null)},s.x1009804471225371144x=function(t){switch(t){case m.x4535933922886202808x:case m.x1315328804317542264x:return!0;default:return!1}},s.x3123597400434174255x=function(t){switch(t){case m.x4535933922886202808x:this.setStepperValueInternal(this.mValue-this.mStepValue,!0,!1);break;case m.x1315328804317542264x:this.setStepperValueInternal(this.mValue+this.mStepValue,!0,!1)}},s.x3043966882343981070x=function(t){if(this.mStyle.copy(t,!1),t){this.mAutoSize=t.getBoolValueWithDefault(x.stringToValueKey("autoSize"),!1),this.mDecrementButton.setStyle(t.getDictionary(x.stringToValueKey("button:buttons"))),this.mIncrementButton.setStyle(t.getDictionary(x.stringToValueKey("button:buttons"))),this.mButtonSpacing=t.getFloatValueWithKeyStringPath("buttons.spacing");var e=t.getDictionaryWithKeyStringPath("valueText.font:font");e||(e=t.getDictionary(x.stringToValueKey("font:value"))),this.setTextStyle(e),this.setTextTransform(t.getDictionaryWithKeyStringPath("valueText.transform"));var i=t.getDictionaryWithKeyString("valueSprite");i&&i.getBoolValueWithKeyStringPath("enabled")&&(this.mValueSprite||(this.mValueSprite=new l(this.getAppSupportFactory()),this.mValueSprite.initWithParams(i),this.getContentView().addChild(this.mValueSprite)));var n=t.getDictionaryWithKeyString("prevValueText");n&&n.getBoolValueWithKeyStringPath("enabled")&&(this.mPrevValueTextView||(this.mPrevValueTextView=new c(this.getAppSupportFactory()),this.mPrevValueTextView.initWithParams(n),this.getContentView().addChild(this.mPrevValueTextView))),(i=t.getDictionaryWithKeyString("prevValueSprite"))&&i.getBoolValueWithKeyStringPath("enabled")&&(this.mPrevValueSprite||(this.mPrevValueSprite=new l(this.getAppSupportFactory()),this.mPrevValueSprite.initWithParams(i),this.getContentView().addChild(this.mPrevValueSprite))),(n=t.getDictionaryWithKeyString("nextValueText"))&&n.getBoolValueWithKeyStringPath("enabled")&&(this.mNextValueTextView||(this.mNextValueTextView=new c(this.getAppSupportFactory()),this.mNextValueTextView.initWithParams(n),this.getContentView().addChild(this.mNextValueTextView))),(i=t.getDictionaryWithKeyString("nextValueSprite"))&&i.getBoolValueWithKeyStringPath("enabled")&&(this.mNextValueSprite||(this.mNextValueSprite=new l(this.getAppSupportFactory()),this.mNextValueSprite.initWithParams(i),this.getContentView().addChild(this.mNextValueSprite))),this.updateLayout(!0)}},s.x4015185806143002421x=function(t){this.addMessageListener(t)},s.x4257407987153827499x=function(){if(t.prototype.x4257407987153827499x.call(this),this.mDecrementButton){var e=.5*this.mButtonSpacing;this.mButtonSpacing>0?(this.mDecrementButton.setAnchor(.5,.5),this.mDecrementButton.setX(-e),this.mIncrementButton.setAnchor(.5,.5),this.mIncrementButton.setX(e)):this.mButtonSpacing<0?(e=-e,this.mDecrementButton.setAnchor(1,.5),this.mDecrementButton.setX(-e),this.mIncrementButton.setAnchor(0,.5),this.mIncrementButton.setX(e)):(this.mDecrementButton.setAnchor(0,.5),this.mDecrementButton.setX(this.getLeft()-this.getX()),this.mIncrementButton.setAnchor(1,.5),this.mIncrementButton.setX(this.getRight()-this.getX()))}this.mAutoSize&&this.setSizeToInternalChildrenBounds(0,0)},s.x687444878156563588x=function(){return r.x569523380061163539x},s.x2607134971181910524x=function(e){return e==r.x569523380061163539x||t.prototype.x2607134971181910524x.call(this,e)},s.x601562840631873202x=function(t,e,i){t==h.x1220349481777468123x&&(e==this.mDecrementButton?this.setStepperValueInternal(this.mValue-this.mStepValue,!0,!1):e==this.mIncrementButton&&this.setStepperValueInternal(this.mValue+this.mStepValue,!0,!1))},i(r,null,[{key:"x569523380061163539x",get:function(){return 1508367305}}]),r}(s)),r._RF.pop()}}})),System.register("chunks:///_virtual/x2090126800364774870x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3791052768062686699x.ts","./x3693760142138385085x.ts","./x1232577566642415821x.ts","./x702435451033209193x.ts","./x1442954324271535409x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x3791052768062686699x},function(t){s=t.x3693760142138385085x},function(t){a=t.x1232577566642415821x},function(t){o=t.x702435451033209193x},function(t){x=t.x1442954324271535409x}],execute:function(){n._RF.push({},"22e1dRuRUZBcaWj/rx52Ghp","x2090126800364774870x",void 0),t("x2090126800364774870x",function(t){function n(e){var i;return(i=t.call(this,e)||this).setIsPointerControl(!0),i.mStyle=new s(!0),i.mInputText="",i.mIsSecure=!1,i.mMinTextLength=0,i.mMaxTextLength=o.x4486032239274713138x,i.mInputCursorBlinkDelayMSEC=500,i.mInputCursorBlinkTimerMSEC=0,i.mIsInputCursorBlinkOn=!1,i.setName("_BPSUITextInput"),i}e(n,t);var u=n.prototype;return u.getInputText=function(){return this.mInputText},u.setInputText=function(t){this.mInputText=t,this.updateActualDisplayText()},u.isInputTextTooShort=function(){return this.mInputText.length<this.mMinTextLength},u.getMinTextLength=function(){return this.mMinTextLength},u.getMaxTextLength=function(){return this.mMaxTextLength},u.updateActualDisplayText=function(){var t="";if(this.mIsSecure)for(var e=this.mInputText.length;e-- >0;)t+="*";else t=this.mInputText;this.mIsInputCursorBlinkOn&&(t+="|"),this.setText(t);var i=this.getWidth()-this.mStyle.getFloatValueWithKeyStringPath("maxVisibleTextWidthOffset");if(i>0&&this.getTextWidth()>i)for(var n=t.length,r=0;r<n&&(this.setText(o.substringFromIndex(t,r)),!(this.getTextWidth()<=i));r++);},u.x1195285196638664148x=function(t,e){if(t===a.x3365840888754725140x){if(!this.mInputText||""==this.mInputText)return;this.setInputText(o.substringToIndex(this.mInputText,this.mInputText.length-1))}else{if(!e||""==e||this.mInputText.length>=this.mMaxTextLength)return;this.setInputText(this.mInputText+e)}},u.x962108131907433511x=function(e){t.prototype.x962108131907433511x.call(this,e),this.setName("_BPSUITextInput"),e&&(this.setName(e.getStringValueWithKeyStringPath("name")),this.mIsSecure=e.getBoolValueWithKeyStringPath("isSecure"),this.mMinTextLength=e.getIntValueWithKeyStringPath("minLength"),this.mMaxTextLength=e.getIntValueWithDefault(o.stringToValueKey("maxLength"),o.x4486032239274713138x))},u.x1721113016797186854x=function(){null!==this.mStyle&&(this.mStyle.destroy(),this.mStyle=null),t.prototype.x1721113016797186854x.call(this)},u.x2087238289079137286x=function(t){},u.x1829116493635155500x=function(t){this.mInputCursorBlinkTimerMSEC=this.mInputCursorBlinkDelayMSEC,this.mIsInputCursorBlinkOn=t,this.updateActualDisplayText()},u.x108367365699833894x=function(t,e){switch(e){case r.x2770716950701397870x:case r.x1104436723596089052x:x.setCursorToButton();break;default:x.setCursorToNormal()}},u.x3043966882343981070x=function(t){this.mStyle.copy(t,!1),t&&(this.setFrameStyle(t.getDictionaryWithKeyStringPath("frame.textures.texture:normal")),this.setTextStyle(t.getDictionaryWithKeyStringPath("text.fonts.font:normal")),this.setTextTransform(t.getDictionaryWithKeyStringPath("text.transform")),this.setInputText(this.mInputText))},u.x4015185806143002421x=function(t){this.addMessageListener(t)},u.x2451360937245666119x=function(e){t.prototype.x2451360937245666119x.call(this,e),this.getIsInputFocus()&&(this.mInputCursorBlinkTimerMSEC-=e,this.mInputCursorBlinkTimerMSEC<=0&&(this.mIsInputCursorBlinkOn=!this.mIsInputCursorBlinkOn,this.mInputCursorBlinkTimerMSEC+=this.mInputCursorBlinkDelayMSEC),this.updateActualDisplayText())},u.x687444878156563588x=function(){return n.x2908180037523963383x},u.x2607134971181910524x=function(e){return e==n.x2908180037523963383x||t.prototype.x2607134971181910524x.call(this,e)},i(n,null,[{key:"x2908180037523963383x",get:function(){return 729491605}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x2109210492123306036x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x702435451033209193x.ts","./x1442954324271535409x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x702435451033209193x},function(t){r=t.x1442954324271535409x}],execute:function(){i._RF.push({},"95d2ashRMhKmLHRbW6EYzmS","x2109210492123306036x",void 0);var s=t("x2109210492123306036x",function(){function t(){}return t.doStaticInit=function(){if(!t.sDidStaticInit){switch(t.sBuildInfoString="",t.sApplicationOrigin="",cc.sys.isMobile?t.sPlatformId=t.x839382963525939747x:t.sPlatformId=t.x3522237276800314678x,t.sPlatformId){case t.x3106990747405563206x:case t.x4148812718178129201x:t.sBuildInfoString+="-OSX-",t.sBuildInfoString+=t.getIsBuildReleaseVersion()?"R":"D";break;case t.x2462815491544179086x:t.sBuildInfoString+="-iOS-",t.sBuildInfoString+=t.getIsBuildReleaseVersion()?"R":"D";break;case t.x4286770133870503715x:t.sBuildInfoString+="-tvOS-",t.sBuildInfoString+=t.getIsBuildReleaseVersion()?"R":"D";break;case t.x2027814489698875452x:t.sBuildInfoString+="-",t.sBuildInfoString+="UD",t.sBuildInfoString+="-",t.sBuildInfoString+=t.getIsBuildReleaseVersion()?"R":"D";break;case t.x1257510844084992156x:t.sBuildInfoString+="-",t.sBuildInfoString+="UM",t.sBuildInfoString+="-",t.sBuildInfoString+=t.getIsBuildReleaseVersion()?"R":"D";break;case t.x3522237276800314678x:case t.x839382963525939747x:var e=window.location.href;switch(t.sApplicationOrigin=e.substring(e.indexOf("//")+2),t.sBuildInfoString+="-"+r.getCBID(),t.sPlatformId){case t.x3522237276800314678x:t.sBuildInfoString+="-H5D";break;case t.x839382963525939747x:t.sBuildInfoString+="-H5M"}}t.sApplicationOrigin=n.x1615343114719087054x(t.sApplicationOrigin,0),t.sTimeAtInitMSEC=t.getTimeSinceEpochMSEC(),t.sDidStaticInit=!0}},t.doStaticDestroy=function(){t.sDidStaticInit&&(t.sDidStaticInit=!1)},t.getPlatformId=function(){return t.sPlatformId},t.getPlatformName=function(){switch(t.sPlatformId){case t.x3106990747405563206x:return t.x1297919936746679008x;case t.x4148812718178129201x:return t.x3960283075620825164x;case t.x2462815491544179086x:return t.x451133298639450661x;case t.x4286770133870503715x:return t.x3858478892835548532x;case t.x2027814489698875452x:return t.x474179510683230271x;case t.x1257510844084992156x:return t.x3693571549333025375x;case t.x3522237276800314678x:return t.x4346537797222544253x;case t.x839382963525939747x:return t.x2179294447905952364x;default:return"UNKNOWN"}},t.isPlatformInList=function(t,e,i){t=n.stringToLowerCase(t);for(var r=n.numItemsInStringList(e),s=0;s<r;s++){var a=n.stringToLowerCase(n.stringListItemAtIndex(e,s));if(i){if(n.firstIndexInString(t,a)>=0)return!0}else if(t==a)return!0}return!1},t.isCurrentPlatformInList=function(e,i){return t.isPlatformInList(t.getPlatformName(),e,i)},t.isPlatformOSXEditor=function(){return t.sPlatformId===t.x3106990747405563206x},t.isPlatformOSX=function(){switch(t.sPlatformId){case t.x3106990747405563206x:case t.x4148812718178129201x:return!0;default:return!1}},t.isPlatformTouchBased=function(){switch(t.sPlatformId){case t.x3522237276800314678x:return!1;case t.x839382963525939747x:return!0;default:return!1}},t.isDeviceIPhone=function(){return!1},t.isDeviceIPad=function(){return!1},t.getApplicationOrigin=function(){return n.x1012796168335938419x(t.sApplicationOrigin)},t.getApplicationBaseOrigin=function(){return n.x1012796168335938419x(t.sApplicationBaseOrigin)},t.setApplicationBaseOrigin=function(e){t.sApplicationBaseOrigin=n.x1615343114719087054x(e,0)},t.getBuildNumber=function(){return t.sBuildNumber},t.setBuildNumber=function(e){t.sBuildNumber=e},t.getBuildInfoString=function(){return t.concatStrings(t.sBuildNumber,t.sBuildInfoString)},t.getIsBuildReleaseVersion=function(){return!0},t.getSystemOS=function(){return cc.sys.os},t.getTimeSinceInitMSEC=function(){return~~(t.getTimeSinceEpochMSEC()-t.sTimeAtInitMSEC)},t.getTimeSinceEpochMSEC=function(){return Date.now()},t.concatStrings=function(t,e){return t+e},t.idForValueKey=function(t){return n.stringToHash32(t)},t.x3373044826952399113x=function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n]==e)return n;return-1},t.x2381306814353716534x=function(e,i){return t.x3373044826952399113x(e,i)>=0},t.x2151556867996628588x=function(t,e){for(var i=t.length,n=0;n<i;n++)if(null==t[n])return t[n]=e,n;return t.push(e),i},t.x2485167842319937795x=function(t,e){for(var i=t.length,n=0;n<i;n++)t[n]==e&&(t[n]=null)},t.x4293388250713259730x=function(e,i){var n=t.x3373044826952399113x(e,i);n>=0&&e.splice(n,1)},t.minInt=function(t,e){return t<e?t:e},t.maxInt=function(t,e){return t>e?t:e},t.clampInt=function(t,e,i){return e<i?t<e?e:t>i?i:t:t<i?i:t>e?e:t},t.loopInt=function(t,e,i){if(e==i)return e;var n,r;e<i?(n=e,r=i):(n=i,r=e);var s,a=r-n+1;return t<n?r-((s=r-t)-s/a*a):t>r?n+((s=t-n)-s/a*a):t},t.loopClampedInt=function(t,e,i){return e==i?e:(e<i?(n=e,r=i):(n=i,r=e),t<n?r:t>r?n:t);var n,r},t.isEven=function(t){return t%2==0},t.isOdd=function(t){return t%2==1},e(t,null,[{key:"x3106990747405563206x",get:function(){return 1}},{key:"x4148812718178129201x",get:function(){return 2}},{key:"x2462815491544179086x",get:function(){return 3}},{key:"x4286770133870503715x",get:function(){return 4}},{key:"x2027814489698875452x",get:function(){return 5}},{key:"x1257510844084992156x",get:function(){return 6}},{key:"x3522237276800314678x",get:function(){return 7}},{key:"x839382963525939747x",get:function(){return 8}},{key:"x1297919936746679008x",get:function(){return"OSXEditor"}},{key:"x3960283075620825164x",get:function(){return"OSXGame"}},{key:"x451133298639450661x",get:function(){return"iOS"}},{key:"x3858478892835548532x",get:function(){return"tvOS"}},{key:"x474179510683230271x",get:function(){return"UnityDesktop"}},{key:"x3693571549333025375x",get:function(){return"UnityMobile"}},{key:"x4346537797222544253x",get:function(){return"HTML5Desktop"}},{key:"x2179294447905952364x",get:function(){return"HTML5Mobile"}}]),t}());s.sDidStaticInit=!1,s.sPlatformId=0,s.sApplicationOrigin="LJDQTDRLRHTLYHMF",s.sApplicationBaseOrigin="SAFRFETMTIFMAJYF",s.sTimeAtInitMSEC=0,s.sBuildNumber="0.01",s.sBuildInfoString="",i._RF.pop()}}})),System.register("chunks:///_virtual/x1550596296120876899x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x936765086372057061x.ts","./x1442954324271535409x.ts","./x702435451033209193x.ts","./x2109210492123306036x.ts","./x2818285275314045168x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x936765086372057061x},function(t){r=t.x1442954324271535409x},function(t){s=t.x702435451033209193x},function(t){a=t.x2109210492123306036x},function(t){o=t.x2818285275314045168x}],execute:function(){i._RF.push({},"188f3rJHtRAk6X0xGgmp7Ws","x1550596296120876899x",void 0),t("x1550596296120876899x",function(t){function i(e,i){var n;if((n=t.call(this)||this).mDidInit=!1,n.mAppSupportFactory=i,n.mNativeView=null,n.mX=0,n.mY=0,n.mAnchorX=.5,n.mAnchorY=.5,n.mLocalRect=new o(0,0,0,0),n.mAlpha=1,n.mIsVisible=!0,n.mParent=null,n.mChildren=null,n.mEnableChildrenBaseDepthOffset=!0,n.mEnableChildrenSiblingDepthOffset=!0,n.mIsActive=!0,n.mInternalChildrenContainer=null,e){var s=r.NativeView_create();n.setNativeView(s)}return n.setName("x1550596296120876899x"),n}e(i,t);var n=i.prototype;return n.initWithNativeView=function(t){this.mDidInit||(this.setNativeView(t),this.initWithParams(null))},n.initWithParams=function(t){this.mDidInit||(this.mDidInit=!0,this.x962108131907433511x(t),t&&(this.setStyle(t.getDictionaryWithKeyStringPath("style")),this.setTransformWithParams(t.getDictionaryWithKeyStringPath("transform"))))},n.getAppSupportFactory=function(){var t=this.mAppSupportFactory;if(!t)for(var e=this.mParent;!t&&e;)t=e.getAppSupportFactory(),e=e.getParent();return t},n.getNativeView=function(){return this.mNativeView},n.setNativeView=function(t){this.mNativeView=t},n.getX=function(){return this.mX},n.setX=function(t){this.setPosition(t,this.mY)},n.getY=function(){return this.mY},n.setY=function(t){this.setPosition(this.mX,t)},n.setPosition=function(t,e){this.mX==t&&this.mY==e||(this.mX=t,this.mY=e,this.setNativePosition())},n.getWidth=function(){return this.mLocalRect.mWidth},n.setWidth=function(t){this.setSize(t,this.mLocalRect.mHeight)},n.getHeight=function(){return this.mLocalRect.mHeight},n.setHeight=function(t){this.setSize(this.mLocalRect.mWidth,t)},n.setSize=function(t,e){this.mLocalRect.mWidth==t&&this.mLocalRect.mHeight==e||(this.mLocalRect.mWidth=t,this.mLocalRect.mHeight=e,this.mLocalRect.mX=-t*this.mAnchorX,this.mLocalRect.mY=-e*this.mAnchorY,this.setNativePosition(),this.mInternalChildrenContainer&&this.mInternalChildrenContainer.setSize(t,e),this.setChildrenNativePosition(),this.x3803532165094435170x(t,e),this.mParent&&this.mParent.childrenLayoutChanged())},n.getAutoWidth=function(){return this.x2370511840089065695x()},n.getAutoHeight=function(){return this.x2242586287672954044x()},n.getAnchorX=function(){return this.mAnchorX},n.setAnchorX=function(t){this.setAnchor(t,this.mAnchorY)},n.getAnchorY=function(){return this.mAnchorY},n.setAnchorY=function(t){this.setAnchor(this.mAnchorX,t)},n.setAnchor=function(t,e){this.mAnchorX==t&&this.mAnchorY==e||(this.mAnchorX=t,this.mAnchorY=e,this.mLocalRect.mX=-this.mLocalRect.mWidth*this.mAnchorX,this.mLocalRect.mY=-this.mLocalRect.mHeight*this.mAnchorY,this.setNativePosition(),this.setChildrenNativePosition())},n.getLeft=function(){return this.mX+this.mLocalRect.getLeft()},n.setLeft=function(t){this.setPosition(this.mX+(t-this.getLeft()),this.mY)},n.getCenterX=function(){return this.mX+this.mLocalRect.getCenterX()},n.setCenterX=function(t){this.setPosition(this.mX+(t-this.getCenterX()),this.mY)},n.getRight=function(){return this.mX+this.mLocalRect.getRight()},n.setRight=function(t){this.setPosition(this.mX+(t-this.getRight()),this.mY)},n.getBottom=function(){return this.mY+this.mLocalRect.getBottom()},n.setBottom=function(t){this.setPosition(this.mX,this.mY+(t-this.getBottom()))},n.getCenterY=function(){return this.mY+this.mLocalRect.getCenterY()},n.setCenterY=function(t){this.setPosition(this.mX,this.mY+(t-this.getCenterY()))},n.getTop=function(){return this.mY+this.mLocalRect.getTop()},n.setTop=function(t){this.setPosition(this.mX,this.mY+(t-this.getTop()))},n.getWorldX=function(){for(var t=this.mX,e=this.mParent;e;)t+=e.mX-e.mLocalRect.mWidth*(-.5+e.mAnchorX),e=e.mParent;return t},n.getWorldY=function(){for(var t=this.mY,e=this.mParent;e;)t+=e.mY-e.mLocalRect.mHeight*(-.5+e.mAnchorY),e=e.mParent;return t},n.convertWorldXToLocal=function(t){return t-this.getWorldX()},n.convertWorldYToLocal=function(t){return t-this.getWorldY()},n.isWorldSpacePointInside=function(t,e){var i=this.convertWorldXToLocal(t),n=this.convertWorldYToLocal(e);return this.mLocalRect.isPointInside(i,n)},n.setTransformWithParams=function(t){if(t){var e=t.getFloatValueWithDefault(s.stringToValueKey("width"),this.mLocalRect.mWidth);e<0&&(e=this.x2370511840089065695x());var i=t.getFloatValueWithDefault(s.stringToValueKey("height"),this.mLocalRect.mHeight);i<0&&(i=this.x2242586287672954044x()),this.setSize(e,i),this.setAnchor(t.getFloatValueWithDefault(s.stringToValueKey("anchorX"),this.mAnchorX),t.getFloatValueWithDefault(s.stringToValueKey("anchorY"),this.mAnchorY));var n=t.getFloatValueWithDefault(s.stringToValueKey("x"),this.mX),r=t.getFloatValueWithDefault(s.stringToValueKey("y"),this.mY);if(this.mParent){var a,o=this.mParent.mLocalRect;(a=t.getFloatValueWithDefault(s.stringToValueKey("parentBoundsAlignX"),-1))>=0&&(n+=o.getLeft()+a*o.mWidth),(a=t.getFloatValueWithDefault(s.stringToValueKey("parentBoundsAlignY"),-1))>=0&&(r+=o.getBottom()+a*o.mHeight)}this.setPosition(n,r)}},n.getAlpha=function(){return this.mAlpha},n.setAlpha=function(t){this.mAlpha!=t&&(this.mAlpha=t,this.x3417002216668774979x(t))},n.setStyle=function(t){t&&(this.x3043966882343981070x(t),this.setSize(t.getFloatValueWithDefault(s.stringToValueKey("width"),this.mLocalRect.mWidth),t.getFloatValueWithDefault(s.stringToValueKey("height"),this.mLocalRect.mHeight)))},n.setStyleWithName=function(t){this.setStyle(this.getAppSupportFactory().getStyle(t))},n.getIsVisible=function(){return this.mIsVisible},n.setIsVisible=function(t){this.mIsVisible!=t&&(this.mIsVisible=t,r.NativeView_setIsVisible(this.mNativeView,t),this.mParent&&this.mParent.childrenLayoutChanged())},n.getParent=function(){return this.mParent},n.removeFromParent=function(){this.mParent&&(this.retain(),this.mParent.removeChild(this),this.mParent=null,this.release())},n.getRootView=function(){for(var t=this;t.mParent;)t=t.mParent;return t},n.getNumChildren=function(){return this.mChildren?this.mChildren.length:0},n.getNumVisibleChildren=function(){if(!this.mChildren)return 0;for(var t=0,e=this._getNumChildren(),i=0;i<e;i++)this._getChildAtIndex(i).getIsVisible()&&t++;return t},n.getNumExternalChildren=function(){var t=this.getNumChildren();return this.mInternalChildrenContainer&&t--,t},n.getNumVisibleExternalChildren=function(){if(!this.mChildren)return 0;for(var t=0,e=this._getNumChildren(),i=0;i<e;i++){var n=this._getChildAtIndex(i);n.getIsVisible()&&n!=this.mInternalChildrenContainer&&t++}return t},n.getChildAtIndex=function(t){return t<0||t>=this.getNumChildren()?null:this.mChildren?this._getChildAtIndex(t):null},n.getChildNamed=function(t){if(!this.mChildren)return null;for(var e=this._getNumChildren(),i=0;i<e;i++){var n=this._getChildAtIndex(i);if(n.getName()==t)return n}return null},n.getDescendantNamed=function(t){var e=this.getChildNamed(t);if(!e&&this.mChildren)for(var i=this._getNumChildren(),n=0;n<i;n++)if(e=this._getChildAtIndex(n).getDescendantNamed(t))return e;return e},n.addChild=function(t){t&&t.getParent()!=this&&(this.mChildren||(this.mChildren=new Array),t.retain(),t.removeFromParent(),t.mParent=this,this.mChildren.push(t),r.NativeView_addChild(this.mNativeView,t.getNativeView()),this.x3018607902619851186x(),t.updateViewSize(),t.setNativePosition())},n.addAsChildToNativeParent=function(t){r.NativeView_addChild(t,this.getNativeView()),this.updateViewSize(),this.setNativePosition()},n.removeChild=function(t){t&&t.getParent()==this&&this.mChildren&&(a.x4293388250713259730x(this.mChildren,t),r.NativeView_removeChild(this.mNativeView,t.getNativeView()),this.x3018607902619851186x(),t.mParent=null,t.setNativePosition(),t.release())},n.removeChildNamed=function(t){this.removeChild(this.getChildNamed(t))},n.removeDescendantNamed=function(t){var e=this.getDescendantNamed(t);e&&e.removeFromParent()},n.removeAllChildren=function(t){if(this.mChildren){var e=null,i=this._getNumChildren(),n=0;for(n=0;n<i;n++)(e=this._getChildAtIndex(n)).mParent=null,e.setNativePosition();for(r.NativeView_removeAllChildren(this.mNativeView),n=0;n<i;n++)(e=this._getChildAtIndex(n)).release();this.mChildren.length=0,!t&&this.mInternalChildrenContainer&&this.addChild(this.mInternalChildrenContainer),this.x3018607902619851186x()}},n.setChildrenAnchorX=function(t){if(this.mChildren)for(var e=this._getNumChildren(),i=0;i<e;i++){var n=this._getChildAtIndex(i);n!=this.mInternalChildrenContainer&&n.setAnchorX(t)}},n.setChildrenAnchorY=function(t){if(this.mChildren)for(var e=this._getNumChildren(),i=0;i<e;i++){var n=this._getChildAtIndex(i);n!=this.mInternalChildrenContainer&&n.setAnchorY(t)}},n.distributeExternalChildrenHorizontally=function(t){if(this.mChildren){var e,i=0,n=this._getNumChildren(),r=null;if(t>0)for(e=-(this.getNumVisibleExternalChildren()-1)*t*.5,i=0;i<n;i++)(r=this._getChildAtIndex(i))!=this.mInternalChildrenContainer&&r.getIsVisible()&&(r.setX(e),e+=t);else{for(e=0,t=-t,i=0;i<n;i++)(r=this._getChildAtIndex(i))!=this.mInternalChildrenContainer&&r.getIsVisible()&&(r.setLeft(e),e=r.getRight(),i<n-1&&(e+=t));var s=.5*e;for(i=0;i<n;i++)(r=this._getChildAtIndex(i)).setX(r.getX()-s)}}},n.distributeExternalChildrenVertically=function(t){if(this.mChildren){var e,i=0,n=this._getNumChildren(),r=null;if(t>0)for(e=(this.getNumVisibleExternalChildren()-1)*t*.5,i=0;i<n;i++)(r=this._getChildAtIndex(i))!=this.mInternalChildrenContainer&&r.getIsVisible()&&(r.setY(e),e-=t);else{for(e=0,t=-t,i=0;i<n;i++)(r=this._getChildAtIndex(i))!=this.mInternalChildrenContainer&&r.getIsVisible()&&(r.setTop(e),e=r.getBottom(),i<n-1&&(e-=t));var s=.5*e;for(i=0;i<n;i++)(r=this._getChildAtIndex(i)).setY(r.getY()-s)}}},n.setWidthToChildrenBounds=function(t){this.setWidth(this.getChildrenWidth()+2*t)},n.setHeightToChildrenBounds=function(t){this.setHeight(this.getChildrenHeight()+2*t)},n.setSizeToChildrenBounds=function(t,e){this.setWidthToChildrenBounds(t),this.setHeightToChildrenBounds(e)},n.getChildrenWidth=function(){if(this.mChildren&&0!=this.getNumVisibleExternalChildren()){for(var t,e=1e6,i=-1e6,n=this._getNumChildren(),r=0;r<n;r++){var s=this._getChildAtIndex(r);s!=this.mInternalChildrenContainer&&s.getIsVisible()&&((t=s.getLeft())<e&&(e=t),(t=s.getRight())>i&&(i=t))}return i-e}return 0},n.getChildrenHeight=function(){if(this.mChildren&&0!=this.getNumVisibleExternalChildren()){for(var t,e=1e6,i=-1e6,n=this._getNumChildren(),r=0;r<n;r++){var s=this._getChildAtIndex(r);s!=this.mInternalChildrenContainer&&s.getIsVisible()&&((t=s.getBottom())<e&&(e=t),(t=s.getTop())>i&&(i=t))}return i-e}return 0},n.childrenLayoutChanged=function(){this.x3018607902619851186x()},n.hasInternalChildren=function(){return this.mInternalChildrenContainer&&this.mInternalChildrenContainer.getNumChildren()>0},n.getMaxChildDepthOffset=function(){return 0},n.setDepthOffset=function(t){},n.setEnableChildrenBaseDepthOffset=function(t){this.mEnableChildrenBaseDepthOffset=t},n.setEnableChildrenSiblingDepthOffset=function(t){this.mEnableChildrenSiblingDepthOffset=t},n.updateLayout=function(t){if(t&&this.mChildren)for(var e=this._getNumChildren(),i=0;i<e;i++)this._getChildAtIndex(i).updateLayout(!0);this.x4257407987153827499x()},n.getIsActive=function(){return this.mIsActive},n.setIsActive=function(t){this.mIsActive!=t&&(this.mIsActive=t,this.mParent&&this.mParent.childrenLayoutChanged())},n.addControlListenerToHierarchy=function(t){if(this.x4015185806143002421x(t),this.mChildren)for(var e=this._getNumChildren(),i=0;i<e;i++){var n=this._getChildAtIndex(i);n!=this.mInternalChildrenContainer&&n.addControlListenerToHierarchy(t)}},n.handleMessage=function(t,e,i,n){if(this.x601562840631873202x(t,e,i),n&&this.mChildren)for(var r=this._getNumChildren(),s=0;s<r;s++)this._getChildAtIndex(s).handleMessage(t,e,i,!0)},n.processTimeMSEC=function(t){if(this.mIsActive&&(this.x2451360937245666119x(t),null!=this.mChildren))for(var e=this._getNumChildren(),i=0;i<e;i++)this._getChildAtIndex(i).processTimeMSEC(t)},n.getLocalRect=function(){return this.mLocalRect},n.createInternalChildrenContainer=function(){this.mInternalChildrenContainer||(this.mInternalChildrenContainer=new i(!0,this.mAppSupportFactory),this.mInternalChildrenContainer.retain(),this.mInternalChildrenContainer.setName("internalChildrenContainer"),this.mInternalChildrenContainer.setEnableChildrenBaseDepthOffset(!1),this.addChild(this.mInternalChildrenContainer))},n.getInternalChildrenContainer=function(){return this.mInternalChildrenContainer},n.setSizeToInternalChildrenBounds=function(t,e){this.setSize(this.getInternalChildrenWidth()+2*t,this.getInternalChildrenHeight()+2*e);var i=this.getInternalChildrenLeft();this.mLocalRect.mX=i;var n=this.getInternalChildrenBottom();this.mLocalRect.mY=n},n.getInternalChildrenWidth=function(){return this.mInternalChildrenContainer?this.mInternalChildrenContainer.getChildrenWidth():0},n.getInternalChildrenHeight=function(){return this.mInternalChildrenContainer?this.mInternalChildrenContainer.getChildrenHeight():0},n.getInternalChildrenLeft=function(){return this.mInternalChildrenContainer?this.mInternalChildrenContainer.getChildrenLeft():0},n.getInternalChildrenBottom=function(){return this.mInternalChildrenContainer?this.mInternalChildrenContainer.getChildrenBottom():0},n.getChildrenLeft=function(){if(this.mChildren&&0!=this.getNumVisibleExternalChildren()){for(var t,e=1e6,i=this._getNumChildren(),n=0;n<i;n++){var r=this._getChildAtIndex(n);r!=this.mInternalChildrenContainer&&r.getIsVisible()&&(t=r.getLeft())<e&&(e=t)}return e}return 0},n.getChildrenBottom=function(){if(this.mChildren&&0!=this.getNumVisibleExternalChildren()){for(var t,e=1e6,i=this._getNumChildren(),n=0;n<i;n++){var r=this._getChildAtIndex(n);r!=this.mInternalChildrenContainer&&r.getIsVisible()&&(t=r.getBottom())<e&&(e=t)}return e}return 0},n._getNumChildren=function(){return this.mChildren.length},n._getChildAtIndex=function(t){return this.mChildren[t]},n.setNativePosition=function(){var t=this.mX-(this.mAnchorX-.5)*this.mLocalRect.mWidth,e=this.mY-(this.mAnchorY-.5)*this.mLocalRect.mHeight;r.NativeView_setPosition(this.mNativeView,t,e)},n.setChildrenNativePosition=function(){if(this.mChildren)for(var t=this._getNumChildren(),e=0;e<t;e++)this._getChildAtIndex(e).setNativePosition()},n.updateViewSize=function(){if(this.x3803532165094435170x(this.getWidth(),this.getHeight()),this.mChildren)for(var t=this._getNumChildren(),e=0;e<t;e++)this._getChildAtIndex(e).updateViewSize();r.NativeView_updateNativeSize(this.getNativeView())},n.x962108131907433511x=function(t){},n.x3803532165094435170x=function(t,e){},n.x2370511840089065695x=function(){return 0},n.x2242586287672954044x=function(){return 0},n.x3417002216668774979x=function(t){},n.x3043966882343981070x=function(t){},n.x3018607902619851186x=function(){},n.x4257407987153827499x=function(){},n.x4015185806143002421x=function(t){},n.x2451360937245666119x=function(t){},n.x1721113016797186854x=function(){this.removeFromParent(),this.removeAllChildren(!0),null!==this.mChildren&&(this.mChildren=null),r.NativeView_destroy(this.mNativeView,!0),this.mNativeView=null,this.mInternalChildrenContainer&&this.mInternalChildrenContainer.release(),this.mInternalChildrenContainer=null,null!==this.mLocalRect&&(this.mLocalRect=null),t.prototype.x1721113016797186854x.call(this)},n.x3889524915008085990x=function(t){r.NativeView_setName(this.getNativeView(),t)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/main",["./x1819288371416691716x.ts","./x155103638225223703x.ts","./x3728341078103592154x.ts","./x4410614962435777365x.ts","./x3693760142138385085x.ts","./x2467934360613379352x.ts","./x1232577566642415821x.ts","./x3798657797799130679x.ts","./x1930801154962670888x.ts","./x2205868517935256955x.ts","./x3196398007076860870x.ts","./x2695390456455002218x.ts","./x4604961113285727737x.ts","./x4127996380524714105x.ts","./x940197673366484397x.ts","./x3890695507897055596x.ts","./x888205467023047117x.ts","./x228684999913495121x.ts","./x3956209615445122196x.ts","./x4474588899120617551x.ts","./x702435451033209193x.ts","./x2437089924124280920x.ts","./x3037628190612628063x.ts","./x285024029791125910x.ts","./x2891067215419038046x.ts","./x1819685683784665247x.ts","./x3807920460184414210x.ts","./x1165932311161996390x.ts","./x887952276100355392x.ts","./x3346104609488210493x.ts","./x320340878522392644x.ts","./x1457729986902235133x.ts","./x3973692155170160649x.ts","./x1718613705059416825x.ts","./x1235144961025176902x.ts","./x932370022543966049x.ts","./x4377440091201973919x.ts","./x3320707771031547482x.ts","./x2847047702101370365x.ts","./x2135811420390295588x.ts","./x354603830897072747x.ts","./x1990922053088099304x.ts","./x3747634908556257468x.ts","./x3326439281076804031x.ts","./x705059913409563765x.ts","./x935098930897063106x.ts","./x982037128155278742x.ts","./x49008801373907804x.ts","./x3461623316906106937x.ts","./x4346984045395543271x.ts","./x2747170617694901082x.ts","./x1238458550837138019x.ts","./x1898681029348292370x.ts","./x1888856487047269142x.ts","./x4205701266739920358x.ts","./x465198262610160323x.ts","./x3026372372374902841x.ts","./x1479493434950596026x.ts","./x1721469586937880116x.ts","./x3001588770202680173x.ts","./x923301222305930093x.ts","./x4083617637690936339x.ts","./x2575454559594932682x.ts","./x1300708268651209083x.ts","./x3513548718171000876x.ts","./x1119179591842280899x.ts","./x4177071645687641537x.ts","./x84946173450627179x.ts","./x880562797070432433x.ts","./x1734189169196685004x.ts","./x2092587468266470742x.ts","./x3663611298040580465x.ts","./x1493861352095391953x.ts","./x1507132269332393985x.ts","./x2498168056815666929x.ts","./x4480444526479763272x.ts","./x349179295227638153x.ts","./x3482684588425346520x.ts","./x3393034802217169555x.ts","./x92134405204892650x.ts","./x1420616482037214709x.ts","./x2555157633242097915x.ts","./x1784166390312374285x.ts","./x3353362216290930466x.ts","./x798347270567386436x.ts","./x31903653904479621x.ts","./x3339987402386958992x.ts","./x479284151344649910x.ts","./x1442954324271535409x.ts","./x96971828822103706x.ts","./x96643384256507270x.ts","./x997865770037528931x.ts","./x3545226698753814823x.ts","./x3286211270008087752x.ts","./x2344101397586251857x.ts","./x663434875166651381x.ts","./x2435732701735449926x.ts","./x392472850944302700x.ts","./x4037811246765908194x.ts","./x849814992193452328x.ts","./x3002336713477616085x.ts","./x2568125435593650424x.ts","./x2047532040983720855x.ts","./x4364418920359943847x.ts","./x3964654862829340857x.ts","./x3092810123442483381x.ts","./x3640972015535810230x.ts","./x1084482300746541296x.ts","./x2444935425342845025x.ts","./x1824733160648178692x.ts","./x3419518525438048359x.ts","./x3750285720313746912x.ts","./x850700817827885953x.ts","./x3375026250715268596x.ts","./x3666328017471509521x.ts","./x4016911264059163956x.ts","./x4270404662952081505x.ts","./x130488792231225248x.ts","./x2818285275314045168x.ts","./x1413698088565076133x.ts","./x160249411363356178x.ts","./x3552755872900086406x.ts","./x439725023118195804x.ts","./x1975437464451156427x.ts","./x1046482460489005215x.ts","./x2385793234846142307x.ts","./x3791052768062686699x.ts","./x1127813857485463346x.ts","./x295234079426945939x.ts","./x832175137056958511x.ts","./x2090126800364774870x.ts","./x1550596296120876899x.ts","./x936765086372057061x.ts","./x2109210492123306036x.ts","./x2513491171780780505x.ts","./x3347213658198411994x.ts","./x513284873445498594x.ts","./x876730206097101483x.ts","./x4348519963410188051x.ts","./x179266263294073309x.ts","./x1870017049469742020x.ts","./x3336700271828892635x.ts","./x1879755377857057486x.ts","./x1076475369105234232x.ts","./x2559493638996200999x.ts","./x2942546774025373449x.ts","./x2587429396298286948x.ts","./x3312962755128397901x.ts","./x2853229855084766129x.ts","./x3167295016086187989x.ts","./x3199552859489220262x.ts","./x3511163715838271818x.ts","./x1547471133553058676x.ts","./x3626506752150642560x.ts","./x56028271071371983x.ts","./x1050156846452418517x.ts","./x4098094003949072702x.ts","./x4300947096375530332x.ts","./x4560964134034227844x.ts","./x1797660697812370999x.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}})),System.register("chunks:///_virtual/x1165932311161996390x.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d52e2kPOf9NKqZahF+9DJrQ","x1165932311161996390x",void 0),t("x1165932311161996390x",function(){function t(){}var e=t.prototype;return e.destroy=function(){},e.x1724429357674260852x=function(t,e,i,n,r){return r},e.x4274721454799395964x=function(t,e,i,n,r,s,a){return a},t}()),e._RF.pop()}}})),System.register("chunks:///_virtual/x887952276100355392x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x935098930897063106x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x935098930897063106x}],execute:function(){i._RF.push({},"68d136DYV5EB4qEWkaKatt0","x887952276100355392x",void 0),t("x887952276100355392x",function(){function t(t,e,i,r){this.mMatrixMinos=new Array,this.mMatrixMinosBitGrid=new Array,this.mIsDestroyed=!1,this.mPieceData=t,this.mMatrixWidth=e,this.mMatrixHeight=i,this.mMatrixWidthLimit=e,this.mMatrixHeightLimit=i,this.mMatrixVisibleHeight=r;var s=e*i;for(this.mMatrixMinos.length=0;this.mMatrixMinos.length<s;)this.mMatrixMinos.push(0);this.mMatrixMinosBitGridEmptyRow=0,this.mMatrixMinosBitGridFullRow=this.mMatrixMinosBitGridEmptyRow;for(var a=0;a<e;a++)this.mMatrixMinosBitGridFullRow|=1<<a;for(this.mMatrixMinosBitGrid.length=0;this.mMatrixMinosBitGrid.length<i;)this.mMatrixMinosBitGrid.push(this.mMatrixMinosBitGridEmptyRow);this.mMatrixHighestMinoY=-1,this.mIsLivePieceActive=!1,this.mDidLivePieceLockDown=!1,this.mLivePieceTypeId=0,this.mLivePieceStartingX=0,this.mLivePieceStartingY=0,this.mLivePieceStartingFacing=0,this.mLivePieceStartingTransformId=n.x703179871846962360x,this.mLivePieceCurrentX=0,this.mLivePieceCurrentY=0,this.mLivePieceCurrentFacing=0,this.mLivePieceCurrentTransformId=n.x703179871846962360x,this.mAlternatePieceTypeId=0,this.mCurrentControlAction=n.x248707270714796255x}var i=t.prototype;return i.isDestroyed=function(){return this.mIsDestroyed},i.getPieceData=function(){return this.mPieceData},i.getMatrixWidth=function(){return this.mMatrixWidth},i.getMatrixHeight=function(){return this.mMatrixHeight},i.getMatrixWidthLimit=function(){return this.mMatrixWidthLimit},i.getMatrixHeightLimit=function(){return this.mMatrixHeightLimit},i.setMatrixLimits=function(t,e,i){this.mMatrixWidthLimit=n.minInt(t,this.mMatrixWidth),this.mMatrixHeightLimit=n.minInt(e,this.mMatrixHeight),this.mMatrixVisibleHeight=e},i.handleLivePieceDidActivate=function(){this.mIsLivePieceActive=!0,this.mDidLivePieceLockDown=!1,this.setCurrentControlAction(n.x248707270714796255x)},i.handleLivePieceWillLockDown=function(){this.mDidLivePieceLockDown=!0},i.handleLivePieceDidDeactivate=function(){this.mIsLivePieceActive=!1},i.resetStateWithLivePiece=function(t,e,i,n,r,s,a){this.clearMatrix(),this.setLivePiece(t,e,i,n,r,s,a)},i.resetStateWithCurrentLivePiece=function(){this.clearMatrix()},i.resetStateWithState=function(t){var e;this.clearMatrix(),this.mMatrixWidthLimit=t.mMatrixWidth,this.mMatrixHeightLimit=t.mMatrixHeight,this.mMatrixVisibleHeight=t.mMatrixVisibleHeight;var i=this.mMatrixMinos.length;for(e=0;e<i;e++)this.mMatrixMinos[e]=t.mMatrixMinos[e];for(i=this.mMatrixMinosBitGrid.length,e=0;e<i;e++)this.mMatrixMinosBitGrid[e]=t.mMatrixMinosBitGrid[e];this.mMatrixHighestMinoY=t.mMatrixHighestMinoY,this.mLivePieceTypeId=t.mLivePieceTypeId,this.mLivePieceStartingX=t.mLivePieceStartingX,this.mLivePieceStartingY=t.mLivePieceStartingY,this.mLivePieceStartingFacing=t.mLivePieceStartingFacing,this.mLivePieceStartingTransformId=t.mLivePieceStartingTransformId,this.mLivePieceCurrentX=t.mLivePieceCurrentX,this.mLivePieceCurrentY=t.mLivePieceCurrentY,this.mLivePieceCurrentFacing=t.mLivePieceCurrentFacing,this.mLivePieceCurrentTransformId=t.mLivePieceCurrentTransformId,this.mAlternatePieceTypeId=t.mAlternatePieceTypeId},i.setMino=function(e,i,r,s,a,o,x){var u=0;u=n.setValueInPackedBits(1,u,t.x1746943765634005611x,t.x2857970150908286548x),u=n.setValueInPackedBits(e,u,t.x1988652381644746979x,t.x1141725223678732954x),u=n.setValueInPackedBits(s,u,t.x3769101314112180226x,t.x333866862064447587x),a&&(u=n.setValueInPackedBits(1,u,t.x3851115973900221881x,t.x4360142003951787919x)),o&&(u=n.setValueInPackedBits(1,u,t.x1041189453132449837x,t.x2102397811438120314x)),x&&(u=n.setValueInPackedBits(1,u,t.x4282075880228305262x,t.x2161795724164936575x));var c=n.computeGridIndex(i,r,this.mMatrixWidth);this.mMatrixMinos[c]=u,this.mMatrixMinosBitGrid[r]=this.mMatrixMinosBitGrid[r]|1<<i,0!=e&&r>this.mMatrixHighestMinoY&&(this.mMatrixHighestMinoY=r)},i.doesMinoExist=function(t,e){return!(t<0||t>=this.mMatrixWidth||e<0||e>=this.mMatrixHeight||0==this.mMatrixMinos[n.computeGridIndex(t,e,this.mMatrixWidth)])},i.getCurrentControlAction=function(){return this.mCurrentControlAction},i.setCurrentControlAction=function(t){this.mCurrentControlAction=t},i.isLivePieceActive=function(){return this.mIsLivePieceActive},i.didLivePieceLockDown=function(){return this.mDidLivePieceLockDown},i.setLivePiece=function(t,e,i,n,r,s,a){this.mLivePieceTypeId=t,this.mLivePieceStartingX=e,this.mLivePieceStartingY=i,this.mLivePieceStartingFacing=n,this.mLivePieceStartingTransformId=this.mPieceData.computeTransformId(e,i,n),this.mLivePieceCurrentX=r,this.mLivePieceCurrentY=s,this.mLivePieceCurrentFacing=a,this.mLivePieceCurrentTransformId=this.mPieceData.computeTransformId(r,s,a)},i.getLivePieceTypeId=function(){return this.mLivePieceTypeId},i.getLivePieceStartingTransform=function(){return this.mLivePieceStartingTransformId},i.setLivePieceCurrentTransform=function(t){this.mLivePieceCurrentX=this.mPieceData.computeXFromTransformId(t),this.mLivePieceCurrentY=this.mPieceData.computeYFromTransformId(t),this.mLivePieceCurrentFacing=n.computeFacingFromTransformId(t),this.mLivePieceCurrentTransformId=t},i.getLivePieceCurrentX=function(){return this.mLivePieceCurrentX},i.getLivePieceCurrentY=function(){return this.mLivePieceCurrentY},i.getLivePieceCurrentFacing=function(){return this.mLivePieceCurrentFacing},i.getLivePieceCurrentTransform=function(){return this.mLivePieceCurrentTransformId},i.doesLivePieceTouchBelow=function(){return this.doesPieceTouchBelow(this.mPieceData.getPiece(this.mLivePieceTypeId,this.mLivePieceCurrentTransformId))},i.getTSpinTypeForLivePieceCurrentTransform=function(t){if(this.mLivePieceTypeId!=n.x430147064004821695x)return n.x2088302373693961418x;if(0==t)return n.x2088302373693961418x;var e=!1,i=this.doesMinoExist(this.mLivePieceCurrentX+1,this.mLivePieceCurrentY+1),r=this.doesMinoExist(this.mLivePieceCurrentX+1,this.mLivePieceCurrentY-1),s=this.doesMinoExist(this.mLivePieceCurrentX-1,this.mLivePieceCurrentY-1),a=this.doesMinoExist(this.mLivePieceCurrentX-1,this.mLivePieceCurrentY+1);if(0==this.mLivePieceCurrentY)this.mLivePieceCurrentFacing==n.x2628258654593101865x&&(e=i||a);else if(0==this.mLivePieceCurrentX)this.mLivePieceCurrentFacing==n.x1916765820450533320x&&(e=i||r);else if(this.mLivePieceCurrentX==this.mMatrixWidth-1)this.mLivePieceCurrentFacing==n.x412600297092622044x&&(e=a||s);else{var o=a&&i&&r,x=i&&r&&s,u=r&&s&&a,c=s&&a&&i;switch(this.mLivePieceCurrentFacing){case n.x2628258654593101865x:if(o||c)return n.x3879340559840163537x;e=x||u;break;case n.x1916765820450533320x:if(o||x)return n.x3879340559840163537x;e=c||u;break;case n.x2731137289200737929x:if(x||u)return n.x3879340559840163537x;e=o||c;break;case n.x412600297092622044x:if(c||u)return n.x3879340559840163537x;e=o||x}}if(!e)return n.x2088302373693961418x;switch(t){case 4:return n.x2088302373693961418x;case 5:return n.x3879340559840163537x;default:return n.x2242998426507838948x}},i.setAlternatePieceTypeId=function(t){this.mAlternatePieceTypeId=t},i.getAlternatePieceTypeId=function(){return this.mAlternatePieceTypeId},i.getTransformForControlAction=function(t,e){var i=this.mPieceData.getPiece(this.mLivePieceTypeId,t);if(!i)return n.x703179871846962360x;var r=null;switch(e){case n.x1854185702720947932x:if(r=this.mPieceData.getPiece(this.mLivePieceTypeId,i.mPerTransformActionToTransformIds[n.x6186470261287628x]),!this.doesPieceCollide(r))return r.mTransformId;break;case n.x3258880470381356346x:if(r=this.mPieceData.getPiece(this.mLivePieceTypeId,i.mPerTransformActionToTransformIds[n.x3456892050383260575x]),!this.doesPieceCollide(r))return r.mTransformId;break;case n.x274660332411645642x:if(r=this.mPieceData.getPiece(this.mLivePieceTypeId,i.mPerTransformActionToTransformIds[n.x507072717885954088x]),!this.doesPieceCollide(r))return r.mTransformId;break;case n.x280351877232321731x:case n.x2445769797929427052x:case n.x470776976658180505x:case n.x1770661362513838585x:var s=0,a=-1;switch(e){case n.x280351877232321731x:s=n.x3167162611594866431x,a=n.x3167162611594866431x;break;case n.x2445769797929427052x:s=n.x387986882668060794x,a=n.x387986882668060794x;break;case n.x470776976658180505x:a=(s=n.x3167162611594866431x)+i.mPieceDefinition.getNumRotationPointSets()-1;break;case n.x1770661362513838585x:a=(s=n.x387986882668060794x)+i.mPieceDefinition.getNumRotationPointSets()-1}for(var o=s;o<=a;o++)if(r=this.mPieceData.getPiece(this.mLivePieceTypeId,i.mPerTransformActionToTransformIds[o]),!this.doesPieceCollide(r))return r.mTransformId;break;case n.x2851689118743160308x:for(r=i;r&&!this.doesPieceTouchBelow(r);)r=this.mPieceData.getPiece(this.mLivePieceTypeId,r.mPerTransformActionToTransformIds[n.x507072717885954088x]);if(!this.doesPieceCollide(r))return r.mTransformId}return n.x703179871846962360x},i.getTransformForTransformAction=function(t,e){var i=this.mPieceData.getPiece(this.mLivePieceTypeId,t);if(!i)return n.x703179871846962360x;var r=this.mPieceData.getPiece(this.mLivePieceTypeId,i.mPerTransformActionToTransformIds[e]);return this.doesPieceCollide(r)?n.x703179871846962360x:r.mTransformId},i.getTransformActionForControlAction=function(t,e,i){var r,s=this.mPieceData.getPiece(this.mLivePieceTypeId,t);if(!s)return n.x703179871846962360x;var a=0,o=-1;switch(i){case n.x1854185702720947932x:a=n.x6186470261287628x,o=n.x6186470261287628x;break;case n.x3258880470381356346x:a=n.x3456892050383260575x,o=n.x3456892050383260575x;break;case n.x274660332411645642x:a=n.x507072717885954088x,o=n.x507072717885954088x;break;case n.x280351877232321731x:a=n.x3167162611594866431x,o=n.x3167162611594866431x;break;case n.x2445769797929427052x:a=n.x387986882668060794x,o=n.x387986882668060794x;break;case n.x470776976658180505x:a=n.x3167162611594866431x,o=n.x1115856437915338497x;break;case n.x1770661362513838585x:a=n.x387986882668060794x,o=n.x1931939176009776912x;break;case n.x2851689118743160308x:return n.x577419185584297276x}for(r=a;r<=o;r++)if(e==s.mPerTransformActionToTransformIds[r])return r;for(r=a;r<=o;r++)if(this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,e,s.mPerTransformActionToTransformIds[r]))return r;return n.x1070305803274997772x},i.getTransformAction=function(t,e){var i,r=this.mPieceData.getPiece(this.mLivePieceTypeId,t);if(!r)return n.x703179871846962360x;for(i=0;i<n.x3481742426804344834x;i++)if(e==r.mPerTransformActionToTransformIds[i])return i;for(i=0;i<n.x3481742426804344834x;i++)if(this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,e,r.mPerTransformActionToTransformIds[i]))return i;return n.x1070305803274997772x},i.getTransformActionSteps=function(t,e,i,n){if(t==e)return 0;if(!this.mPieceData.isTransformValid(this.mLivePieceTypeId,t))return-1;if(!this.mPieceData.isTransformValid(this.mLivePieceTypeId,e))return-1;for(var r=t,s=0;s<n;s++){if((r=this.getTransformForTransformAction(r,i))==e)return s+1;if(!this.mPieceData.isTransformValid(this.mLivePieceTypeId,r))return-1;if(r==t)return-1}return-1},i.generateActionTransformPathWithActions=function(t,e,i){i&&(i.length=0);var r,s=t,a=this.mPieceData.getPiece(this.mLivePieceTypeId,s);if(!a)return n.x703179871846962360x;for(var o=e.length,x=0;x<o;x++){if((r=e[x])<n.x577419185584297276x)s=a.mPerTransformActionToTransformIds[r];else{if(r!=n.x577419185584297276x)return n.x703179871846962360x;for(;!this.doesPieceTouchBelow(a);)if(s=a.mPerTransformActionToTransformIds[n.x507072717885954088x],!(a=this.mPieceData.getPiece(this.mLivePieceTypeId,s)))return i&&(i.length=0),n.x703179871846962360x}if(!(a=this.mPieceData.getPiece(this.mLivePieceTypeId,s)))return i&&(i.length=0),n.x703179871846962360x;if(this.doesPieceCollide(a))return i&&(i.length=0),n.x703179871846962360x;i&&(i.push(r),i.push(s))}return s},i.doesPieceTouchBelow=function(t){if(t){if(0==t.mMinMinoY)return!0;var e=this.mPieceData.getPiece(this.mLivePieceTypeId,t.mPerTransformActionToTransformIds[n.x507072717885954088x]);return this.doesPieceCollide(e)}return!1},i.doesPieceCollide=function(t){if(!t)return!0;if(t.mMaxMinoX>=this.mMatrixWidthLimit||t.mMaxMinoY>=this.mMatrixHeightLimit)return!0;for(var e=0;e<t.mNumMinos;e++)if(0!=this.mMatrixMinos[t.mMinosXY[e]])return!0;return!1},i.isTransformVisible=function(t){var e=this.mPieceData.getPiece(this.mLivePieceTypeId,t);return!!e&&e.isVisible(this.mMatrixVisibleHeight)},i.getEndingRotationPointForPath=function(t){for(var e,i,r,s=n.x703179871846962360x,a=0,o=~~(t.length/2),x=0;x<o;x++){switch(e=t[2*x],i=t[2*x+1],e){case n.x3167162611594866431x:case n.x3953239339428559355x:case n.x2450176556276397876x:case n.x888663733163945405x:case n.x1115856437915338497x:case n.x387986882668060794x:case n.x1888136233739803425x:case n.x2407034334825857632x:case n.x1821014729543822421x:case n.x1931939176009776912x:r=n.getRotationPointForTransformAction(e),5==a?1!=r&&(a=r):a=r;break;default:this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,s,i)||(a=0)}s=i}return a},i.getSoftDropStepsForPath=function(t,e,i){var r,s,a=this.mPieceData.getPiece(this.mLivePieceTypeId,e);a?(r=a.mMinMinoY,s=a.mY):(r=this.mMatrixHeight,s=this.mMatrixHeight),i<s&&(s=i);for(var o=0,x=~~(t.length/2),u=0;u<x;u++)if(t[2*u]==n.x507072717885954088x){var c=t[2*u+1];(a=this.mPieceData.getPiece(this.mLivePieceTypeId,c))&&a.mMinMinoY<r&&a.mY<s&&o++;var l=this.mPieceData.computeYFromTransformId(c);l<s&&(s=l)}return o},i.getHardDropStepsForPath=function(t,e){var i,r=this.mPieceData.getPiece(this.mLivePieceTypeId,e);i=r?r.mY:this.mMatrixHeight;for(var s=~~(t.length/2)-1;s>=0;s--)if(t[2*s]==n.x577419185584297276x){var a=t[2*s-1],o=this.mPieceData.computeYFromTransformId(a);o>i&&(o=i);var x=t[2*s+1];return o-this.mPieceData.computeYFromTransformId(x)}return 0},i.clearMatrix=function(){var t,e=this.mMatrixMinos.length;for(t=0;t<e;t++)this.mMatrixMinos[t]=0;for(e=this.mMatrixMinosBitGrid.length,t=0;t<e;t++)this.mMatrixMinosBitGrid[t]=this.mMatrixMinosBitGridEmptyRow;this.mMatrixHighestMinoY=-1},i.destroy=function(){this.isDestroyed()||(this.mIsDestroyed=!0)},e(t,null,[{key:"kMinoValueNumBits_exists",get:function(){return 1}},{key:"kMinoValueNumBits_typeId",get:function(){return 8}},{key:"kMinoValueNumBits_stuckDirections",get:function(){return 8}},{key:"kMinoValueNumBits_isStickyActive",get:function(){return 1}},{key:"kMinoValueNumBits_isGravitic",get:function(){return 1}},{key:"kMinoValueNumBits_isClearable",get:function(){return 1}},{key:"x2857970150908286548x",get:function(){return 0}},{key:"x1141725223678732954x",get:function(){return 1}},{key:"x333866862064447587x",get:function(){return 9}},{key:"x4360142003951787919x",get:function(){return 17}},{key:"x2102397811438120314x",get:function(){return 18}},{key:"x2161795724164936575x",get:function(){return 19}},{key:"x1746943765634005611x",get:function(){return 1}},{key:"x1988652381644746979x",get:function(){return 510}},{key:"x3769101314112180226x",get:function(){return 130560}},{key:"x3851115973900221881x",get:function(){return 131072}},{key:"x1041189453132449837x",get:function(){return 262144}},{key:"x4282075880228305262x",get:function(){return 524288}}]),t}()),i._RF.pop()}}})),System.register("chunks:///_virtual/x3346104609488210493x.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d36b49hyA9MKJr38UHHlL89","x3346104609488210493x",void 0),t("x3346104609488210493x",(function(){this.mX=0,this.mY=0,this.mStickyBits=0})),e._RF.pop()}}})),System.register("chunks:///_virtual/x320340878522392644x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x935098930897063106x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x935098930897063106x}],execute:function(){i._RF.push({},"4cccd8IbENF7b4dFUJ8QD4E","x320340878522392644x",void 0),t("x320340878522392644x",function(){function t(e,i,r,s,a,o){this.mMinosXY=new Array(t.x532302758477561254x),this.mMinosBitGrid=new Array(t.x1093258006721062126x),this.mMinosStickyBits=new Array(t.x532302758477561254x),this.mPerTransformActionToTransformIds=new Array(t.x3894439854470618943x),this.mEquivalentTransformIds=new Array(t.x1451006019991523294x),this.mPieceDefinition=e,this.mMatrixWidth=s,this.mX=i,this.mY=r,this.mFacing=o,this.mTransformId=n.computeTransformId(i,r,s,a,o),this.mNumMinos=0,this.mMinMinoX=1e6,this.mMaxMinoX=-1e6,this.mMinMinoY=1e6,this.mMaxMinoY=-1e6;var x=0;for(x=0;x<t.x532302758477561254x;x++)this.mMinosXY[x]=0;for(x=0;x<t.x1093258006721062126x;x++)this.mMinosBitGrid[x]=0;for(x=0;x<n.x3481742426804344834x;x++)this.mPerTransformActionToTransformIds[x]=n.x703179871846962360x;for(x=0;x<t.x1451006019991523294x;x++)this.mEquivalentTransformIds[x]=n.x703179871846962360x;if(this.mNumEquivalentTransformIds=0,e){var u,c=e.getNumMinos();for(x=0;x<c;x++){var l=0,h=0,m=(u=e.getMino(x)).mStickyBits;switch(o){case n.x2628258654593101865x:l=u.mX,h=u.mY;break;case n.x1916765820450533320x:l=u.mY,h=-u.mX,m=n.rotateDirections90(m,!0);break;case n.x2731137289200737929x:l=-u.mX,h=-u.mY,m=n.rotateDirections90(m,!0),m=n.rotateDirections90(m,!0);break;case n.x412600297092622044x:l=-u.mY,h=u.mX,m=n.rotateDirections90(m,!0),m=n.rotateDirections90(m,!0),m=n.rotateDirections90(m,!0)}this.addMino(i+l,r+h,m)}}}var i=t.prototype;return i.addEquivalentTransformId=function(e){this.isEquivalentTransformId(e)||this.mNumEquivalentTransformIds>=t.x1451006019991523294x||(this.mEquivalentTransformIds[this.mNumEquivalentTransformIds]=e,this.mNumEquivalentTransformIds++)},i.isEquivalentTransformId=function(t){for(var e=0;e<this.mNumEquivalentTransformIds;e++)if(this.mEquivalentTransformIds[e]==t)return!0;return!1},i.hasEquivalenceForFacing=function(t){for(var e=0;e<this.mNumEquivalentTransformIds;e++)if(n.computeFacingFromTransformId(this.mEquivalentTransformIds[e])==t)return!0;return!1},i.hasEquivalanceForX=function(t){if(this.mX==t)return!0;for(var e=0;e<this.mNumEquivalentTransformIds;e++)if(n.computeXFromTransformId(this.mEquivalentTransformIds[e],this.mMatrixWidth,0)==t)return!0;return!1},i.getMinoXInPiece=function(t){return this.getMinoXInMatrix(t)-this.mX},i.getMinoYInPiece=function(t){return this.getMinoYInMatrix(t)-this.mY},i.getMinoXInMatrix=function(t){return t>=0&&t<this.mNumMinos?n.computeXFromGridIndex(this.mMinosXY[t],this.mMatrixWidth):0},i.getMinoYInMatrix=function(t){return t>=0&&t<this.mNumMinos?n.computeYFromGridIndex(this.mMinosXY[t],this.mMatrixWidth):0},i.getNumRows=function(){return this.mMaxMinoY-this.mMinMinoY+1},i.getRowYInMatrix=function(t){return this.mMinMinoY+t},i.getRowMinXInMatrix=function(t){for(var e=this.getRowYInMatrix(t),i=this.mMinMinoX;i<=this.mMaxMinoX;i++)if(this.isMatrixCellOccupied(i,e))return i;return this.mMinMinoX},i.getRowMaxXInMatrix=function(t){for(var e=this.getRowYInMatrix(t),i=this.mMaxMinoX;i>=this.mMinMinoX;i--)if(this.isMatrixCellOccupied(i,e))return i;return this.mMaxMinoX},i.getNumColumns=function(){return this.mMaxMinoX-this.mMinMinoX+1},i.getColumnXInMatrix=function(t){return this.mMinMinoX+t},i.getColumnMinYInMatrix=function(t){for(var e=this.getColumnXInMatrix(t),i=this.mMinMinoY;i<=this.mMaxMinoY;i++)if(this.isMatrixCellOccupied(e,i))return i;return this.mMinMinoY},i.getColumnMaxYInMatrix=function(t){for(var e=this.getColumnXInMatrix(t),i=this.mMaxMinoY;i>=this.mMinMinoY;i--)if(this.isMatrixCellOccupied(e,i))return i;return this.mMaxMinoY},i.isMatrixCellOccupied=function(e,i){var n=1<<e,r=i-this.mY+t.x4407685949528019798x;return!!(this.mMinosBitGrid[r]&n)},i.isVisible=function(t){return this.mMinMinoY<t},i.getMinoStickyBits=function(t){return t>=0&&t<this.mNumMinos?this.mMinosStickyBits[t]:0},i.addMino=function(e,i,r){this.mNumMinos>=t.x532302758477561254x||(this.mMinosXY[this.mNumMinos]=n.computeGridIndex(e,i,this.mMatrixWidth),this.mMinosBitGrid[i-this.mY+t.x4407685949528019798x]|=1<<e,this.mMinMinoX=n.minInt(this.mMinMinoX,e),this.mMaxMinoX=n.maxInt(this.mMaxMinoX,e),this.mMinMinoY=n.minInt(this.mMinMinoY,i),this.mMaxMinoY=n.maxInt(this.mMaxMinoY,i),this.mLocalCenterX_FXPT=n.FXPTFromInt(this.mMinMinoX)+n.FXPTDivide(n.FXPTFromInt(this.mMaxMinoX+1)-n.FXPTFromInt(this.mMinMinoX),n.FXPTFromInt(2))-n.FXPTFromInt(this.mX),this.mLocalCenterY_FXPT=n.FXPTFromInt(this.mMinMinoY)+n.FXPTDivide(n.FXPTFromInt(this.mMaxMinoY+1)-n.FXPTFromInt(this.mMinMinoY),n.FXPTFromInt(2))-n.FXPTFromInt(this.mY),this.mMinosStickyBits[this.mNumMinos]=r,this.mNumMinos++)},e(t,null,[{key:"x532302758477561254x",get:function(){return 4}},{key:"x1093258006721062126x",get:function(){return 5}},{key:"x4407685949528019798x",get:function(){return 2}},{key:"x3894439854470618943x",get:function(){return 14}},{key:"x1451006019991523294x",get:function(){return 3}}]),t}()),i._RF.pop()}}})),System.register("chunks:///_virtual/x1457729986902235133x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3973692155170160649x.ts","./x935098930897063106x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x3973692155170160649x},function(t){r=t.x935098930897063106x}],execute:function(){i._RF.push({},"3c398Hn4xxBKKak5hdMyjye","x1457729986902235133x",void 0),t("x1457729986902235133x",function(){function t(t,e){this.mPieceDefinitions=new Array,this.mIsDestroyed=!1,this.mMatrixWidth=t,this.mMatrixHeight=e,this.mMaxNumTransforms=r.computeTransformId(t-1,e-1,this.mMatrixWidth,0,r.x412600297092622044x)+1,this.mCachedPieceDefinition=null}t.canGetSharedStandardPieceData=function(){return t.sSharedStandardPieceDataState!=t.x798121976975155150x},t.getSharedStandardPieceData=function(e,i,n){return!t.sSharedStandardPieceData||t.sSharedStandardPieceDataMatrixWidth==e&&t.sSharedStandardPieceDataMatrixHeight==i&&t.sSharedStandardPieceDataStandardPieceDefinitionsType==n||t.destroySharedStandardPieceData(),t.sSharedStandardPieceData||(t.sSharedStandardPieceDataState=t.x798121976975155150x,t.sSharedStandardPieceData=new t(e,i),t.sSharedStandardPieceDataMatrixWidth=e,t.sSharedStandardPieceDataMatrixHeight=i,t.sSharedStandardPieceDataStandardPieceDefinitionsType=n,t.sSharedStandardPieceData.addStandardPieceDefinitions(n),t.sSharedStandardPieceData.processPieceDefinitions(),t.sSharedStandardPieceDataState=t.x673926965035525542x),t.sSharedStandardPieceData},t.destroySharedStandardPieceData=function(){t.sSharedStandardPieceData&&(t.sSharedStandardPieceData.destroy(),null!==t.sSharedStandardPieceData&&(t.sSharedStandardPieceData=null),t.sSharedStandardPieceDataMatrixWidth=0,t.sSharedStandardPieceDataMatrixHeight=0,t.sSharedStandardPieceDataStandardPieceDefinitionsType=0,t.sSharedStandardPieceDataState=t.x4210478061725238558x)};var i=t.prototype;return i.isDestroyed=function(){return this.mIsDestroyed},i.addStandardPieceDefinitions=function(e){switch(e){case t.x4357731673361944875x:case t.x524571837671702382x:this.addPieceDefinition("I",r.x3470980478260957226x),this.addPieceDefinitionMino(r.x3470980478260957226x,0,0),this.addPieceDefinitionMino(r.x3470980478260957226x,1,0),this.addPieceDefinitionMino(r.x3470980478260957226x,2,0),this.addPieceDefinitionMino(r.x3470980478260957226x,-1,0),this.addPieceDefinitionRotationPointSet(r.x3470980478260957226x,0,0,1,0,1,-1,0,-1),this.addPieceDefinitionRotationPointSet(r.x3470980478260957226x,1,0,0,0,-1,-1,0,-1),this.addPieceDefinitionRotationPointSet(r.x3470980478260957226x,-2,0,0,0,2,-1,0,-1),this.addPieceDefinitionRotationPointSet(r.x3470980478260957226x,1,0,0,-1,-1,0,0,1),this.addPieceDefinitionRotationPointSet(r.x3470980478260957226x,-2,0,0,2,2,0,0,-2),this.setPieceDefinitionRotationalSymmetry(r.x3470980478260957226x,r.x314415129552216057x,1,0),this.addPieceDefinition("J",r.x4089917939347655793x),this.addPieceDefinitionMino(r.x4089917939347655793x,0,0),this.addPieceDefinitionMino(r.x4089917939347655793x,-1,0),this.addPieceDefinitionMino(r.x4089917939347655793x,1,0),this.addPieceDefinitionMino(r.x4089917939347655793x,-1,1),this.addPieceDefinitionRotationPointSet(r.x4089917939347655793x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(r.x4089917939347655793x,0,0,-1,0,0,0,1,0),this.addPieceDefinitionRotationPointSet(r.x4089917939347655793x,0,0,-1,1,0,0,1,1),this.addPieceDefinitionRotationPointSet(r.x4089917939347655793x,0,0,0,-2,0,0,0,-2),this.addPieceDefinitionRotationPointSet(r.x4089917939347655793x,0,0,-1,-2,0,0,1,-2),this.setPieceDefinitionRotationalSymmetry(r.x4089917939347655793x,r.x3162409397689077297x,0,0),this.addPieceDefinition("L",r.x4356952734068014821x),this.addPieceDefinitionMino(r.x4356952734068014821x,0,0),this.addPieceDefinitionMino(r.x4356952734068014821x,1,0),this.addPieceDefinitionMino(r.x4356952734068014821x,-1,0),this.addPieceDefinitionMino(r.x4356952734068014821x,1,1),this.addPieceDefinitionRotationPointSet(r.x4356952734068014821x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(r.x4356952734068014821x,0,0,-1,0,0,0,1,0),this.addPieceDefinitionRotationPointSet(r.x4356952734068014821x,0,0,-1,1,0,0,1,1),this.addPieceDefinitionRotationPointSet(r.x4356952734068014821x,0,0,0,-2,0,0,0,-2),this.addPieceDefinitionRotationPointSet(r.x4356952734068014821x,0,0,-1,-2,0,0,1,-2),this.setPieceDefinitionRotationalSymmetry(r.x4356952734068014821x,r.x3162409397689077297x,0,0),this.addPieceDefinition("O",r.x464963540126332034x),this.addPieceDefinitionMino(r.x464963540126332034x,0,0),this.addPieceDefinitionMino(r.x464963540126332034x,1,0),this.addPieceDefinitionMino(r.x464963540126332034x,0,1),this.addPieceDefinitionMino(r.x464963540126332034x,1,1),this.addPieceDefinitionRotationPointSet(r.x464963540126332034x,0,0,0,1,1,1,1,0),this.setPieceDefinitionRotationalSymmetry(r.x464963540126332034x,r.x883257587842153100x,0,1),this.addPieceDefinition("S",r.x3147028265582430196x),this.addPieceDefinitionMino(r.x3147028265582430196x,0,0),this.addPieceDefinitionMino(r.x3147028265582430196x,0,1),this.addPieceDefinitionMino(r.x3147028265582430196x,-1,0),this.addPieceDefinitionMino(r.x3147028265582430196x,1,1),this.addPieceDefinitionRotationPointSet(r.x3147028265582430196x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(r.x3147028265582430196x,0,0,-1,0,0,0,1,0),this.addPieceDefinitionRotationPointSet(r.x3147028265582430196x,0,0,-1,1,0,0,1,1),this.addPieceDefinitionRotationPointSet(r.x3147028265582430196x,0,0,0,-2,0,0,0,-2),this.addPieceDefinitionRotationPointSet(r.x3147028265582430196x,0,0,-1,-2,0,0,1,-2),this.setPieceDefinitionRotationalSymmetry(r.x3147028265582430196x,r.x314415129552216057x,0,1),this.addPieceDefinition("T",r.x430147064004821695x),this.addPieceDefinitionMino(r.x430147064004821695x,0,0),this.addPieceDefinitionMino(r.x430147064004821695x,0,1),this.addPieceDefinitionMino(r.x430147064004821695x,-1,0),this.addPieceDefinitionMino(r.x430147064004821695x,1,0),this.addPieceDefinitionRotationPointSet(r.x430147064004821695x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(r.x430147064004821695x,0,0,-1,0,0,0,1,0),this.addPieceDefinitionRotationPointSet(r.x430147064004821695x,0,0,-1,1,0,0,1,1),this.addPieceDefinitionRotationPointSet(r.x430147064004821695x,0,0,0,-2,0,0,0,-2),this.addPieceDefinitionRotationPointSet(r.x430147064004821695x,0,0,-1,-2,0,0,1,-2),this.setPieceDefinitionRotationalSymmetry(r.x430147064004821695x,r.x3162409397689077297x,0,0),this.addPieceDefinition("Z",r.x358991450269824247x),this.addPieceDefinitionMino(r.x358991450269824247x,0,0),this.addPieceDefinitionMino(r.x358991450269824247x,0,1),this.addPieceDefinitionMino(r.x358991450269824247x,1,0),this.addPieceDefinitionMino(r.x358991450269824247x,-1,1),this.addPieceDefinitionRotationPointSet(r.x358991450269824247x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(r.x358991450269824247x,0,0,-1,0,0,0,1,0),this.addPieceDefinitionRotationPointSet(r.x358991450269824247x,0,0,-1,1,0,0,1,1),this.addPieceDefinitionRotationPointSet(r.x358991450269824247x,0,0,0,-2,0,0,0,-2),this.addPieceDefinitionRotationPointSet(r.x358991450269824247x,0,0,-1,-2,0,0,1,-2),this.setPieceDefinitionRotationalSymmetry(r.x358991450269824247x,r.x314415129552216057x,0,1),e==t.x524571837671702382x&&(this.addPieceDefinition("I3",r.x1897493751449396940x),this.addPieceDefinitionMino(r.x1897493751449396940x,0,0),this.addPieceDefinitionMino(r.x1897493751449396940x,1,0),this.addPieceDefinitionMino(r.x1897493751449396940x,-1,0),this.addPieceDefinitionRotationPointSet(r.x1897493751449396940x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(r.x1897493751449396940x,-1,0,0,0,1,0,0,0),this.addPieceDefinitionRotationPointSet(r.x1897493751449396940x,1,0,0,0,-1,0,0,0),this.addPieceDefinitionRotationPointSet(r.x1897493751449396940x,0,0,0,-1,0,1,0,0),this.addPieceDefinitionRotationPointSet(r.x1897493751449396940x,0,0,0,1,0,-1,0,0),this.setPieceDefinitionRotationalSymmetry(r.x1897493751449396940x,r.x314415129552216057x,0,0),this.addPieceDefinition("J3",r.x767082808028451276x),this.addPieceDefinitionMino(r.x767082808028451276x,0,0),this.addPieceDefinitionMino(r.x767082808028451276x,0,1),this.addPieceDefinitionMino(r.x767082808028451276x,-1,0),this.addPieceDefinitionRotationPointSet(r.x767082808028451276x,0,0,-1,0,-1,1,0,1),this.addPieceDefinitionRotationPointSet(r.x767082808028451276x,0,0,-1,1,0,2,1,1),this.addPieceDefinitionRotationPointSet(r.x767082808028451276x,1,1,0,0,-1,1,0,2),this.setPieceDefinitionRotationalSymmetry(r.x767082808028451276x,r.x3162409397689077297x,0,0),this.addPieceDefinition("L3",r.x272739351403741827x),this.addPieceDefinitionMino(r.x272739351403741827x,0,0),this.addPieceDefinitionMino(r.x272739351403741827x,0,1),this.addPieceDefinitionMino(r.x272739351403741827x,1,0),this.addPieceDefinitionRotationPointSet(r.x272739351403741827x,0,0,0,1,1,1,1,0),this.addPieceDefinitionRotationPointSet(r.x272739351403741827x,0,0,-1,1,0,2,1,1),this.addPieceDefinitionRotationPointSet(r.x272739351403741827x,-1,1,0,2,1,1,0,0),this.setPieceDefinitionRotationalSymmetry(r.x272739351403741827x,r.x3162409397689077297x,0,0),this.addPieceDefinition("I2",r.x793268783332517826x),this.addPieceDefinitionMino(r.x793268783332517826x,0,0),this.addPieceDefinitionMino(r.x793268783332517826x,1,0),this.addPieceDefinitionRotationPointSet(r.x793268783332517826x,0,0,1,0,1,-1,0,-1),this.addPieceDefinitionRotationPointSet(r.x793268783332517826x,0,0,1,1,2,0,1,-1),this.addPieceDefinitionRotationPointSet(r.x793268783332517826x,0,0,0,0,0,0,0,0),this.addPieceDefinitionRotationPointSet(r.x793268783332517826x,0,0,0,1,1,0,1,1),this.setPieceDefinitionRotationalSymmetry(r.x793268783332517826x,r.x314415129552216057x,1,0),this.addPieceDefinition("I1",r.x2986567280613901413x),this.addPieceDefinitionMino(r.x2986567280613901413x,0,0),this.addPieceDefinitionRotationPointSet(r.x2986567280613901413x,0,0,0,0,0,0,0,0),this.setPieceDefinitionRotationalSymmetry(r.x2986567280613901413x,r.x883257587842153100x,0,0));break;case t.x3383519244866353854x:this.addPieceDefinition("I",r.x3470980478260957226x),this.addPieceDefinitionMino(r.x3470980478260957226x,0,0),this.addPieceDefinitionMino(r.x3470980478260957226x,1,0),this.addPieceDefinitionMino(r.x3470980478260957226x,-1,0),this.addPieceDefinitionMino(r.x3470980478260957226x,-2,0),this.addPieceDefinitionRotationPointSet(r.x3470980478260957226x,1,0,0,-1,0,0,0,0),this.setPieceDefinitionRotationalSymmetry(r.x3470980478260957226x,r.x314415129552216057x,1,0),this.addPieceDefinition("J",r.x4089917939347655793x),this.addPieceDefinitionMino(r.x4089917939347655793x,0,0),this.addPieceDefinitionMino(r.x4089917939347655793x,-1,0),this.addPieceDefinitionMino(r.x4089917939347655793x,1,0),this.addPieceDefinitionMino(r.x4089917939347655793x,-1,1),this.addPieceDefinitionRotationPointSet(r.x4089917939347655793x,0,0,0,0,0,0,0,0),this.setPieceDefinitionRotationalSymmetry(r.x4089917939347655793x,r.x3162409397689077297x,0,0),this.addPieceDefinition("L",r.x4356952734068014821x),this.addPieceDefinitionMino(r.x4356952734068014821x,0,0),this.addPieceDefinitionMino(r.x4356952734068014821x,1,0),this.addPieceDefinitionMino(r.x4356952734068014821x,-1,0),this.addPieceDefinitionMino(r.x4356952734068014821x,1,1),this.addPieceDefinitionRotationPointSet(r.x4356952734068014821x,0,0,0,0,0,0,0,0),this.setPieceDefinitionRotationalSymmetry(r.x4356952734068014821x,r.x3162409397689077297x,0,0),this.addPieceDefinition("O",r.x464963540126332034x),this.addPieceDefinitionMino(r.x464963540126332034x,0,0),this.addPieceDefinitionMino(r.x464963540126332034x,-1,0),this.addPieceDefinitionMino(r.x464963540126332034x,0,1),this.addPieceDefinitionMino(r.x464963540126332034x,-1,1),this.addPieceDefinitionRotationPointSet(r.x464963540126332034x,1,-1,0,-1,0,0,1,0),this.setPieceDefinitionRotationalSymmetry(r.x464963540126332034x,r.x883257587842153100x,0,1),this.addPieceDefinition("S",r.x3147028265582430196x),this.addPieceDefinitionMino(r.x3147028265582430196x,0,0),this.addPieceDefinitionMino(r.x3147028265582430196x,0,1),this.addPieceDefinitionMino(r.x3147028265582430196x,-1,0),this.addPieceDefinitionMino(r.x3147028265582430196x,1,1),this.addPieceDefinitionRotationPointSet(r.x3147028265582430196x,0,-1,0,0,0,0,1,0),this.setPieceDefinitionRotationalSymmetry(r.x3147028265582430196x,r.x314415129552216057x,0,1),this.addPieceDefinition("T",r.x430147064004821695x),this.addPieceDefinitionMino(r.x430147064004821695x,0,0),this.addPieceDefinitionMino(r.x430147064004821695x,0,1),this.addPieceDefinitionMino(r.x430147064004821695x,-1,0),this.addPieceDefinitionMino(r.x430147064004821695x,1,0),this.addPieceDefinitionRotationPointSet(r.x430147064004821695x,0,0,0,0,0,0,0,0),this.setPieceDefinitionRotationalSymmetry(r.x430147064004821695x,r.x3162409397689077297x,0,0),this.addPieceDefinition("Z",r.x358991450269824247x),this.addPieceDefinitionMino(r.x358991450269824247x,0,0),this.addPieceDefinitionMino(r.x358991450269824247x,0,1),this.addPieceDefinitionMino(r.x358991450269824247x,1,0),this.addPieceDefinitionMino(r.x358991450269824247x,-1,1),this.addPieceDefinitionRotationPointSet(r.x358991450269824247x,0,-1,0,0,0,0,1,0),this.setPieceDefinitionRotationalSymmetry(r.x358991450269824247x,r.x314415129552216057x,0,1)}},i.addPieceDefinition=function(t,e){if(!this.getPieceDefinition(e)){var i=new n(t,e,this.mMatrixWidth,this.mMatrixHeight);this.mPieceDefinitions.push(i)}},i.addPieceDefinitionMino=function(t,e,i){this.getPieceDefinition(t).addMino(e,i)},i.addPieceDefinitionRotationPointSet=function(t,e,i,n,r,s,a,o,x){this.getPieceDefinition(t).addRotationPointSet(e,i,n,r,s,a,o,x)},i.setPieceDefinitionRotationalSymmetry=function(t,e,i,n){this.getPieceDefinition(t).setRotationalSymmetry(e,i,n)},i.processPieceDefinitions=function(){for(var t=this.mPieceDefinitions.length,e=0;e<t;e++)this.mPieceDefinitions[e].processAllTransforms()},i.getPieceDefinition=function(t){for(var e,i=this.mPieceDefinitions.length,n=0;n<i;n++)if((e=this.mPieceDefinitions[n]).getTypeId()==t)return e;return null},i.getPieceTypeId=function(t){for(var e,i=this.mPieceDefinitions.length,n=0;n<i;n++)if((e=this.mPieceDefinitions[n]).getTypeName()==t)return e.getTypeId();return 0},i.getMaxNumTransforms=function(){return this.mMaxNumTransforms},i.isTransformValid=function(t,e){return this.getPiece(t,e)},i.areTransformsEquivalent=function(t,e,i){if(e==i)return!0;var n=this.getPiece(t,e);return!!n&&n.isEquivalentTransformId(i)},i.getPiece=function(t,e){var i=null;return this.mCachedPieceDefinition&&this.mCachedPieceDefinition.getTypeId()==t||(this.mCachedPieceDefinition=this.getPieceDefinition(t)),(i=this.mCachedPieceDefinition)?i.getPieceForTransformId(e):null},i.getNameForPieceTypeId=function(t){var e=this.getPieceDefinition(t);return e?e.getTypeName():"x"},i.getMaxFacingForPieceTypeId=function(t){return r.x412600297092622044x},i.computeTransformId=function(t,e,i){return r.computeTransformId(t,e,this.mMatrixWidth,0,i)},i.computeXFromTransformId=function(t){return r.computeXFromTransformId(t,this.mMatrixWidth,0)},i.computeYFromTransformId=function(t){return r.computeYFromTransformId(t,this.mMatrixWidth,0)},i.debug_printPieceDataInfo=function(){},i.destroyPieceDefinitions=function(){for(var t,e=this.mPieceDefinitions.length,i=0;i<e;i++)(t=this.mPieceDefinitions[i]).destroy(),null!==t&&(t=null);this.mPieceDefinitions.length=0},i.destroy=function(){this.isDestroyed()||(this.destroyPieceDefinitions(),this.mIsDestroyed=!0)},e(t,null,[{key:"x4357731673361944875x",get:function(){return 1}},{key:"x524571837671702382x",get:function(){return 2}},{key:"x3383519244866353854x",get:function(){return 3}},{key:"x4210478061725238558x",get:function(){return 0}},{key:"x798121976975155150x",get:function(){return 1}},{key:"x673926965035525542x",get:function(){return 2}}]),t}()),i._RF.pop()}}})),System.register("chunks:///_virtual/x3973692155170160649x.ts",["cc","./x3346104609488210493x.ts","./x320340878522392644x.ts","./x1718613705059416825x.ts","./x935098930897063106x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.cclegacy},function(t){i=t.x3346104609488210493x},function(t){n=t.x320340878522392644x},function(t){r=t.x1718613705059416825x},function(t){s=t.x935098930897063106x}],execute:function(){e._RF.push({},"ec719ZXEeVMe6C//5d9TYyH","x3973692155170160649x",void 0),t("x3973692155170160649x",function(){function t(t,e,i,n){this.mMinos=new Array,this.mRotationPointSets=new Array,this.mPiecesByTransform=new Array,this.mFirstValidPiecePerFacing=new Array,this.mIsDestroyed=!1,this.mTypeName=t,this.mTypeId=e,this.mMatrixWidth=i,this.mMatrixHeight=n,this.mMinTransformId=this.computeTransformId(0,0,s.x2628258654593101865x),this.mMaxTransformId=this.computeTransformId(i-1,n-1,s.x412600297092622044x),this.mMinMinoX=1e6,this.mMaxMinoX=-1e6,this.mMinMinoY=1e6,this.mMaxMinoY=-1e6,this.mRotationalSymmetryType=s.x3162409397689077297x,this.mRotationalSymmetryXOffset=0,this.mRotationalSymmetryYOffset=0,this.mDidProcessAllTransforms=!1}var e=t.prototype;return e.isDestroyed=function(){return this.mIsDestroyed},e.getTypeName=function(){return this.mTypeName},e.getTypeId=function(){return this.mTypeId},e.addMino=function(t,e){var n=new i;n.mX=t,n.mY=e,this.mMinos.push(n),t<this.mMinMinoX&&(this.mMinMinoX=t),t>this.mMaxMinoX&&(this.mMaxMinoX=t),e<this.mMinMinoY&&(this.mMinMinoY=e),e>this.mMaxMinoY&&(this.mMaxMinoY=e),this.recalculateStickyBits()},e.getNumMinos=function(){return this.mMinos.length},e.getMino=function(t){return this.mMinos[t]},e.addRotationPointSet=function(t,e,i,n,s,a,o,x){var u=new r;u.setPoints(t,e,i,n,s,a,o,x),this.mRotationPointSets.push(u)},e.getNumRotationPointSets=function(){return this.mRotationPointSets.length},e.getRotationPointSet=function(t){return this.mRotationPointSets[t]},e.getRotationalSymmetryType=function(){return this.mRotationalSymmetryType},e.getRotationalSymmetryXOffset=function(){return this.mRotationalSymmetryXOffset},e.getRotationalSymmetryYOffset=function(){return this.mRotationalSymmetryYOffset},e.setRotationalSymmetry=function(t,e,i){this.mRotationalSymmetryType=t,this.mRotationalSymmetryXOffset=e,this.mRotationalSymmetryYOffset=i},e.doesFitInMatrix=function(t,e,i){var n=0,r=0,a=0,o=0;switch(i){case s.x2628258654593101865x:n=t+this.mMinMinoX,r=t+this.mMaxMinoX,a=e+this.mMinMinoY,o=e+this.mMaxMinoY;break;case s.x1916765820450533320x:n=t+this.mMinMinoY,r=t+this.mMaxMinoY,a=e+-this.mMaxMinoX,o=e+-this.mMinMinoX;break;case s.x2731137289200737929x:n=t+-this.mMaxMinoX,r=t+-this.mMinMinoX,a=e+-this.mMaxMinoY,o=e+-this.mMinMinoY;break;case s.x412600297092622044x:n=t+-this.mMaxMinoY,r=t+-this.mMinMinoY,a=e+this.mMinMinoX,o=e+this.mMaxMinoX}return!(n<0||r>=this.mMatrixWidth||a<0||o>=this.mMatrixHeight)},e.processAllTransforms=function(){if(!this.mDidProcessAllTransforms){for(this.mPiecesByTransform.length=0;this.mPiecesByTransform.length<this.mMaxTransformId+1;)this.mPiecesByTransform.push(null);var t,e,i,r=null,a=this.getNumRotationPointSets();for(t=0;t<this.mMatrixWidth;t++)for(e=0;e<this.mMatrixHeight;e++)for(i=s.x2628258654593101865x;i<=s.x412600297092622044x;i++)this.doesFitInMatrix(t,e,i)&&(r=new n(this,t,e,this.mMatrixWidth,0,i),this.mPiecesByTransform[r.mTransformId]=r);for(t=0;t<this.mMatrixWidth;t++)for(e=0;e<this.mMatrixHeight;e++)for(i=s.x2628258654593101865x;i<=s.x412600297092622044x;i++){var o=this.computeTransformId(t,e,i);if(r=this.getPieceForTransformId(o)){for(var x=t,u=e,c=i,l=0,h=0;h<s.x3481742426804344834x;h++){switch(h){case s.x2188308603787436809x:x=t,u=e,c=i;break;case s.x6186470261287628x:x=t-1,u=e,c=i;break;case s.x3456892050383260575x:x=t+1,u=e,c=i;break;case s.x507072717885954088x:x=t,u=e-1,c=i;break;case s.x3167162611594866431x:case s.x3953239339428559355x:case s.x2450176556276397876x:case s.x888663733163945405x:case s.x1115856437915338497x:if((l=h-s.x3167162611594866431x)>=a)continue;c=s.rotateFacing90(i,!0),x=t+this.getRotationPointSet(l).getXOffsetForRotation(i,c),u=e+this.getRotationPointSet(l).getYOffsetForRotation(i,c);break;case s.x387986882668060794x:case s.x1888136233739803425x:case s.x2407034334825857632x:case s.x1821014729543822421x:case s.x1931939176009776912x:if((l=h-s.x387986882668060794x)>=a)continue;c=s.rotateFacing90(i,!1),x=t+this.getRotationPointSet(l).getXOffsetForRotation(i,c),u=e+this.getRotationPointSet(l).getYOffsetForRotation(i,c)}if(this.doesFitInMatrix(x,u,c)){var m=this.computeTransformId(x,u,c);this.getPieceForTransformId(m)&&(r.mPerTransformActionToTransformIds[h]=m)}}var g=this.mRotationalSymmetryType;if(g==s.x314415129552216057x||g==s.x883257587842153100x){var f,d,p,S,y,P=i,I=this.mRotationalSymmetryXOffset,v=this.mRotationalSymmetryYOffset;if(g==s.x314415129552216057x)P=s.rotateFacing90(P,!0),P=s.rotateFacing90(P,!0),p=t-(f=s.getPointXForFacingRotation(I,v,s.x2628258654593101865x,P)),S=e-(d=s.getPointYForFacingRotation(I,v,s.x2628258654593101865x,P)),this.isCellInsideMatrix(p,S)&&(y=this.computeTransformId(p,S,P),this.getPieceForTransformId(y)&&r.addEquivalentTransformId(y));else{var M,V,T;p=t+(f=s.getPointXForFacingRotation(I,v,s.x2628258654593101865x,i)),S=e+(d=s.getPointYForFacingRotation(I,v,s.x2628258654593101865x,i)),P=s.rotateFacing90(P,!0);for(var C=0;C<3;C++)this.isCellInsideMatrix(p,S)&&(y=this.computeTransformId(p,S,P),this.getPieceForTransformId(y)&&r.addEquivalentTransformId(y)),M=P,P=s.rotateFacing90(P,!0),V=f,T=d,p+=f=s.getPointXForFacingRotation(V,T,M,P),S+=d=s.getPointYForFacingRotation(V,T,M,P)}}}}for(this.mFirstValidPiecePerFacing.length=0;this.mFirstValidPiecePerFacing.length<4;)this.mFirstValidPiecePerFacing.push(null);for(i=s.x2628258654593101865x;i<=s.x412600297092622044x;i++)for(e=0;e<this.mMatrixHeight;e++)for(t=0;t<this.mMatrixWidth;t++)(r=this.getPieceForTransformId(this.computeTransformId(t,e,i)))&&(this.mFirstValidPiecePerFacing[i]=r,t=this.mMatrixWidth,e=this.mMatrixHeight);this.mDidProcessAllTransforms=!0}},e.getPiece=function(t,e,i){return this.getPieceForTransformId(this.computeTransformId(t,e,i))},e.getPieceForTransformId=function(t){return t==s.x703179871846962360x||t<this.mMinTransformId||t>this.mMaxTransformId?null:this.mPiecesByTransform[t]},e.getFirstValidPieceForFacing=function(t){return this.mFirstValidPiecePerFacing[t]},e.debug_printPieceMinoPositions=function(){},e.debug_printPieceMinMinoXY=function(){},e.debug_printPieceMaxMinoXY=function(){},e.debug_printPieceRotationOffsets=function(){},e.recalculateStickyBits=function(){var t,e,i,n=this.getNumMinos();for(i=0;i<n;i++)(t=this.getMino(i)).mStickyBits=0;for(i=0;i<n;i++){t=this.getMino(i);for(var r=i+1;r<n;r++)(e=this.getMino(r)).mX-t.mX==0&&e.mY-t.mY==1&&(t.mStickyBits|=s.x2663672270180766169x,e.mStickyBits|=s.x2949016828512819336x),e.mX-t.mX==1&&e.mY-t.mY==1&&(t.mStickyBits|=s.x2332351171371648974x,e.mStickyBits|=s.x3825112663077443543x),e.mX-t.mX==1&&e.mY-t.mY==0&&(t.mStickyBits|=s.x4374508417979542563x,e.mStickyBits|=s.x1751838633768770123x),e.mX-t.mX==1&&e.mY-t.mY==-1&&(t.mStickyBits|=s.x625698839261226640x,e.mStickyBits|=s.x2624047636006164864x),e.mX-t.mX==0&&e.mY-t.mY==-1&&(t.mStickyBits|=s.x2949016828512819336x,e.mStickyBits|=s.x2663672270180766169x),e.mX-t.mX==-1&&e.mY-t.mY==-1&&(t.mStickyBits|=s.x3825112663077443543x,e.mStickyBits|=s.x2332351171371648974x),e.mX-t.mX==-1&&e.mY-t.mY==0&&(t.mStickyBits|=s.x1751838633768770123x,e.mStickyBits|=s.x4374508417979542563x),e.mX-t.mX==-1&&e.mY-t.mY==1&&(t.mStickyBits|=s.x2624047636006164864x,e.mStickyBits|=s.x625698839261226640x)}for(i=0;i<n;i++)(t=this.getMino(i)).mStickyBits=s.validateStickyBits(t.mStickyBits)},e.computeTransformId=function(t,e,i){return s.computeTransformId(t,e,this.mMatrixWidth,0,i)},e.isCellInsideMatrix=function(t,e){return!(t<0||t>=this.mMatrixWidth||e<0||e>=this.mMatrixHeight)},e.destroy=function(){if(!this.isDestroyed()){var t;for(t=0;t<this.mMinos.length;t++){var e=this.mMinos[t];null!==e&&(e=null)}for(this.mMinos.length=0,t=0;t<this.mRotationPointSets.length;t++){var i=this.mRotationPointSets[t];null!==i&&(i=null)}this.mRotationPointSets.length=0;var n=this.mPiecesByTransform.length;for(t=0;t<n;t++)this.mPiecesByTransform[t];this.mIsDestroyed=!0}},t}()),e._RF.pop()}}})),System.register("chunks:///_virtual/x1718613705059416825x.ts",["cc","./x935098930897063106x.ts"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.x935098930897063106x}],execute:function(){e._RF.push({},"7fc224M/cVG5oYLE15hKM5l","x1718613705059416825x",void 0),t("x1718613705059416825x",function(){function t(){this.setPoints(0,0,0,0,0,0,0,0)}var e=t.prototype;return e.setPoints=function(t,e,i,n,r,s,a,o){this.mNorthX=t,this.mNorthY=e,this.mEastX=i,this.mEastY=n,this.mSouthX=r,this.mSouthY=s,this.mWestX=a,this.mWestY=o},e.getXOffsetForFacing=function(t){switch(t){case i.x2628258654593101865x:return this.mNorthX;case i.x1916765820450533320x:return this.mEastX;case i.x2731137289200737929x:return this.mSouthX;case i.x412600297092622044x:return this.mWestX;default:return 0}},e.getYOffsetForFacing=function(t){switch(t){case i.x2628258654593101865x:return this.mNorthY;case i.x1916765820450533320x:return this.mEastY;case i.x2731137289200737929x:return this.mSouthY;case i.x412600297092622044x:return this.mWestY;default:return 0}},e.getXOffsetForRotation=function(t,e){return this.getXOffsetForFacing(e)-this.getXOffsetForFacing(t)},e.getYOffsetForRotation=function(t,e){return this.getYOffsetForFacing(e)-this.getYOffsetForFacing(t)},t}()),e._RF.pop()}}})),System.register("chunks:///_virtual/x1235144961025176902x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x887952276100355392x.ts","./x320340878522392644x.ts","./x935098930897063106x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x887952276100355392x},function(t){s=t.x320340878522392644x},function(t){a=t.x935098930897063106x}],execute:function(){n._RF.push({},"114b3Io041EZ4DSEy/Fmes5","x1235144961025176902x",void 0),t("x1235144961025176902x",function(t){function n(e,i,n,r,s){var o;(o=t.call(this,e,i,n,r)||this).mPerCellInfo=new Array,o.mPerColumnInfo=new Array,o.mPerTransformInfo=new Array,o.mTargetTransforms=new Array,o.mReachableTransforms=new Array,o.mPerCellTargetTransforms=new Array,o.mPerCellReachableTransformsByEvaluationScore=new Array,o.mPerColumnReachableTransformsByEvaluationScore=new Array,o.mPerTransformPaths=new Array,o.mPerTransformEvaluationScore=new Array,o.mScratchMatrixCellIndexStack=new Array,o.mScratchTransformStack=new Array,o.mScratchActionStack=new Array,o.mScratchPerTransformActionStacks=new Array,o.mScratchPath=new Array,o.mTargetsRequireTouchDown=s,o.mMaxTargetFacing=0;var x=o.mMatrixWidth*o.mMatrixHeight;for(o.mPerCellInfo.length=0;o.mPerCellInfo.length<x;)o.mPerCellInfo.push(0);for(o.mPerColumnInfo.length=0;o.mPerColumnInfo.length<o.mMatrixWidth;)o.mPerColumnInfo.push(0);var u=e.getMaxNumTransforms();for(o.mPerTransformInfo.length=0;o.mPerTransformInfo.length<u;)o.mPerTransformInfo.push(0);for(o.mReachableTransformsAreClean=!1,o.mDidSortReachableTransformsByEvaluationScore=!1,o.mPerCellTargetTransforms.length=0;o.mPerCellTargetTransforms.length<x;)o.mPerCellTargetTransforms.push(null);for(o.mPerCellReachableTransformsByEvaluationScore.length=0;o.mPerCellReachableTransformsByEvaluationScore.length<x;)o.mPerCellReachableTransformsByEvaluationScore.push(null);var c,l=null;for(c=0;c<x;c++)l=new Array,o.mPerCellTargetTransforms[c]=l,l=new Array,o.mPerCellReachableTransformsByEvaluationScore[c]=l;for(o.mPerColumnReachableTransformsByEvaluationScore.length=0;o.mPerColumnReachableTransformsByEvaluationScore.length<o.mMatrixWidth;)o.mPerColumnReachableTransformsByEvaluationScore.push(null);for(c=0;c<o.mMatrixWidth;c++)l=new Array,o.mPerColumnReachableTransformsByEvaluationScore[c]=l;for(o.mPerTransformPaths.length=0;o.mPerTransformPaths.length<u;)o.mPerTransformPaths.push(null);for(var h=0;h<n;h++)for(var m=0;m<i;m++)for(var g=a.x2628258654593101865x;g<=a.x412600297092622044x;g++){var f=new Array;o.mPerTransformPaths[o.mPieceData.computeTransformId(m,h,g)]=f}for(o.mPerTransformEvaluationScore.length=0;o.mPerTransformEvaluationScore.length<u;)o.mPerTransformEvaluationScore.push(0);for(o.mEvaluator=null,o.mIsEvaluatorOwner=!1,o.mScratchMatrixCellIndexStack.length=0;o.mScratchMatrixCellIndexStack.length<x;)o.mScratchMatrixCellIndexStack.push(0);for(o.mScratchMatrixCellIndexStackTop=-1,o.mScratchTransformStack.length=0;o.mScratchTransformStack.length<u;)o.mScratchTransformStack.push(0);for(o.mScratchActionStack.length=0;o.mScratchActionStack.length<u;)o.mScratchActionStack.push(0);for(o.mScratchTransformStackTop=-1,o.mScratchPerTransformActionStacks.length=0;o.mScratchPerTransformActionStacks.length<u;)o.mScratchPerTransformActionStacks.push(null);for(c=0;c<u;c++){var d=new Array;o.mScratchPerTransformActionStacks[c]=d}return o.mParameter_evaluation_singleLineClear=120,o.mParameter_evaluation_doubleLineClear=140,o.mParameter_evaluation_tripleLineClear=160,o.mParameter_evaluation_tetrisLineClear=180,o.mParameter_evaluation_perTouchedNSurface=10,o.mParameter_evaluation_perTouchedSSurface=10,o.mParameter_evaluation_perTouchedESurface=0,o.mParameter_evaluation_perTouchedWSurface=0,o.mParameter_evaluation_perRowFit=0,o.mParameter_evaluation_touchingRightWall=0,o.mParameter_evaluation_perCave=0,o.mParameter_evaluation_holeCheckDepthLimit=-1,o.mParameter_evaluation_perHole=0,o.mParameter_evaluation_perCoveredISlotDepth=0,o.mParameter_evaluation_coveredISlotMaxTopDepth=0,o.mParameter_evaluation_coveredISlotMaxSize=4,o.mParameter_evaluation_NFacingVSEquivalent=2,o.mParameter_evaluation_maxMinoYMultiplier=0,o.mParameter_evaluation_digModeActivationHeight=999999,o.mParameter_evaluation_referenceXDistancePenalty=1,o}e(n,t);var o=n.prototype;return o.copyParameters=function(t){this.mParameter_evaluation_singleLineClear=t.mParameter_evaluation_singleLineClear,this.mParameter_evaluation_doubleLineClear=t.mParameter_evaluation_doubleLineClear,this.mParameter_evaluation_tripleLineClear=t.mParameter_evaluation_tripleLineClear,this.mParameter_evaluation_tetrisLineClear=t.mParameter_evaluation_tetrisLineClear,this.mParameter_evaluation_perTouchedNSurface=t.mParameter_evaluation_perTouchedNSurface,this.mParameter_evaluation_perTouchedSSurface=t.mParameter_evaluation_perTouchedSSurface,this.mParameter_evaluation_perTouchedESurface=t.mParameter_evaluation_perTouchedESurface,this.mParameter_evaluation_perTouchedWSurface=t.mParameter_evaluation_perTouchedWSurface,this.mParameter_evaluation_perRowFit=t.mParameter_evaluation_perRowFit,this.mParameter_evaluation_touchingRightWall=t.mParameter_evaluation_touchingRightWall,this.mParameter_evaluation_perCave=t.mParameter_evaluation_perCave,this.mParameter_evaluation_holeCheckDepthLimit=t.mParameter_evaluation_holeCheckDepthLimit,this.mParameter_evaluation_perHole=t.mParameter_evaluation_perHole,this.mParameter_evaluation_perCoveredISlotDepth=t.mParameter_evaluation_perCoveredISlotDepth,this.mParameter_evaluation_coveredISlotMaxTopDepth=t.mParameter_evaluation_coveredISlotMaxTopDepth,this.mParameter_evaluation_coveredISlotMaxSize=t.mParameter_evaluation_coveredISlotMaxSize,this.mParameter_evaluation_NFacingVSEquivalent=t.mParameter_evaluation_NFacingVSEquivalent,this.mParameter_evaluation_maxMinoYMultiplier=t.mParameter_evaluation_maxMinoYMultiplier,this.mParameter_evaluation_digModeActivationHeight=t.mParameter_evaluation_digModeActivationHeight,this.mParameter_evaluation_referenceXDistancePenalty=t.mParameter_evaluation_referenceXDistancePenalty,this.mEvaluator&&(this.mIsEvaluatorOwner&&this.mEvaluator.destroy(),this.mEvaluator=null),this.mEvaluator=t.mEvaluator,this.mIsEvaluatorOwner=!1},o.setEvaluator=function(t,e){this.mEvaluator=t,this.mIsEvaluatorOwner=e},o.startStateEvaluation=function(t){this.resetStateWithState(t),this.mMaxTargetFacing=this.mPieceData.getMaxFacingForPieceTypeId(this.mLivePieceTypeId),this.mTargetTransforms.length=0,this.mReachableTransforms.length=0;var e=this.mMatrixWidth*this.mMatrixHeight,i=0;for(i=0;i<e;i++)this.mPerCellInfo[i]=0,this.mPerCellTargetTransforms[i].length=0,this.mPerCellReachableTransformsByEvaluationScore[i].length=0;for(i=0;i<this.mMatrixWidth;i++)this.mPerColumnInfo[i]=0,this.mPerColumnReachableTransformsByEvaluationScore[i].length=0;for(var r=this.mPieceData.getMaxNumTransforms(),s=0;s<r;s++)this.mPerTransformInfo[s]=0,this.mPerTransformEvaluationScore[s]=n.x3717700300694563091x,this.mPerTransformPaths[s].length=0;this.mReachableTransformsAreClean=!0,this.mDidSortReachableTransformsByEvaluationScore=!1},o.processStateEvaluation=function(){return this.processFindTargetTransforms()},o.isCellInsideMatrix=function(t,e){return!(t<0||t>=this.mMatrixWidth||e<0||e>=this.mMatrixHeight)},o.doesCellCollide=function(t,e){return!this.isCellInsideMatrix(t,e)||0!=this.mMatrixMinos[a.computeGridIndex(t,e,this.mMatrixWidth)]},o.doesTransformTouchBelow=function(t,e,i){return!(e>0)||this.doesTransformCollide(this.mPieceData.computeTransformId(t,e-1,i))},o.doesTransformCollide=function(t){if(this.mPerTransformInfo[t]&n.x1484302216242451534x)return!!(this.mPerTransformInfo[t]&n.x497544163502729430x);this.mPerTransformInfo[t]=this.mPerTransformInfo[t]|n.x1484302216242451534x;var e=this.mPieceData.getPiece(this.mLivePieceTypeId,t);return e?!!this.doesPieceCollide(e)&&(this.mPerTransformInfo[t]=this.mPerTransformInfo[t]|n.x497544163502729430x,!0):(this.mPerTransformInfo[t]=this.mPerTransformInfo[t]|n.x497544163502729430x,!0)},o.getBestTransform=function(t,e,i){if(!this.mDidSortReachableTransformsByEvaluationScore){for(var n,r=this.mTargetTransforms.length,s=0;s<r;s++)n=this.mTargetTransforms[s],this.isTransformReachable(n);var a=this.mReachableTransforms.length;a>1&&this.sortTransformsByEvaluationScore(this.mReachableTransforms,0,a-1,-1,-1),this.mDidSortReachableTransformsByEvaluationScore=!0}return this.getIndexedTransformFromArray(this.mReachableTransforms,-1,-1,!1,t,0,e,i)},o.getBestTransformForCell=function(t,e,i,r,s,o){if(!this.isCellInsideMatrix(t,e))return a.x703179871846962360x;if(!(this.mPerCellInfo[a.computeGridIndex(t,e,this.mMatrixWidth)]&n.x3660419043132634078x))return a.x703179871846962360x;var x=this.getReachableTransformsForCellByEvaluationScore(t,e);return this.getIndexedTransformFromArray(x,t,e,i,r,0,s,o)},o.getBestTransformForColumn=function(t,e,i,n,r){if(!this.isCellInsideMatrix(t,0))return a.x703179871846962360x;var s=this.getReachableTransformsForColumnByEvaluationScore(t);return this.getIndexedTransformFromArray(s,t,0,e,i,0,n,r)},o.getNextReachableTransformForColumn=function(t,e,i){if(!this.isCellInsideMatrix(e,0)||t==a.x703179871846962360x)return a.x703179871846962360x;var n=this.getReachableTransformsForColumnByEvaluationScore(e),r=n.length;if(r<=1)return t;var s=a.rotateFacing90(a.computeFacingFromTransformId(i),!1),o=a.computeGridIndex(this.mPieceData.computeXFromTransformId(t),this.mPieceData.computeYFromTransformId(t),this.mMatrixWidth),x=a.computeFacingFromTransformId(t);x>s&&(x-=4);for(var u=this.mMatrixWidth*this.mMatrixHeight,c=0;c<r;c++)if(this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,t,n[c])){for(var l=1e6,h=t,m=0;m<r;m++)if(m!=c){var g=n[m],f=this.mPieceData.getPiece(this.mLivePieceTypeId,g);if(!(r>5&&0!=m&&g!=i)||f.hasEquivalanceForX(e)){var d,p=a.computeGridIndex(this.mPieceData.computeXFromTransformId(g),this.mPieceData.computeYFromTransformId(g),this.mMatrixWidth)-o,S=a.computeFacingFromTransformId(g);S>s&&(S-=4),d=S-x,(p<0||0==p&&d<0)&&(p+=u);var y=4*p+d;y<l&&(l=y,h=g)}}return h}return t},o.getBestActionsForTransform=function(t,e,i,r,s){var o=a.x577419185584297276x;if(e.length=0,t==a.x703179871846962360x)return s&&e.push(o),!1;var x=0,u=0,c=0;if(this.mPieceData.isTransformValid(this.mLivePieceTypeId,t)){if(this.mPerTransformInfo[t]&n.x160379917352277439x){if(!(this.mPerTransformInfo[t]&n.x519456577154873311x))return s&&e.push(o),!1}else if(!this.isTransformReachable(t))return s&&e.push(o),!1;var l,h,m=this.mPerTransformPaths[t],g=~~(m.length/2);if((i||r)&&g>2){var f,d;if(this.mScratchPath.length=0,i)for(x=0;x<g;x++){var p=!1;if(l=m[2*x],h=m[2*x+1],g-x>=3)switch(l){case a.x3167162611594866431x:case a.x387986882668060794x:m[2*(x+1)]==l&&m[2*(x+2)]==l&&(l=l==a.x3167162611594866431x?a.x387986882668060794x:a.x3167162611594866431x,this.mScratchPath.push(l),x+=2,p=!0)}if(!p){for(u=x+1;u<g;u++){if((d=m[2*u+1])==h){this.mScratchPath.push(l),x=u,p=!0;break}if(u>x+1){if((f=this.getMoveAction(h,d))!=a.x1070305803274997772x){this.mScratchPath.push(l),this.mScratchPath.push(f),x=u,p=!0;break}if((f=this.getRotateAction(h,d))!=a.x1070305803274997772x){this.mScratchPath.push(l),this.mScratchPath.push(f),x=u,p=!0;break}}}p||this.mScratchPath.push(l)}}else for(x=0;x<g;x++)l=m[2*x],h=m[2*x+1],this.mScratchPath.push(l);if(r){for(;this.mScratchPath[this.mScratchPath.length-1]==a.x507072717885954088x;)this.mScratchPath.pop();l=a.x577419185584297276x,this.mScratchPath.push(l)}for(c=this.mScratchPath.length,x=0;x<c;x++)l=this.mScratchPath[x],e.push(l)}else for(x=0;x<g;x++)l=m[2*x],e.push(l)}return c=e.length,!s||0!=c&&e[c-1]==a.x577419185584297276x||e.push(o),c>0||this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,this.mLivePieceStartingTransformId,t)},o.getTransformEvaluationScore=function(t,e,i){if(t==a.x703179871846962360x)return n.x3717700300694563091x;var r=this.mPieceData.getPiece(this.mLivePieceTypeId,t),s=0;if(this.mPerTransformInfo[t]&n.x2577165372018099466x)s=this.mPerTransformEvaluationScore[t];else{var o=this.mMatrixHighestMinoY>this.mParameter_evaluation_digModeActivationHeight,x=this.getCompleteLinesForPiece(r);if(x>0)if(o)s+=this.mParameter_evaluation_tetrisLineClear;else switch(x){case 1:s+=this.mParameter_evaluation_singleLineClear;break;case 2:s+=this.mParameter_evaluation_doubleLineClear;break;case 3:s+=this.mParameter_evaluation_tripleLineClear;break;default:s+=this.mParameter_evaluation_tetrisLineClear}var u=this.getTouchingSurfacesForPiece(r,0,1),c=this.getTouchingSurfacesForPiece(r,0,-1),l=this.getTouchingSurfacesForPiece(r,1,0),h=this.getTouchingSurfacesForPiece(r,-1,0);switch(s+=u*this.mParameter_evaluation_perTouchedNSurface,s+=c*this.mParameter_evaluation_perTouchedSSurface,s+=l*this.mParameter_evaluation_perTouchedESurface,s+=h*this.mParameter_evaluation_perTouchedWSurface,s+=this.getRowFitsForPiece(r)*this.mParameter_evaluation_perRowFit,(o?0:this.getRightWallTouchesForPiece(r))>0&&(s+=this.mParameter_evaluation_touchingRightWall),s+=this.getCavesForPiece(r)*this.mParameter_evaluation_perCave,s+=this.getHolesForPiece(r,this.mParameter_evaluation_holeCheckDepthLimit)*this.mParameter_evaluation_perHole,s+=this.getCoveredISlotDepthForPiece(r,this.mParameter_evaluation_coveredISlotMaxTopDepth,this.mParameter_evaluation_coveredISlotMaxSize)*this.mParameter_evaluation_perCoveredISlotDepth,r.mFacing){case a.x2731137289200737929x:case a.x1916765820450533320x:case a.x412600297092622044x:r.hasEquivalenceForFacing(a.x2628258654593101865x)&&(s+=this.mParameter_evaluation_NFacingVSEquivalent)}s+=r.mMaxMinoY*this.mParameter_evaluation_maxMinoYMultiplier,this.mEvaluator&&(s=this.mEvaluator.x1724429357674260852x(t,r.mX,r.mY,r.mFacing,s)),this.mPerTransformInfo[t]=this.mPerTransformInfo[t]|n.x2577165372018099466x,this.mPerTransformEvaluationScore[t]=s}var m=0;return e>=0&&(m-=(r.mX-e>=0?r.mX-e:-(r.mX-e))*this.mParameter_evaluation_referenceXDistancePenalty),this.mEvaluator&&(m=this.mEvaluator.x4274721454799395964x(t,r.mX,r.mY,r.mFacing,e,i,m)),s+m},o.resetReachableTransforms=function(t,e,i){var r=this.mPieceData.computeTransformId(t,e,i);if(this.mLivePieceStartingTransformId!=r&&(this.mLivePieceStartingX=t,this.mLivePieceStartingY=e,this.mLivePieceStartingFacing=i,this.mLivePieceStartingTransformId=r,!this.mReachableTransformsAreClean)){var s=0,a=this.mMatrixWidth*this.mMatrixHeight;for(s=0;s<a;s++)this.mPerCellInfo[s]&n.x3660419043132634078x&&(this.mPerCellInfo[s]=this.mPerCellInfo[s]&~(n.x108892220917982102x|n.x1702937605686962687x),this.mPerCellReachableTransformsByEvaluationScore[s].length=0);for(a=this.mReachableTransforms.length,s=0;s<a;s++)r=this.mReachableTransforms[s],this.mPerTransformInfo[r]=this.mPerTransformInfo[r]&~(n.x2025471986223742903x|n.x160379917352277439x|n.x519456577154873311x);this.mReachableTransforms.length=0,this.mReachableTransformsAreClean=!0,this.mDidSortReachableTransformsByEvaluationScore=!1}},o.startFindTargetTransforms=function(){},o.processFindTargetTransforms=function(){var t=0,e=0,i=0,r=0,s=a.computeGridIndex(this.mLivePieceStartingX,this.mLivePieceStartingY,this.mMatrixWidth);for(this.mScratchMatrixCellIndexStackTop=-1,this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop]=s;this.mScratchMatrixCellIndexStackTop>=0;)if(s=this.mScratchMatrixCellIndexStack[this.mScratchMatrixCellIndexStackTop--],this.mPerCellInfo[s]=this.mPerCellInfo[s]|n.x512577409818320906x,0==this.mMatrixMinos[s]){t=a.computeXFromGridIndex(s,this.mMatrixWidth),(e=a.computeYFromGridIndex(s,this.mMatrixWidth))<this.mMatrixHeight-1&&(r=a.computeGridIndex(t,e+1,this.mMatrixWidth),!(this.mPerCellInfo[r]&n.x512577409818320906x)&&(this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop]=r)),t<this.mMatrixWidth-1&&(r=a.computeGridIndex(t+1,e,this.mMatrixWidth),!(this.mPerCellInfo[r]&n.x512577409818320906x)&&(this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop]=r)),e>0&&(r=a.computeGridIndex(t,e-1,this.mMatrixWidth),!(this.mPerCellInfo[r]&n.x512577409818320906x)&&(this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop]=r)),t>0&&(r=a.computeGridIndex(t-1,e,this.mMatrixWidth),!(this.mPerCellInfo[r]&n.x512577409818320906x)&&(this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop]=r));for(var o=a.x2628258654593101865x;o<=a.x412600297092622044x;o++)if(i=this.mPieceData.computeTransformId(t,e,o),!(this.mPerTransformInfo[i]&n.x3400558639072940515x)){if(o<=this.mMaxTargetFacing&&this.isTransformVisible(i)&&!this.doesTransformCollide(i)&&(!this.mTargetsRequireTouchDown||this.doesTransformTouchBelow(t,e,o))){this.mPerTransformInfo[i]=this.mPerTransformInfo[i]|n.x2151001827434182320x,this.mTargetTransforms.push(i);for(var x=this.mPieceData.getPiece(this.mLivePieceTypeId,i),u=0,c=null,l=0;l<x.mNumMinos;l++){u=x.mMinosXY[l],this.mPerCellInfo[u]=this.mPerCellInfo[u]|n.x3660419043132634078x;for(var h=(c=this.mPerCellTargetTransforms[u]).length,m=0;m<h;m++)if(c[m]==i){i=a.x703179871846962360x;break}i!=a.x703179871846962360x&&c.push(i)}}this.mPerTransformInfo[i]=this.mPerTransformInfo[i]|n.x3400558639072940515x}}return!0},o.getReachableTransformsForCellByEvaluationScore=function(t,e){if(this.doesCellCollide(t,e))return null;var i=a.computeGridIndex(t,e,this.mMatrixWidth);if(this.mPerCellInfo[i]&n.x512577409818320906x&&!(this.mPerCellInfo[i]&n.x3660419043132634078x))return null;var r=this.mPerCellReachableTransformsByEvaluationScore[i];if(this.mPerCellInfo[i]&n.x108892220917982102x)return r;for(var s,o=this.mPerCellTargetTransforms[i],x=o.length,u=0;u<x;u++)s=o[u],this.isTransformReachable(s)&&!this.doesArrayContainEquivalentTransform(r,s)&&(r.push(s),this.mPerCellInfo[i]=this.mPerCellInfo[i]|n.x1702937605686962687x);var c=r.length;return c>1&&this.sortTransformsByEvaluationScore(r,0,c-1,t,e),this.mPerCellInfo[i]=this.mPerCellInfo[i]|n.x108892220917982102x,r},o.getReachableTransformsForColumnByEvaluationScore=function(t){if(t<0||t>=this.mMatrixWidth)return null;var e=this.mPerColumnReachableTransformsByEvaluationScore[t];if(this.mPerColumnInfo[t]&n.x1764974789172714708x)return e;for(var i=0;i<this.mMatrixHeight;i++)this.addTransformsToArray(e,this.getReachableTransformsForCellByEvaluationScore(t,i));var r=e.length;return r>1&&this.sortTransformsByEvaluationScore(e,0,r-1,t,-1),this.mPerColumnInfo[t]=this.mPerColumnInfo[t]|n.x1764974789172714708x,e},o.getNextTransformForColumn=function(t,e,i,n){var r=this.mPieceData.computeXFromTransformId(t),s=this.mPieceData.computeYFromTransformId(t),o=a.computeFacingFromTransformId(t);if(o==n){var x=e+i;return x>=this.mMatrixWidth&&(x=this.mMatrixWidth-1),r<x?this.mPieceData.computeTransformId(r+1,s,a.x2628258654593101865x):((r=e-i)<=0&&(r=0),s<this.mMatrixHeight-1?this.mPieceData.computeTransformId(r,s+1,a.x2628258654593101865x):this.mPieceData.computeTransformId(r,0,a.x2628258654593101865x))}return o=a.rotateFacing90(o,!0),this.mPieceData.computeTransformId(r,s,o)},o.doesArrayContainTransform=function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n]==e)return!0;return!1},o.doesArrayContainEquivalentTransform=function(t,e){for(var i=t.length,n=0;n<i;n++){var r=t[n];if(this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,r,e))return!0}return!1},o.getIndexedTransformFromArray=function(t,e,i,n,r,s,o,x){var u=s+o,c=t?t.length:0;if(c>0){if(!n&&r==a.x941462249058606699x)return t[u=x?a.clampInt(u,0,c-1):a.loopInt(u,0,c-1)];var l=0,h=0,m=0;for(m=0;m<c;m++)l=t[m],this.isTransformValidForCell(l,e,i,n,r)&&h++;u=x?a.clampInt(u,0,h-1):a.loopInt(u,0,h-1);var g=0;for(m=0;m<c;m++)if(l=t[m],this.isTransformValidForCell(l,e,i,n,r)){if(g==u)return l;g++}}return a.x703179871846962360x},o.isTransformValidForCell=function(t,e,i,n,r){var s=this.mPieceData.getPiece(this.mLivePieceTypeId,t);return!(e>=0&&n&&!s.hasEquivalanceForX(e)||r!=a.x941462249058606699x&&a.computeFacingFromTransformId(t)!=r&&!s.hasEquivalenceForFacing(r))},o.addTransformsToArray=function(t,e){if(t&&e)for(var i,n,r=t.length,s=e.length,a=0;a<s;a++){i=e[a],n=!1;for(var o=0;o<r;o++)if(t[o]==i){n=!0;break}n||t.push(i)}},o.isTransformReachable=function(t){if(this.mPerTransformInfo[t]&n.x160379917352277439x)return!!(this.mPerTransformInfo[t]&n.x519456577154873311x);var e,i,r=0;if(this.mPerTransformInfo[t]&n.x3400558639072940515x){if(!(this.mPerTransformInfo[t]&n.x2151001827434182320x))return this.mPerTransformInfo[t]=this.mPerTransformInfo[t]|n.x160379917352277439x,!1;for(e=this.mPieceData.getPiece(this.mLivePieceTypeId,t),i=0;i<e.mNumEquivalentTransformIds;i++)if(r=e.mEquivalentTransformIds[i],this.mPieceData.isTransformValid(this.mLivePieceTypeId,r)&&this.mPerTransformInfo[r]&n.x160379917352277439x&&!(this.mPerTransformInfo[r]&n.x519456577154873311x))return this.mPerTransformInfo[t]=this.mPerTransformInfo[t]|n.x160379917352277439x,!1}var s=!1,o=null,x=0,u=this.mLivePieceStartingX,c=this.mLivePieceStartingY,l=this.mLivePieceStartingFacing,h=this.mPieceData.computeXFromTransformId(t),m=this.mPieceData.computeYFromTransformId(t),g=a.computeFacingFromTransformId(t),f=this.mPieceData.computeTransformId(u,c,l),d=0,p=0,S=0,y=0,P=0,I=g==l;if(!I)for(x=a.isFacingRotationClockwise(l,g)?a.x3167162611594866431x:a.x387986882668060794x,i=0;i<3;i++)if(f=this.getTransformForTransformAction(f,x),a.computeFacingFromTransformId(f)==g){I=!0,y=x,P=i+1;break}if(I)for(var v=this.mPieceData.computeXFromTransformId(f),M=this.mPieceData.computeYFromTransformId(f),V=1;V>=-1;V-=2){for(var T=0;T<=this.mMatrixWidth;T++){var C=T*V,A=h+C,F=0,D=0,k=0,L=0,w=0;if(A<0||A>=this.mMatrixWidth)break;if(0!=C){if(d=this.mPieceData.computeTransformId(A,m,g),p=t,x=C>0?a.x6186470261287628x:a.x3456892050383260575x,S=T,(S=this.getTransformActionSteps(d,p,x,S))<=0)break;F=x,D=S}if(m<M){if(d=this.mPieceData.computeTransformId(A,M,g),p=this.mPieceData.computeTransformId(A,m,g),x=a.x507072717885954088x,S=M-m,(S=this.getTransformActionSteps(d,p,x,S))<=0)continue;k=S}if(v!=A){if(d=this.mPieceData.computeTransformId(v,M,g),p=this.mPieceData.computeTransformId(A,M,g),x=v>A?a.x6186470261287628x:a.x3456892050383260575x,S=v>A?v-A:A-v,(S=this.getTransformActionSteps(d,p,x,S))<=0)continue;L=x,w=S}s=!0,(o=this.mPerTransformPaths[t]).length=0,x=a.x2188308603787436809x,o.push(x),o.push(this.mLivePieceStartingTransformId);var N=this.mLivePieceStartingTransformId;for(i=0;i<P;i++)N=this.getTransformForTransformAction(N,y),o.push(y),o.push(N);for(i=0;i<w;i++)N=this.getTransformForTransformAction(N,L),o.push(L),o.push(N);for(i=0;i<k;i++)x=a.x507072717885954088x,N=this.getTransformForTransformAction(N,x),o.push(x),o.push(N);for(i=0;i<D;i++)N=this.getTransformForTransformAction(N,F),o.push(F),o.push(N);break}if(s)break}if(!s){var b=this.mPieceData.getMaxNumTransforms();for(r=0;r<b;r++)this.mPerTransformInfo[r]=this.mPerTransformInfo[r]&~n.x2025471986223742903x;var E=0,R=null;for(this.mScratchTransformStackTop=-1,this.mScratchTransformStack[++this.mScratchTransformStackTop]=this.mLivePieceStartingTransformId,this.mScratchActionStack[this.mScratchTransformStackTop]=a.x2188308603787436809x,R=this.mScratchPerTransformActionStacks[this.mScratchTransformStackTop],this.pushActionsForTarget(this.mLivePieceStartingTransformId,t,R);this.mScratchTransformStackTop>=0;)if(r=this.mScratchTransformStack[this.mScratchTransformStackTop],this.mPerTransformInfo[r]=this.mPerTransformInfo[r]|n.x2025471986223742903x,r==t){for(s=!0,(o=this.mPerTransformPaths[t]).length=0,i=0;i<=this.mScratchTransformStackTop;i++)o.push(this.mScratchActionStack[i]),o.push(this.mScratchTransformStack[i]);this.mScratchTransformStackTop=-1}else e=this.mPieceData.getPiece(this.mLivePieceTypeId,r),(R=this.mScratchPerTransformActionStacks[this.mScratchTransformStackTop]).length>0?(x=R[R.length-1],R.pop(),E=e.mPerTransformActionToTransformIds[x],this.mPieceData.isTransformValid(this.mLivePieceTypeId,E)&&(this.mScratchTransformStack[++this.mScratchTransformStackTop]=E,this.mScratchActionStack[this.mScratchTransformStackTop]=x,R=this.mScratchPerTransformActionStacks[this.mScratchTransformStackTop],this.pushActionsForTarget(E,t,R))):this.mScratchTransformStackTop--}return s&&(this.mPerTransformInfo[t]=this.mPerTransformInfo[t]|n.x519456577154873311x,this.mReachableTransforms.push(t)),this.mPerTransformInfo[t]=this.mPerTransformInfo[t]|n.x160379917352277439x,this.mReachableTransformsAreClean=!1,s},o.pushActionsForTarget=function(t,e,i){i.length=0;var n=this.mPieceData.getPiece(this.mLivePieceTypeId,t);if(n){var r=this.mPieceData.computeXFromTransformId(t),s=a.computeFacingFromTransformId(t),o=this.mPieceData.computeXFromTransformId(e),x=a.computeFacingFromTransformId(e);s==x?(this.pushRotationActions(n,s,x,i),this.pushMoveActions(n,r,o,i)):(this.pushMoveActions(n,r,o,i),this.pushRotationActions(n,s,x,i))}},o.pushMoveActions=function(t,e,i,n){e<i?(this.pushActionIfIsValid(t,a.x507072717885954088x,n),this.pushActionIfIsValid(t,a.x6186470261287628x,n),this.pushActionIfIsValid(t,a.x3456892050383260575x,n)):e>i?(this.pushActionIfIsValid(t,a.x507072717885954088x,n),this.pushActionIfIsValid(t,a.x3456892050383260575x,n),this.pushActionIfIsValid(t,a.x6186470261287628x,n)):(this.pushActionIfIsValid(t,a.x6186470261287628x,n),this.pushActionIfIsValid(t,a.x3456892050383260575x,n),this.pushActionIfIsValid(t,a.x507072717885954088x,n))},o.pushRotationActions=function(t,e,i,n){a.isFacingRotationClockwise(e,i)?(this.pushActionIfIsValid(t,this.findFirstValidRotationAction(t,!1),n),this.pushActionIfIsValid(t,this.findFirstValidRotationAction(t,!0),n)):(this.pushActionIfIsValid(t,this.findFirstValidRotationAction(t,!0),n),this.pushActionIfIsValid(t,this.findFirstValidRotationAction(t,!1),n))},o.findFirstValidRotationAction=function(t,e){var i,n,r;if(e){for(n=a.x3167162611594866431x+t.mPieceDefinition.getNumRotationPointSets()-1,i=a.x3167162611594866431x;i<=n;i++)if(r=t.mPerTransformActionToTransformIds[i],this.mPieceData.isTransformValid(this.mLivePieceTypeId,r)&&!this.doesTransformCollide(r))return i}else for(n=a.x387986882668060794x+t.mPieceDefinition.getNumRotationPointSets()-1,i=a.x387986882668060794x;i<=n;i++)if(r=t.mPerTransformActionToTransformIds[i],this.mPieceData.isTransformValid(this.mLivePieceTypeId,r)&&!this.doesTransformCollide(r))return i;return a.x1070305803274997772x},o.pushActionIfIsValid=function(t,e,i){if(e!=a.x1070305803274997772x){var r=t.mPerTransformActionToTransformIds[e];this.mPieceData.isTransformValid(this.mLivePieceTypeId,r)&&!(this.mPerTransformInfo[r]&n.x2025471986223742903x)&&!this.doesTransformCollide(r)&&i.push(e)}},o.sortTransformsByEvaluationScore=function(t,e,i,n,r){for(var s,a,o=e,x=i,u=this.getTransformEvaluationScore(t[~~((e+i)/2)],n,r);o<=x;){for(;o<=x&&this.getTransformEvaluationScore(t[o],n,r)>u;)o++;for(;x>=o&&this.getTransformEvaluationScore(t[x],n,r)<u;)x--;o<=x&&(s=t[o],a=t[x],this.getTransformEvaluationScore(s,n,r)!=this.getTransformEvaluationScore(a,n,r)&&(t[o]=a,t[x]=s),o++,x--)}e<x&&this.sortTransformsByEvaluationScore(t,e,x,n,r),o<i&&this.sortTransformsByEvaluationScore(t,o,i,n,r)},o.getCompleteLinesForPiece=function(t){for(var e,i=0,n=t.mMinMinoY;n<=t.mMaxMinoY;n++)e=n-t.mY+s.x4407685949528019798x,(this.mMatrixMinosBitGrid[n]|t.mMinosBitGrid[e])==this.mMatrixMinosBitGridFullRow&&i++;return i},o.getTouchingSurfacesForPiece=function(t,e,i){for(var n,r,s,a=0,o=t.mNumMinos,x=0;x<o;x++)r=(n=t.mMinosXY[x])%this.mMatrixWidth,s=~~(n/this.mMatrixWidth),this.doesCellCollide(r+e,s+i)&&a++;return a},o.getRowFitsForPiece=function(t){for(var e=0,i=t.getNumRows(),n=0;n<i;n++){var r=t.getRowMinXInMatrix(n),s=t.getRowMaxXInMatrix(n),a=t.getRowYInMatrix(n);this.doesCellCollide(r-1,a)&&this.doesCellCollide(s+1,a)&&e++}return e},o.getRightWallTouchesForPiece=function(t){if(t.mMaxMinoX==this.mMatrixWidth-1){var e=t.getNumColumns()-1,i=t.getColumnMinYInMatrix(e);return t.getColumnMaxYInMatrix(e)+1-i}return 0},o.getCavesForPiece=function(t){var e,i,n,a,o=0,x=t.mNumMinos;for(e=0;e<x;e++)i=t.mMinosXY[e],this.mMatrixMinos[i]=this.mMatrixMinos[i]|r.x1746943765634005611x;var u=t.getNumColumns();for(e=0;e<u;e++){n=t.getColumnXInMatrix(e);var c=t.getColumnMinYInMatrix(e),l=t.getColumnMaxYInMatrix(e);for(a=c;a<=l;a++){var h=a-t.mY+s.x4407685949528019798x;if((this.mMatrixMinosBitGrid[a]|t.mMinosBitGrid[h])!=this.mMatrixMinosBitGridFullRow){var m=c-1;if(!this.doesCellCollide(n,m)){var g=this.doesCellCollide(n-1,m),f=this.doesCellCollide(n+1,m);g&&f||o++}break}}}for(e=0;e<x;e++)i=t.mMinosXY[e],this.mMatrixMinos[i]=this.mMatrixMinos[i]&~r.x1746943765634005611x;return o},o.getHolesForPiece=function(t,e){if(0==e)return 0;e<0&&(e=this.mMatrixHeight);var i,n,o,x,u=0,c=t.mNumMinos;for(i=0;i<c;i++)n=t.mMinosXY[i],this.mMatrixMinos[n]=this.mMatrixMinos[n]|r.x1746943765634005611x;var l=t.getNumColumns();for(i=0;i<l;i++){o=t.getColumnXInMatrix(i);var h=t.getColumnMinYInMatrix(i),m=t.getColumnMaxYInMatrix(i);for(x=h;x<=m;x++){var g=x-t.mY+s.x4407685949528019798x;if((this.mMatrixMinosBitGrid[x]|t.mMinosBitGrid[g])!=this.mMatrixMinosBitGridFullRow){for(var f=a.minInt(h,e),d=1;d<=f;d++){var p=h-d;if(!this.doesCellCollide(o,p)){var S=this.doesCellCollide(o-1,p),y=this.doesCellCollide(o+1,p);S&&y&&u++}}break}}}for(i=0;i<c;i++)n=t.mMinosXY[i],this.mMatrixMinos[n]=this.mMatrixMinos[n]&~r.x1746943765634005611x;return u},o.getCoveredISlotDepthForPiece=function(t,e,i){if(0==i)return 0;i<0&&(i=this.mMatrixHeight);var n,o,x,u,c=0,l=t.mNumMinos;for(n=0;n<l;n++)o=t.mMinosXY[n],this.mMatrixMinos[o]=this.mMatrixMinos[o]|r.x1746943765634005611x,x=a.computeXFromGridIndex(o,this.mMatrixWidth),u=a.computeYFromGridIndex(o,this.mMatrixWidth),this.mMatrixMinosBitGrid[u]=this.mMatrixMinosBitGrid[u]|1<<x;var h=0,m=t.getNumColumns();for(n=0;n<m;n++){x=t.getColumnXInMatrix(n);var g=t.getColumnMinYInMatrix(n),f=t.getColumnMaxYInMatrix(n);for(u=g;u<=f;u++){var d=u-t.mY+s.x4407685949528019798x;if((this.mMatrixMinosBitGrid[u]|t.mMinosBitGrid[d])!=this.mMatrixMinosBitGridFullRow){for(var p=a.minInt(g,e),S=1;S<=p;S++)if(!this.doesCellCollide(x,g-S)){if(1==++h)for(var y=g-S+1,P=a.minInt(y,i),I=1;I<=P;I++){var v=y-I,M=this.mMatrixMinosBitGridFullRow&~(1<<x);if(this.mMatrixMinosBitGrid[v]!=M){c=0;break}c++}break}break}}if(h>1){c=0;break}}for(n=0;n<l;n++)o=t.mMinosXY[n],this.mMatrixMinos[o]=this.mMatrixMinos[o]&~r.x1746943765634005611x,x=a.computeXFromGridIndex(o,this.mMatrixWidth),u=a.computeYFromGridIndex(o,this.mMatrixWidth),this.mMatrixMinosBitGrid[u]=this.mMatrixMinosBitGrid[u]&~(1<<x);return c},o.getMoveAction=function(t,e){if(a.computeFacingFromTransformId(t)!=a.computeFacingFromTransformId(e))return a.x1070305803274997772x;var i=this.mPieceData.getPiece(this.mLivePieceTypeId,t);if(i.mPerTransformActionToTransformIds[a.x507072717885954088x]==e)return a.x507072717885954088x;if(i.mPerTransformActionToTransformIds[a.x3456892050383260575x]==e)return a.x3456892050383260575x;if(i.mPerTransformActionToTransformIds[a.x6186470261287628x]==e)return a.x6186470261287628x;var n=i.mPerTransformActionToTransformIds[a.x507072717885954088x];return(i=this.mPieceData.getPiece(this.mLivePieceTypeId,n))&&this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId,n,e)?a.x507072717885954088x:a.x1070305803274997772x},o.getRotateAction=function(t,e){if(a.computeFacingFromTransformId(t)==a.computeFacingFromTransformId(e))return a.x1070305803274997772x;var i=this.mPieceData.getPiece(this.mLivePieceTypeId,t);return i.mPerTransformActionToTransformIds[a.x3167162611594866431x]==e?a.x3167162611594866431x:i.mPerTransformActionToTransformIds[a.x387986882668060794x]==e?a.x387986882668060794x:a.x1070305803274997772x},o.getHighestSurfaceYInColumn=function(t){for(var e=1<<t,i=this.mMatrixHeight-1;i>=0;i--)if(this.mMatrixMinosBitGrid[i]&e)return i+1;return 0},o.destroy=function(){if(!this.isDestroyed()){var e=this.mMatrixWidth*this.mMatrixHeight,i=0;for(i=0;i<e;i++)this.mPerCellTargetTransforms[i],this.mPerCellReachableTransformsByEvaluationScore[i];for(i=0;i<this.mMatrixWidth;i++)this.mPerColumnReachableTransformsByEvaluationScore[i];var n=this.mPieceData.getMaxNumTransforms();for(i=0;i<n;i++)this.mPerTransformPaths[i],this.mScratchPerTransformActionStacks[i];this.mEvaluator&&(this.mIsEvaluatorOwner&&this.mEvaluator.destroy(),this.mEvaluator=null),t.prototype.destroy.call(this)}},i(n,null,[{key:"x512577409818320906x",get:function(){return 1}},{key:"x3660419043132634078x",get:function(){return 2}},{key:"x108892220917982102x",get:function(){return 4}},{key:"x1702937605686962687x",get:function(){return 8}},{key:"x1764974789172714708x",get:function(){return 1}},{key:"x3400558639072940515x",get:function(){return 1}},{key:"x2151001827434182320x",get:function(){return 2}},{key:"x2025471986223742903x",get:function(){return 4}},{key:"x160379917352277439x",get:function(){return 8}},{key:"x519456577154873311x",get:function(){return 16}},{key:"x1484302216242451534x",get:function(){return 32}},{key:"x497544163502729430x",get:function(){return 64}},{key:"x2577165372018099466x",get:function(){return 128}},{key:"x3717700300694563091x",get:function(){return-1e6}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x935098930897063106x.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"41fdaXUe7BKp61vTrLC60o/","x935098930897063106x",void 0),t("x935098930897063106x",function(){function t(){}return t.computeTransformId=function(e,i,n,r,s){if(e<0)return t.x703179871846962360x;if(e>=n)return t.x703179871846962360x;if(i<0)return t.x703179871846962360x;var a=0,o=(i+r)*(n+2*r)+(e+r);return(a=a&~t.x3392827077417459707x|o<<t.x2811011140529957354x&t.x3392827077417459707x)&~t.x2677445134559463757x|s<<t.x1469457573229612133x&t.x2677445134559463757x},t.computeXFromTransformId=function(e,i,n){return e!=t.x703179871846962360x?t.computeXFromGridIndex(t.getValueFromPackedBits(e,t.x3392827077417459707x,t.x2811011140529957354x),i+2*n)-n:0},t.computeYFromTransformId=function(e,i,n){return e!=t.x703179871846962360x?t.computeYFromGridIndex(t.getValueFromPackedBits(e,t.x3392827077417459707x,t.x2811011140529957354x),i+2*n)-n:0},t.computeFacingFromTransformId=function(e){return e!=t.x703179871846962360x?t.getValueFromPackedBits(e,t.x2677445134559463757x,t.x1469457573229612133x):t.x941462249058606699x},t.areTransformsXYEqual=function(e,i,n,r){return t.computeXFromTransformId(e,n,r)==t.computeXFromTransformId(i,n,r)&&t.computeYFromTransformId(e,n,r)==t.computeYFromTransformId(i,n,r)},t.rotateDirections90=function(t,e){return t&=255,e?255&(t<<2|t>>>6):255&(t>>>2|t<<6)},t.validateStickyBits=function(e){return t.areBitsOn(t.x2332351171371648974x,e)&&(t.areBitsOn(t.x1550404839293318774x,e)||(e&=~t.x2332351171371648974x)),t.areBitsOn(t.x625698839261226640x,e)&&(t.areBitsOn(t.x1042551614883868016x,e)||(e&=~t.x625698839261226640x)),t.areBitsOn(t.x3825112663077443543x,e)&&(t.areBitsOn(t.x3102034060319810527x,e)||(e&=~t.x3825112663077443543x)),t.areBitsOn(t.x2624047636006164864x,e)&&(t.areBitsOn(t.x1560215727161287825x,e)||(e&=~t.x2624047636006164864x)),e},t.getFacingName=function(e){switch(e){case t.x2628258654593101865x:return"N";case t.x1916765820450533320x:return"E";case t.x2731137289200737929x:return"S";case t.x412600297092622044x:return"W";default:return"INVALID"}},t.rotateFacing90=function(e,i){return t.loopClampedInt(e+(i?1:-1),t.x2628258654593101865x,t.x412600297092622044x)},t.rotateFacing180=function(e,i){return t.rotateFacing90(t.rotateFacing90(e,i),i)},t.isFacingRotationClockwise=function(t,e){return t<e?e-t<3:t>e&&t-e==3},t.getPointXForFacingRotation=function(e,i,n,r){var s=e,a=i;switch(n){case t.x2628258654593101865x:case t.x1916765820450533320x:case t.x2731137289200737929x:case t.x412600297092622044x:switch(r){case t.x2628258654593101865x:case t.x1916765820450533320x:case t.x2731137289200737929x:case t.x412600297092622044x:for(var o;n!=r;)o=s,s=a,a=-o,n=t.rotateFacing90(n,!0)}}return s},t.getPointYForFacingRotation=function(e,i,n,r){var s=e,a=i;switch(n){case t.x2628258654593101865x:case t.x1916765820450533320x:case t.x2731137289200737929x:case t.x412600297092622044x:switch(r){case t.x2628258654593101865x:case t.x1916765820450533320x:case t.x2731137289200737929x:case t.x412600297092622044x:for(var o;n!=r;)o=s,s=a,a=-o,n=t.rotateFacing90(n,!0)}}return a},t.getRotationPointForTransformAction=function(e){switch(e){case t.x3167162611594866431x:case t.x3953239339428559355x:case t.x2450176556276397876x:case t.x888663733163945405x:case t.x1115856437915338497x:return e-t.x3167162611594866431x+1;case t.x387986882668060794x:case t.x1888136233739803425x:case t.x2407034334825857632x:case t.x1821014729543822421x:case t.x1931939176009776912x:return e-t.x387986882668060794x+1;default:return 0}},t.getControlActionName=function(e){switch(e){case t.x1854185702720947932x:return"moveLeft";case t.x3258880470381356346x:return"moveRight";case t.x280351877232321731x:return"rotateCW";case t.x2445769797929427052x:return"rotateCCW";case t.x470776976658180505x:return"superRotateCW";case t.x1770661362513838585x:return"superRotateCCW";case t.x4446142406746104061x:return"startSoftDrop";case t.x3336358786901950711x:return"stopSoftDrop";case t.x2851689118743160308x:return"hardDrop";case t.x3654181238410086381x:return"hold";case t.x4556268602533448012x:return"updateGhost";case t.x4519586451785019140x:return"moveTarget";case t.x1908361403014583940x:return"moveTargetLeft";case t.x1716098852498552357x:return"moveTargetRight";case t.x2445069652356277417x:return"cycleTarget";case t.x3093649411068047557x:return"moveToTarget";case t.x2937731454309797899x:return"selectTarget";case t.x274660332411645642x:return"moveDown";case t.x2288110086882958751x:return"activateNextQueuedPendingAction";default:return"UNKNOWN"}},t.getControlActionForTransformAction=function(e){switch(e){case t.x6186470261287628x:return t.x1854185702720947932x;case t.x3456892050383260575x:return t.x3258880470381356346x;case t.x507072717885954088x:return t.x274660332411645642x;case t.x3167162611594866431x:case t.x3953239339428559355x:case t.x2450176556276397876x:case t.x888663733163945405x:case t.x1115856437915338497x:return t.x470776976658180505x;case t.x387986882668060794x:case t.x1888136233739803425x:case t.x2407034334825857632x:case t.x1821014729543822421x:case t.x1931939176009776912x:return t.x1770661362513838585x;case t.x577419185584297276x:return t.x2851689118743160308x;case t.x3922781046103563579x:return t.x4519586451785019140x;case t.x1616516247914228606x:return t.x2937731454309797899x;case t.x7456257046111546x:return t.x3654181238410086381x;case t.x2073283163176943650x:return t.x2288110086882958751x;default:return t.x248707270714796255x}},t.getControlActionInfoForTransformAction=function(e){switch(e){case t.x3167162611594866431x:case t.x3953239339428559355x:case t.x2450176556276397876x:case t.x888663733163945405x:case t.x1115856437915338497x:return e-t.x3167162611594866431x+1;case t.x387986882668060794x:case t.x1888136233739803425x:case t.x2407034334825857632x:case t.x1821014729543822421x:case t.x1931939176009776912x:return e-t.x387986882668060794x+1;default:return 0}},t.minInt=function(t,e){return t<e?t:e},t.maxInt=function(t,e){return t>e?t:e},t.clampInt=function(t,e,i){return e<i?t<e?e:t>i?i:t:t<i?i:t>e?e:t},t.loopInt=function(t,e,i){if(e==i)return e;var n,r;e<i?(n=e,r=i):(n=i,r=e);var s,a=r-n+1;return t<n?r-((s=r-t)-~~(s/a)*a):t>r?n+((s=t-n)-~~(s/a)*a):t},t.loopClampedInt=function(t,e,i){return e==i?t:(e<i?(n=e,r=i):(n=i,r=e),t<n?r:t>r?n:t);var n,r},t.sign=function(t){return t<0?-1:1},t.FXPTFromInt=function(e){return e*t.x4032911764208249279x},t.FXPTToInt=function(e){return~~(e/t.x4032911764208249279x)},t.FXPTFloor=function(e){return~~(e/t.x4032911764208249279x)*t.x4032911764208249279x},t.FXPTMultiply=function(e,i){return~~(e*i/t.x4032911764208249279x)},t.FXPTDivide=function(e,i){return~~(e*t.x4032911764208249279x/i)},t.FXPTSmooth=function(e,i,n){return n<=0?i:n>=t.x3167629350924187699x?e:t.FXPTMultiply(e,n)+t.FXPTMultiply(i,t.x3167629350924187699x-n)},t.generateNativeRandomSeed=function(){return Date.now()},t.setNativeRandomSeed=function(t){},t.nextNativeRandomInt=function(){return~~(2147483647*Math.random())},t.nextNativeRandomIntInRange=function(e,i){return e!=i?e+t.nextNativeRandomInt()%(i-e+1):e},t.computeGridIndex=function(t,e,i){return e*i+t},t.computeXFromGridIndex=function(t,e){return t%e},t.computeYFromGridIndex=function(t,e){return~~(t/e)},t.computeGridBit=function(e,i,n){return 1<<t.computeGridIndex(e,i,n)},t.getValueFromPackedBits=function(t,e,i){return(t&e)>>>i},t.setValueInPackedBits=function(t,e,i,n){return e&~i|t<<n&i},t.areBitsOn=function(t,e){return(e&t)==t},e(t,null,[{key:"x3470980478260957226x",get:function(){return 1}},{key:"x4089917939347655793x",get:function(){return 2}},{key:"x4356952734068014821x",get:function(){return 3}},{key:"x464963540126332034x",get:function(){return 4}},{key:"x3147028265582430196x",get:function(){return 5}},{key:"x430147064004821695x",get:function(){return 6}},{key:"x358991450269824247x",get:function(){return 7}},{key:"x1897493751449396940x",get:function(){return 8}},{key:"x767082808028451276x",get:function(){return 9}},{key:"x272739351403741827x",get:function(){return 10}},{key:"x793268783332517826x",get:function(){return 11}},{key:"x2986567280613901413x",get:function(){return 12}},{key:"kTransformIdNumBits_facing",get:function(){return 2}},{key:"kTransformIdNumBits_xy",get:function(){return 16}},{key:"x1469457573229612133x",get:function(){return 0}},{key:"x2811011140529957354x",get:function(){return 2}},{key:"x2677445134559463757x",get:function(){return 3}},{key:"x3392827077417459707x",get:function(){return 262140}},{key:"x703179871846962360x",get:function(){return-1}},{key:"x3162409397689077297x",get:function(){return 0}},{key:"x883257587842153100x",get:function(){return 90}},{key:"x314415129552216057x",get:function(){return 180}},{key:"x2663672270180766169x",get:function(){return 1}},{key:"x2332351171371648974x",get:function(){return 2}},{key:"x4374508417979542563x",get:function(){return 4}},{key:"x625698839261226640x",get:function(){return 8}},{key:"x2949016828512819336x",get:function(){return 16}},{key:"x3825112663077443543x",get:function(){return 32}},{key:"x1751838633768770123x",get:function(){return 64}},{key:"x2624047636006164864x",get:function(){return 128}},{key:"x1550404839293318774x",get:function(){return 7}},{key:"x1042551614883868016x",get:function(){return 28}},{key:"x3102034060319810527x",get:function(){return 112}},{key:"x1560215727161287825x",get:function(){return 193}},{key:"x941462249058606699x",get:function(){return-1}},{key:"x2628258654593101865x",get:function(){return 0}},{key:"x1916765820450533320x",get:function(){return 1}},{key:"x2731137289200737929x",get:function(){return 2}},{key:"x412600297092622044x",get:function(){return 3}},{key:"kNumFacings",get:function(){return 4}},{key:"x1070305803274997772x",get:function(){return-1}},{key:"x2188308603787436809x",get:function(){return 0}},{key:"x6186470261287628x",get:function(){return 1}},{key:"x3456892050383260575x",get:function(){return 2}},{key:"x507072717885954088x",get:function(){return 3}},{key:"x3167162611594866431x",get:function(){return 4}},{key:"x3953239339428559355x",get:function(){return 5}},{key:"x2450176556276397876x",get:function(){return 6}},{key:"x888663733163945405x",get:function(){return 7}},{key:"x1115856437915338497x",get:function(){return 8}},{key:"x387986882668060794x",get:function(){return 9}},{key:"x1888136233739803425x",get:function(){return 10}},{key:"x2407034334825857632x",get:function(){return 11}},{key:"x1821014729543822421x",get:function(){return 12}},{key:"x1931939176009776912x",get:function(){return 13}},{key:"x577419185584297276x",get:function(){return 14}},{key:"x3922781046103563579x",get:function(){return 15}},{key:"x1616516247914228606x",get:function(){return 16}},{key:"x2336836758525398100x",get:function(){return 17}},{key:"x7456257046111546x",get:function(){return 18}},{key:"x2073283163176943650x",get:function(){return 19}},{key:"x3481742426804344834x",get:function(){return 14}},{key:"x248707270714796255x",get:function(){return 0}},{key:"x1854185702720947932x",get:function(){return 1}},{key:"x3258880470381356346x",get:function(){return 2}},{key:"x280351877232321731x",get:function(){return 3}},{key:"x2445769797929427052x",get:function(){return 4}},{key:"x470776976658180505x",get:function(){return 5}},{key:"x1770661362513838585x",get:function(){return 6}},{key:"x4446142406746104061x",get:function(){return 7}},{key:"x3336358786901950711x",get:function(){return 8}},{key:"x2851689118743160308x",get:function(){return 9}},{key:"x3654181238410086381x",get:function(){return 10}},{key:"x4556268602533448012x",get:function(){return 11}},{key:"x4519586451785019140x",get:function(){return 12}},{key:"x1908361403014583940x",get:function(){return 13}},{key:"x1716098852498552357x",get:function(){return 14}},{key:"x2445069652356277417x",get:function(){return 15}},{key:"x3093649411068047557x",get:function(){return 16}},{key:"x2937731454309797899x",get:function(){return 17}},{key:"x274660332411645642x",get:function(){return 18}},{key:"x2288110086882958751x",get:function(){return 19}},{key:"x2518210606688734314x",get:function(){return 19}},{key:"x2088302373693961418x",get:function(){return 0}},{key:"x3879340559840163537x",get:function(){return 1}},{key:"x2242998426507838948x",get:function(){return 2}},{key:"x4486032239274713138x",get:function(){return 2147483647}},{key:"x3148667442332835850x",get:function(){return-2147483647}},{key:"x4032911764208249279x",get:function(){return 1e3}},{key:"x3167629350924187699x",get:function(){return 1e3}}]),t}()).sIsDebugModeOn=!1,i._RF.pop()}}})),System.register("chunks:///_virtual/x3326439281076804031x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x932370022543966049x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x932370022543966049x}],execute:function(){i._RF.push({},"e0f987JtoZJJoegOl/cbLFt","x3326439281076804031x",void 0),t("x3326439281076804031x",function(t){function i(e,i,n,r,s){var a;return(a=t.call(this,i,n,r,s)||this).mInterface=e,a.mModel=null,a}e(i,t);var n=i.prototype;return n.setModel=function(t){this.mModel=t},n.destroy=function(){this.isDestroyed()||t.prototype.destroy.call(this)},n.x1983372655244111857x=function(){return this.mModel.getGameState()},n.x652533181438268645x=function(){return this.mModel},n.x3894366117197912088x=function(){return this.mInterface.x1305601496123613613x()},n.x2589704777537771501x=function(){return this.mModel.isActive()},n.x557582768289192157x=function(t,e,i){this.mModel.performControlAction(t,e,i)},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x705059913409563765x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3747634908556257468x.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.x3747634908556257468x}],execute:function(){i._RF.push({},"ad453bSgL5HsYbw1oXzUa8W","x705059913409563765x",void 0),t("x705059913409563765x",function(t){function i(e,i,n,r,s){var a;return(a=t.call(this,i,n,r,s)||this).mInterface=e,a}e(i,t);var n=i.prototype;return n.destroy=function(){this.isDestroyed()||t.prototype.destroy.call(this)},n.x4209112753199662349x=function(){return this.mInterface.x1305601496123613613x()},n.x3091136389383736586x=function(){this.mInterface.x2837559168208578010x()},n.x2820077618754108443x=function(t,e,i,n,r){this.mInterface.x1168407876190680895x(t,e,i,n,r)},n.x3124090314184543588x=function(t){return this.mInterface.x1512348144720096233x(t)},n.x1635386745551943052x=function(t){this.mInterface.x1702561433221128338x(t)},n.x4301240009920430909x=function(t,e,i){this.mInterface.x207740918435054839x(t,e,i)},n.x2129624871256690700x=function(t){this.mInterface.x4128265775335110378x(t)},n.x234444376093389026x=function(t){this.mInterface.x4386291552209372470x(t)},n.x1663692956205744434x=function(t,e){this.mInterface.x3319777695370227496x(t,e)},n.x1826979957801087186x=function(){this.mInterface.x1382977277032518788x()},n.x2544005947069254574x=function(){this.mInterface.x1980753659206536435x()},n.x4555743477576061950x=function(){this.mInterface.x1600135720966771003x()},i}(n)),i._RF.pop()}}})),System.register("chunks:///_virtual/x2847047702101370365x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3320707771031547482x.ts","./x935098930897063106x.ts","./x887952276100355392x.ts","./x1235144961025176902x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x3320707771031547482x},function(t){s=t.x935098930897063106x},function(t){a=t.x887952276100355392x},function(t){o=t.x1235144961025176902x}],execute:function(){n._RF.push({},"edf34t7J51GtKTbfbiwSVqC","x2847047702101370365x",void 0),t("x2847047702101370365x",function(t){function n(e,i,r,a,x){var u;return(u=t.call(this,n.x2924843484704743760x,n.x3837950005791707511x,e,i,r,a,x)||this).mActionsToTarget=new Array,u.mParameter_enablePieceFall=!1,u.mParameter_enableLockTimer=!1,u.mParameter_enableHardDrop=!0,u.mParameter_enableHold=!1,u.mParameter_actionPreDelayMSEC_firstStepMin=200,u.mParameter_actionPreDelayMSEC_firstStepMax=400,u.mParameter_actionPreDelayMSEC_moveLR=50,u.mParameter_actionPreDelayMSEC_rotate=50,u.mParameter_actionPreDelayMSEC_hardDrop=50,u.mTargetFinder1=new o(i,r,a,x,!0),u.mGameState2=null,u.mTargetFinder2=null,u.mNextActionStepIndex=-1,u.mLivePieceTotalActionSteps=0,u.mActionTimerMSEC=0,u.mLivePiecePreviousTransform=s.x703179871846962360x,u}e(n,t);var r=n.prototype;return r.getTargetFinder=function(){return this.mTargetFinder1},r.calculateActions=function(){this.cancelActions();var t=this.mTargetFinder1.getBestTransform(s.x941462249058606699x,0,!1);if(this.mParameter_enableHold&&this.getController()._getModel().canHoldLivePiece()){var e=this.mTargetFinder1.getTransformEvaluationScore(t,-1,-1),i=this.mTargetFinder2.getBestTransform(s.x941462249058606699x,0,!1);if(this.mTargetFinder2.getTransformEvaluationScore(i,-1,-1)>e){this.mActionsToTarget.length=0;var n=s.x7456257046111546x;return void this.mActionsToTarget.push(n)}}this.mTargetFinder1.getBestActionsForTransform(t,this.mActionsToTarget,!0,this.mParameter_enableHardDrop,!this.mParameter_enableLockTimer)},r.startActions=function(t){this.mNextActionStepIndex=0,t&&(this.mActionTimerMSEC=this.getPreDelayMSECForNextAction()),this.mLivePiecePreviousTransform=this.getController()._getGameState().getLivePieceCurrentTransform()},r.cancelActions=function(){this.mActionsToTarget.length=0,this.mNextActionStepIndex=-1},r.recalculateActions=function(){this.cancelActions();var t=this.getController()._getGameState();t.isLivePieceActive()&&(this.mTargetFinder1.resetReachableTransforms(t.getLivePieceCurrentX(),t.getLivePieceCurrentY(),t.getLivePieceCurrentFacing()),this.calculateActions(),this.startActions(!1))},r.canProcessActions=function(){if(!this.isLivePieceControllable())return!1;if(this.mNextActionStepIndex<0)return!1;var t=this.mActionsToTarget.length;return this.mNextActionStepIndex<=t-1},r.processActions=function(t){if(this.canProcessActions())for(this.mActionTimerMSEC-=t;this.mActionTimerMSEC<=0&&this.canProcessActions();){var e=this.getController()._getGameState();if(e.getLivePieceCurrentTransform()!=this.mLivePiecePreviousTransform&&(this.recalculateActions(),!this.canProcessActions()))break;var i=this.mActionsToTarget[this.mNextActionStepIndex],n=s.getControlActionForTransformAction(i);this.mNextActionStepIndex++,n!=s.x248707270714796255x&&(this.getController()._performControlAction(n,null,null),this.mLivePiecePreviousTransform=e.getLivePieceCurrentTransform(),this.mLivePieceTotalActionSteps++,this.canProcessActions()&&(this.mActionTimerMSEC+=this.getPreDelayMSECForNextAction()))}},r.getPreDelayMSECForNextAction=function(){if(0==this.mLivePieceTotalActionSteps)return s.nextNativeRandomIntInRange(this.mParameter_actionPreDelayMSEC_firstStepMin,this.mParameter_actionPreDelayMSEC_firstStepMax);switch(this.mActionsToTarget[this.mNextActionStepIndex]){case s.x6186470261287628x:case s.x3456892050383260575x:case s.x3922781046103563579x:return this.mParameter_actionPreDelayMSEC_moveLR;case s.x507072717885954088x:return this.getController()._getModel().mSoftDropFallSpeedMSEC;case s.x3167162611594866431x:case s.x3953239339428559355x:case s.x2450176556276397876x:case s.x888663733163945405x:case s.x1115856437915338497x:case s.x387986882668060794x:case s.x1888136233739803425x:case s.x2407034334825857632x:case s.x1821014729543822421x:case s.x1931939176009776912x:return this.mParameter_actionPreDelayMSEC_rotate;case s.x577419185584297276x:case s.x1616516247914228606x:return this.mParameter_actionPreDelayMSEC_hardDrop;default:return 0}},r.destroy=function(){this.isDestroyed()||(null!==this.mTargetFinder1&&(this.mTargetFinder1.destroy(),this.mTargetFinder1=null),null!==this.mTargetFinder2&&(this.mTargetFinder2.destroy(),this.mTargetFinder2=null),t.prototype.destroy.call(this))},r.x3513203343913544781x=function(t){if(t){if(!this.mGameState2){var e=this.getController()._getGameState();this.mGameState2=new a(e.getPieceData(),this.getMatrixWidth(),this.getMatrixHeight(),this.getMatrixVisibleHeight()),this.mTargetFinder2=new o(e.getPieceData(),this.getMatrixWidth(),this.getMatrixHeight(),this.getMatrixVisibleHeight(),!0)}this.mTargetFinder2.copyParameters(this.mTargetFinder1),this.getController()._getModel().mIsFallControlEnabled=this.mParameter_enablePieceFall,this.getController()._getModel().mIsLockTimerEnabled=this.mParameter_enableLockTimer,this.getController()._performControlAction(s.x4556268602533448012x,null,null),this.x914208017346632379x(),this.x4169104783292558150x(),this.recalculateActions()}else this.getController()._getModel().mIsFallControlEnabled=!0,this.getController()._getModel().mIsLockTimerEnabled=!0,this.cancelActions()},r.x3033163149601749637x=function(t){this.processActions(t)},r.x231118008692704744x=function(t){},r.x3797846894257560236x=function(t){},r.x3345181124043966074x=function(t){},r.x1042162547899707391x=function(t){},r.x914208017346632379x=function(){if(this.isActive()){this.getController()._getModel().mIsFallControlEnabled=this.mParameter_enablePieceFall,this.mLivePieceTotalActionSteps=0,this.mLivePiecePreviousTransform=s.x703179871846962360x,this.cancelActions();var t=this.getController()._getGameState();if(this.mTargetFinder1.setMatrixLimits(t.getMatrixWidthLimit(),t.getMatrixHeightLimit(),this.getMatrixVisibleHeight()),this.mTargetFinder1.startStateEvaluation(t),this.mParameter_enableHold){this.mGameState2.resetStateWithState(t);var e=t.getAlternatePieceTypeId();this.mGameState2.setLivePiece(e,t.getLivePieceCurrentX(),t.getLivePieceCurrentY(),t.getLivePieceCurrentFacing(),t.getLivePieceCurrentX(),t.getLivePieceCurrentY(),t.getLivePieceCurrentFacing()),this.mTargetFinder2.setMatrixLimits(this.mGameState2.getMatrixWidthLimit(),this.mGameState2.getMatrixHeightLimit(),this.getMatrixVisibleHeight()),this.mTargetFinder2.startStateEvaluation(this.mGameState2)}}},r.x4169104783292558150x=function(){if(!this.isActive())return!0;var t=this.mTargetFinder1.processStateEvaluation();return t&&this.mParameter_enableHold&&this.getController()._getModel().canHoldLivePiece()&&(t=this.mTargetFinder2.processStateEvaluation()),t&&this.calculateActions(),t},r.x3494733809236826693x=function(){this.isActive()&&(this.mTargetFinder1.handleLivePieceDidActivate(),this.startActions(!0))},r.x857944601241301800x=function(){this.isActive()&&(this.mTargetFinder1.handleLivePieceDidDeactivate(),this.cancelActions())},i(n,null,[{key:"x2924843484704743760x",get:function(){return 4}},{key:"x3837950005791707511x",get:function(){return 0}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x932370022543966049x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x935098930897063106x.ts","./x3320707771031547482x.ts","./x2847047702101370365x.ts","./x2135811420390295588x.ts","./x354603830897072747x.ts","./x1990922053088099304x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,x;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x935098930897063106x},function(t){r=t.x3320707771031547482x},function(t){s=t.x2847047702101370365x},function(t){a=t.x2135811420390295588x},function(t){o=t.x354603830897072747x},function(t){x=t.x1990922053088099304x}],execute:function(){i._RF.push({},"540b1ZZTpdJtprPkX+JDwf3","x932370022543966049x",void 0),t("x932370022543966049x",function(){function t(t,e,i,n){this.mInputMgrs=new Array,this.mPieceData=n,this.mMatrixWidth=t,this.mMatrixHeight=e,this.mMatrixVisibleHeight=i,this.mPrevProcessTimeMSEC=-1,this.mAIInputMgr=null,this.mDirectInputMgr=null,this.mSmartInputMgr=null,this.mGestureInputMgr=null,this.mEnableAutomaticInputTypeSwitching=!0,this.mActiveInputMgr=null,this.mIsLivePieceControllable=!1,this.mIsSoftDropOn=!1,this.mIsControlActionEnabled_moveLeft=!0,this.mIsControlActionEnabled_moveRight=!0,this.mIsControlActionEnabled_rotateCW=!0,this.mIsControlActionEnabled_rotateCCW=!0,this.mIsControlActionEnabled_superRotateCW=!0,this.mIsControlActionEnabled_superRotateCCW=!0,this.mIsControlActionEnabled_startSoftDrop=!0,this.mIsControlActionEnabled_stopSoftDrop=!0,this.mIsControlActionEnabled_hardDrop=!0,this.mIsControlActionEnabled_hold=!0,this.mIsControlActionEnabled_updateGhost=!0,this.mIsControlActionEnabled_moveTarget=!0,this.mIsControlActionEnabled_moveTargetLeft=!0,this.mIsControlActionEnabled_moveTargetRight=!0,this.mIsControlActionEnabled_cycleTarget=!0,this.mIsControlActionEnabled_moveToTarget=!0,this.mIsControlActionEnabled_selectTarget=!0,this.mIsControlActionEnabled_moveDown=!0,this.mIsControlActionEnabled_activateNextQueuedPendingAction=!0,this.mIsDestroyed=!1}var i=t.prototype;return i.isDestroyed=function(){return this.mIsDestroyed},i.enableInputType=function(e){if(!this.isInputTypeEnabled(e))switch(e){case t.x383607419347711601x:this.mAIInputMgr=new s(this,this.mPieceData,this.mMatrixWidth,this.mMatrixHeight,this.mMatrixVisibleHeight),this.mInputMgrs.push(this.mAIInputMgr);break;case t.x3435724326894576505x:this.mDirectInputMgr=new a(this,this.mPieceData,this.mMatrixWidth,this.mMatrixHeight,this.mMatrixVisibleHeight),this.mInputMgrs.push(this.mDirectInputMgr);break;case t.x481964451504965421x:this.mSmartInputMgr=new x(this,this.mPieceData,this.mMatrixWidth,this.mMatrixHeight,this.mMatrixVisibleHeight),this.mInputMgrs.push(this.mSmartInputMgr);break;case t.x4564893816674366522x:this.mGestureInputMgr=new o(this,this.mPieceData,this.mMatrixWidth,this.mMatrixHeight,this.mMatrixVisibleHeight),this.mInputMgrs.push(this.mGestureInputMgr)}},i.disableInputType=function(e){if(this.isInputTypeEnabled(e)){var i=this._getInputMgr(e);this.mActiveInputMgr==i&&this.setActiveInputMgr(null);for(var n=this.mInputMgrs.length,r=0;r<n;r++)if(this.mInputMgrs[r]==i){this.mInputMgrs.splice(r,1);break}switch(e){case t.x383607419347711601x:this.mAIInputMgr&&(this.mAIInputMgr.destroy(),null!==this.mAIInputMgr&&(this.mAIInputMgr=null));break;case t.x3435724326894576505x:this.mDirectInputMgr&&(this.mDirectInputMgr.destroy(),null!==this.mDirectInputMgr&&(this.mDirectInputMgr=null));break;case t.x481964451504965421x:this.mSmartInputMgr&&(this.mSmartInputMgr.destroy(),null!==this.mSmartInputMgr&&(this.mSmartInputMgr=null));break;case t.x4564893816674366522x:this.mGestureInputMgr&&(this.mGestureInputMgr.destroy(),null!==this.mGestureInputMgr&&(this.mGestureInputMgr=null))}}},i.isInputTypeEnabled=function(t){return this._getInputMgr(t)},i.getActiveInputType=function(){return this.mActiveInputMgr?this.mActiveInputMgr.getInputType():0},i.setActiveInputType=function(t){this.setActiveInputMgr(this.getInputMgr(t,!0))},i.setEnableAutomaticInputTypeSwitching=function(t){this.mEnableAutomaticInputTypeSwitching=t},i.getAIInputMgr=function(){return this.mAIInputMgr},i.getDirectInputMgr=function(){return this.mDirectInputMgr},i.getSmartInputMgr=function(){return this.mSmartInputMgr},i.getGestureInputMgr=function(){return this.mGestureInputMgr},i.processTime=function(){if(this.x652533181438268645x().isActive()){var t=this._getTimeMSEC();if(this.mPrevProcessTimeMSEC>=0&&this.mActiveInputMgr){var e=t-this.mPrevProcessTimeMSEC;this.mActiveInputMgr.processTime(e)}this.mPrevProcessTimeMSEC=t}else this.mPrevProcessTimeMSEC=-1},i.isControlActionEnabled=function(t){switch(t){case n.x1854185702720947932x:return this.mIsControlActionEnabled_moveLeft;case n.x3258880470381356346x:return this.mIsControlActionEnabled_moveRight;case n.x280351877232321731x:return this.mIsControlActionEnabled_rotateCW;case n.x2445769797929427052x:return this.mIsControlActionEnabled_rotateCCW;case n.x470776976658180505x:return this.mIsControlActionEnabled_superRotateCW;case n.x1770661362513838585x:return this.mIsControlActionEnabled_superRotateCCW;case n.x4446142406746104061x:return this.mIsControlActionEnabled_startSoftDrop;case n.x3336358786901950711x:return this.mIsControlActionEnabled_stopSoftDrop;case n.x2851689118743160308x:return this.mIsControlActionEnabled_hardDrop;case n.x3654181238410086381x:return this.mIsControlActionEnabled_hold;case n.x4556268602533448012x:return this.mIsControlActionEnabled_updateGhost;case n.x4519586451785019140x:return this.mIsControlActionEnabled_moveTarget;case n.x1908361403014583940x:return this.mIsControlActionEnabled_moveTargetLeft;case n.x1716098852498552357x:return this.mIsControlActionEnabled_moveTargetRight;case n.x2445069652356277417x:return this.mIsControlActionEnabled_cycleTarget;case n.x3093649411068047557x:return this.mIsControlActionEnabled_moveToTarget;case n.x2937731454309797899x:return this.mIsControlActionEnabled_selectTarget;case n.x274660332411645642x:return this.mIsControlActionEnabled_moveDown;case n.x2288110086882958751x:return this.mIsControlActionEnabled_activateNextQueuedPendingAction;default:return!1}},i.setIsControlActionEnabled=function(t,e){switch(t){case n.x1854185702720947932x:this.mIsControlActionEnabled_moveLeft=e;break;case n.x3258880470381356346x:this.mIsControlActionEnabled_moveRight=e;break;case n.x280351877232321731x:this.mIsControlActionEnabled_rotateCW=e;break;case n.x2445769797929427052x:this.mIsControlActionEnabled_rotateCCW=e;break;case n.x470776976658180505x:this.mIsControlActionEnabled_superRotateCW=e;break;case n.x1770661362513838585x:this.mIsControlActionEnabled_superRotateCCW=e;break;case n.x4446142406746104061x:this.mIsControlActionEnabled_startSoftDrop=e;break;case n.x3336358786901950711x:this.mIsControlActionEnabled_stopSoftDrop=e;break;case n.x2851689118743160308x:this.mIsControlActionEnabled_hardDrop=e;break;case n.x3654181238410086381x:this.mIsControlActionEnabled_hold=e;break;case n.x4556268602533448012x:this.mIsControlActionEnabled_updateGhost=e;break;case n.x4519586451785019140x:this.mIsControlActionEnabled_moveTarget=e;break;case n.x1908361403014583940x:this.mIsControlActionEnabled_moveTargetLeft=e;break;case n.x1716098852498552357x:this.mIsControlActionEnabled_moveTargetRight=e;break;case n.x2445069652356277417x:this.mIsControlActionEnabled_cycleTarget=e;break;case n.x3093649411068047557x:this.mIsControlActionEnabled_moveToTarget=e;break;case n.x2937731454309797899x:this.mIsControlActionEnabled_selectTarget=e;break;case n.x274660332411645642x:this.mIsControlActionEnabled_moveDown=e;break;case n.x2288110086882958751x:this.mIsControlActionEnabled_activateNextQueuedPendingAction=e}},i.isInputEnabled=function(t){var e=this.getInputMgrForInputId(t,!0);return!!e&&e.isInputEnabled(t)},i.setIsInputEnabled=function(t,e){var i=this.getInputMgrForInputId(t,!0);i&&i.setIsInputEnabled(t,e)},i.handleInputPositionChanged=function(t,e,i){if(!this.x2589704777537771501x())return!1;t=this.transformInputIdForActiveInputMgr(t),this.updateActiveInputMgr(t);var n=this.getInputMgrForInputId(t,!0);if(n){var r=this._getGameState().getLivePieceCurrentTransform();return n.handleInputPositionChanged(t,e,i),r!=this._getGameState().getLivePieceCurrentTransform()}return!1},i.handleInputIsOn=function(t,e,i){if(!this.x2589704777537771501x())return!1;t=this.transformInputIdForActiveInputMgr(t),this.updateActiveInputMgr(t);var n=this.getInputMgrForInputId(t,!0);if(n){var r=this._getGameState().getLivePieceCurrentTransform();return n.handleInputIsOn(t,e,i),r!=this._getGameState().getLivePieceCurrentTransform()}return!1},i.handleInputIsOnExclusive=function(t,e,i){if(!this.x2589704777537771501x())return!1;t=this.transformInputIdForActiveInputMgr(t),this.updateActiveInputMgr(t);var n=this.getInputMgrForInputId(t,!0);if(n){var r=this._getGameState().getLivePieceCurrentTransform();return n.handleInputIsOnExclusive(t,e,i),r!=this._getGameState().getLivePieceCurrentTransform()}return!1},i.handleInputIsOff=function(t,e,i){if(!this.x2589704777537771501x())return!1;t=this.transformInputIdForActiveInputMgr(t),this.updateActiveInputMgr(t);var n=this.getInputMgrForInputId(t,!0);if(n){var r=this._getGameState().getLivePieceCurrentTransform();return n.handleInputIsOff(t,e,i),r!=this._getGameState().getLivePieceCurrentTransform()}return!1},i.handleInputOnIsCancelled=function(t){if(this.x2589704777537771501x()){t=this.transformInputIdForActiveInputMgr(t),this.updateActiveInputMgr(t);var e=this.getInputMgrForInputId(t,!0);e&&e.handleInputOnIsCancelled(t)}},i.turnOffAllInputsForInputType=function(t){if(this.x2589704777537771501x()){var e=this.getInputMgr(t,!0);e&&e.turnOffAllInputs()}},i.cancelAllInputs=function(){for(var t=this.mInputMgrs.length,e=0;e<t;e++)this.mInputMgrs[e].cancelAllInputs()},i.isInputOn=function(t){var e=this.getInputMgrForInputId(t,!0);return!!e&&e.isInputOn(t)},i.startEvaluationForNewLivePiece=function(){for(var t=this.mInputMgrs.length,e=0;e<t;e++)this.mInputMgrs[e].startEvaluationForNewLivePiece()},i.processEvaluationForNewLivePiece=function(){for(var t=!0,e=this.mInputMgrs.length,i=0;i<e;i++)this.mInputMgrs[i].processEvaluationForNewLivePiece()||(t=!1);return t},i.handleLivePieceDidActivate=function(){this.mIsLivePieceControllable=!0;for(var t=this.mInputMgrs.length,e=0;e<t;e++)this.mInputMgrs[e].handleLivePieceDidActivate()},i.handleLivePieceDidTouchDown=function(){for(var t=this.mInputMgrs.length,e=0;e<t;e++)this.mInputMgrs[e].handleLivePieceDidTouchDown()},i.handleLivePieceDidDeactivate=function(){this.mIsLivePieceControllable=!1;for(var t=this.mInputMgrs.length,e=0;e<t;e++)this.mInputMgrs[e].handleLivePieceDidDeactivate()},i.isSoftDropOn=function(){return this.mIsSoftDropOn},i._getGameState=function(){return this.x1983372655244111857x()},i._getTimeMSEC=function(){return 2147483647&this.x3894366117197912088x()},i._getTimeSEC_FXPT=function(){return~~(n.FXPTFromInt(this._getTimeMSEC())/1e3)},i._isStandardControlActive=function(){return this.x2589704777537771501x()},i._performControlAction=function(t,e,i){if(this.isControlActionEnabled(t)){switch(t){case n.x4519586451785019140x:if(!this._isLivePieceControllable())return;break;case n.x2937731454309797899x:if(!this._isLivePieceControllable())return;this.mIsLivePieceControllable=!1;break;case n.x4446142406746104061x:if(this.mIsSoftDropOn)return;this.mIsSoftDropOn=!0;break;case n.x3336358786901950711x:if(!this.mIsSoftDropOn)return;this.mIsSoftDropOn=!1;break;default:t==n.x2851689118743160308x&&this._isLivePieceControllable()&&(this.mIsLivePieceControllable=!1)}this.x557582768289192157x(t,e,i)}},i._isLivePieceControllable=function(){return this.mIsLivePieceControllable&&this.x2589704777537771501x()},i._getModel=function(){return this.x652533181438268645x()},i._getInputMgr=function(t){switch(t){case s.x2924843484704743760x:return this.mAIInputMgr;case a.x2924843484704743760x:return this.mDirectInputMgr;case x.x2924843484704743760x:return this.mSmartInputMgr;case o.x2924843484704743760x:return this.mGestureInputMgr;default:return null}},i.getInputMgr=function(t,e){return e&&!this.isInputTypeEnabled(t)?null:this._getInputMgr(t)},i.getInputMgrForInputId=function(t,e){var i=r.getInputTypeFromInputId(t);return this.getInputMgr(i,e)},i.setActiveInputMgr=function(t){this.mActiveInputMgr!=t&&(this.mActiveInputMgr&&this.mActiveInputMgr.setIsActive(!1),this.mActiveInputMgr=t,this.mActiveInputMgr&&this.mActiveInputMgr.setIsActive(!0))},i.updateActiveInputMgr=function(t){if(this.mEnableAutomaticInputTypeSwitching){var e=this.getInputMgrForInputId(t,!0);e&&this.mActiveInputMgr!=e&&this.setActiveInputMgr(e)}},i.transformInputIdForActiveInputMgr=function(t){if(this.mActiveInputMgr)switch(this.mActiveInputMgr.getInputType()){case a.x2924843484704743760x:if(t===x.x3797934134535235077x)return a.x633315955512940709x;break;case x.x2924843484704743760x:switch(t){case a.x633315955512940709x:return x.x3797934134535235077x;case a.x2068352566790736374x:return x.x2068352566790736374x;case a.x3683435108760260812x:return x.x3683435108760260812x}break;case o.x2924843484704743760x:switch(t){case a.x2068352566790736374x:return o.x2068352566790736374x;case a.x3683435108760260812x:return o.x3683435108760260812x}}return t},i.destroy=function(){this.isDestroyed()||(this.mInputMgrs.length=0,this.mAIInputMgr&&(this.mAIInputMgr.destroy(),null!==this.mAIInputMgr&&(this.mAIInputMgr=null)),this.mDirectInputMgr&&(this.mDirectInputMgr.destroy(),null!==this.mDirectInputMgr&&(this.mDirectInputMgr=null)),this.mSmartInputMgr&&(this.mSmartInputMgr.destroy(),null!==this.mSmartInputMgr&&(this.mSmartInputMgr=null)),this.mGestureInputMgr&&(this.mGestureInputMgr.destroy(),null!==this.mGestureInputMgr&&(this.mGestureInputMgr=null)),this.mIsDestroyed=!0)},i.x1983372655244111857x=function(){return null},i.x652533181438268645x=function(){return null},i.x3894366117197912088x=function(){return 0},i.x2589704777537771501x=function(){return!1},i.x557582768289192157x=function(t,e,i){},e(t,null,[{key:"x3435724326894576505x",get:function(){return 1}},{key:"x481964451504965421x",get:function(){return 2}},{key:"x4564893816674366522x",get:function(){return 3}},{key:"x383607419347711601x",get:function(){return 4}},{key:"x1657987435785422953x",get:function(){return 1e3}},{key:"x378953905497227923x",get:function(){return 500}}]),t}()),i._RF.pop()}}})),System.register("chunks:///_virtual/x2135811420390295588x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3320707771031547482x.ts","./x932370022543966049x.ts","./x935098930897063106x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x3320707771031547482x},function(t){s=t.x932370022543966049x},function(t){a=t.x935098930897063106x}],execute:function(){n._RF.push({},"0d04bpQjQBFUoSvabqKersm","x2135811420390295588x",void 0),t("x2135811420390295588x",function(t){function n(e,i,r,s,a){var o;return(o=t.call(this,n.x2924843484704743760x,n.x3837950005791707511x,e,i,r,s,a)||this).mEnableMoveLRAutoRepeat=!0,o.mMoveLRAutoRepeatInitialDelayMSEC=170,o.mMoveLRAutoRepeatDelayMSEC=50,o.mMoveTargetXSmoothingWeight_FXPT=0,o.mMoveTargetXCellTrackingInset_FXPT=0,o.mMoveLRAutoRepeatInputId=0,o.mMoveLRAutoRepeatTimerMSEC=0,o.mDidMoveLThisFrame=!1,o.mDidMoveRThisFrame=!1,o.mDidRotateThisFrame=!1,o.mDidSoftDropThisFrame=!1,o.mSmoothedMoveTargetX_FXPT=0,o.mActualMoveTargetX_FXPT=0,o}e(n,t);var r=n.prototype;return r.isMoveLRAutoRepeating=function(){return this.mEnableMoveLRAutoRepeat&&0!=this.mMoveLRAutoRepeatInputId},r.handleMoveLRInputIsOn=function(t){switch(t.mInputId){case n.x641791926453962669x:case n.x3886483156197736615x:var e=t.mInputId==n.x641791926453962669x?a.x1854185702720947932x:a.x3258880470381356346x;this.tryControlAction(e),this.mEnableMoveLRAutoRepeat?(this.mMoveLRAutoRepeatInputId=t.mInputId,this.mMoveLRAutoRepeatTimerMSEC=this.mMoveLRAutoRepeatInitialDelayMSEC):t.mIsOn=!1}},r.handleMoveLRInputIsOff=function(t){if(this.isMoveLRAutoRepeating()){if(t.mInputId==this.mMoveLRAutoRepeatInputId){this.mMoveLRAutoRepeatInputId=0;var e=null;switch(t.mInputId){case n.x641791926453962669x:e=this.getInput(n.x3886483156197736615x);break;case n.x3886483156197736615x:e=this.getInput(n.x641791926453962669x)}e&&e.mIsOn&&this.handleMoveLRInputIsOn(e)}}else this.mMoveLRAutoRepeatInputId=0},r.tryControlAction=function(t){switch(t){case a.x1854185702720947932x:this.mDidMoveLThisFrame||(this.getController()._performControlAction(t,null,null),this.mDidMoveLThisFrame=!0);break;case a.x3258880470381356346x:this.mDidMoveRThisFrame||(this.getController()._performControlAction(t,null,null),this.mDidMoveRThisFrame=!0);break;case a.x280351877232321731x:case a.x2445769797929427052x:case a.x470776976658180505x:case a.x1770661362513838585x:this.mDidRotateThisFrame||(this.getController()._performControlAction(t,null,null),this.mDidRotateThisFrame=!0);break;case a.x4446142406746104061x:this.mDidSoftDropThisFrame||(this.getController()._performControlAction(t,null,null),this.mDidSoftDropThisFrame=!0)}},r.processMoveTargetX=function(){var t=this.getInput(n.x2499625272565252140x);if(t.mIsOn){var e=this.mSmoothedMoveTargetX_FXPT;this.mSmoothedMoveTargetX_FXPT=a.FXPTSmooth(this.mSmoothedMoveTargetX_FXPT,t.mX_FXPT,this.mMoveTargetXSmoothingWeight_FXPT);var i=0,r=a.FXPTFloor(this.mSmoothedMoveTargetX_FXPT);i=(this.mSmoothedMoveTargetX_FXPT-e>=0?this.mSmoothedMoveTargetX_FXPT-e:-(this.mSmoothedMoveTargetX_FXPT-e))<s.x378953905497227923x&&(this.mSmoothedMoveTargetX_FXPT<r+this.mMoveTargetXCellTrackingInset_FXPT||this.mSmoothedMoveTargetX_FXPT>r+s.x1657987435785422953x-this.mMoveTargetXCellTrackingInset_FXPT)?this.mActualMoveTargetX_FXPT:this.mSmoothedMoveTargetX_FXPT,this.mActualMoveTargetX_FXPT=i;var o=a.FXPTToInt(this.mActualMoveTargetX_FXPT),x=this.getController()._getGameState().getLivePieceCurrentX();if(x!=o){var u=x<o?a.x3258880470381356346x:a.x1854185702720947932x,c=this.getController()._getGameState().getLivePieceCurrentTransform(),l=this.getController()._getGameState().getTransformForControlAction(c,u);l!=c&&l!=a.x703179871846962360x&&this.tryControlAction(u)}}},r.destroy=function(){this.isDestroyed()||t.prototype.destroy.call(this)},r.x3513203343913544781x=function(t){t&&this.getController()._performControlAction(a.x4556268602533448012x,null,null)},r.x3033163149601749637x=function(t){if(this.mDidMoveLThisFrame=!1,this.mDidMoveRThisFrame=!1,this.mDidRotateThisFrame=!1,this.mDidSoftDropThisFrame=!1,this.isMoveLRAutoRepeating()){var e=this.mMoveLRAutoRepeatInputId==n.x641791926453962669x?a.x1854185702720947932x:a.x3258880470381356346x;for(this.mMoveLRAutoRepeatTimerMSEC-=t;this.mMoveLRAutoRepeatTimerMSEC<=0;)this.tryControlAction(e),this.mMoveLRAutoRepeatTimerMSEC+=this.mMoveLRAutoRepeatDelayMSEC}this.processMoveTargetX()},r.x231118008692704744x=function(t){},r.x3797846894257560236x=function(t){switch(t.mInputId){case n.x641791926453962669x:case n.x3886483156197736615x:this.handleMoveLRInputIsOn(t);break;case n.x1480922606940183429x:this.tryControlAction(a.x470776976658180505x);break;case n.x3474295547856963656x:this.tryControlAction(a.x1770661362513838585x);break;case n.x2778836146943998558x:this.tryControlAction(a.x4446142406746104061x);break;case n.x633315955512940709x:this.getController()._performControlAction(a.x2851689118743160308x,null,null);break;case n.x2068352566790736374x:this.getController()._performControlAction(a.x3654181238410086381x,null,null);break;case n.x2499625272565252140x:this.mSmoothedMoveTargetX_FXPT=t.mX_FXPT,this.mActualMoveTargetX_FXPT=t.mX_FXPT;break;case n.x3683435108760260812x:this.getController()._performControlAction(a.x2288110086882958751x,null,null)}},r.x3345181124043966074x=function(t){switch(t.mInputId){case n.x641791926453962669x:case n.x3886483156197736615x:this.handleMoveLRInputIsOff(t);break;case n.x2778836146943998558x:this.getController()._performControlAction(a.x3336358786901950711x,null,null)}},r.x1042162547899707391x=function(t){switch(t.mInputId){case n.x641791926453962669x:case n.x3886483156197736615x:this.handleMoveLRInputIsOff(t);break;case n.x2778836146943998558x:this.getController()._performControlAction(a.x3336358786901950711x,null,null)}},r.x914208017346632379x=function(){},r.x4169104783292558150x=function(){return!0},r.x3494733809236826693x=function(){this.isMoveLRAutoRepeating()&&this.mMoveLRAutoRepeatTimerMSEC<this.mMoveLRAutoRepeatDelayMSEC&&(this.mMoveLRAutoRepeatTimerMSEC=this.mMoveLRAutoRepeatDelayMSEC)},r.x857944601241301800x=function(){},i(n,null,[{key:"x2924843484704743760x",get:function(){return 1}},{key:"x641791926453962669x",get:function(){return 257}},{key:"x3886483156197736615x",get:function(){return 258}},{key:"x1480922606940183429x",get:function(){return 259}},{key:"x3474295547856963656x",get:function(){return 260}},{key:"x2778836146943998558x",get:function(){return 261}},{key:"x633315955512940709x",get:function(){return 262}},{key:"x2068352566790736374x",get:function(){return 263}},{key:"x2499625272565252140x",get:function(){return 264}},{key:"x3683435108760260812x",get:function(){return 265}},{key:"x3837950005791707511x",get:function(){return 9}},{key:"kMinInputId",get:function(){return 257}},{key:"kMaxInputId",get:function(){return 265}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x354603830897072747x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3320707771031547482x.ts","./x932370022543966049x.ts","./x935098930897063106x.ts"],(function(t){"use strict";var e,i,n,r,s,a;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x3320707771031547482x},function(t){s=t.x932370022543966049x},function(t){a=t.x935098930897063106x}],execute:function(){n._RF.push({},"647dcJt5yxAcrVyXJy/8E5b","x354603830897072747x",void 0),t("x354603830897072747x",function(t){function n(e,i,r,s,o){var x;return(x=t.call(this,n.x2924843484704743760x,n.x3837950005791707511x,e,i,r,s,o)||this).mMaxRotationTapDistance_FXPT=1399,x.mMaxRotationTapTimeMSEC=0,x.mEnableCCWRotation=!0,x.mEnableMovePointer=!1,x.mMoveLRDragDistance_FXPT=1400,x.mEnableMoveLRAutoRepeat=!1,x.mMoveLRAutoRepeatInitialDelayMSEC=170,x.mMoveLRAutoRepeatDelayMSEC=50,x.mMinSoftDropDragDistanceY_FXPT=2e3,x.mMinSoftDropDragVelocityY_FXPT=4e3,x.mMinStopSoftDropDragDistanceY_FXPT=1e3,x.mMinStopSoftDropDragVelocityY_FXPT=1e3,x.mMinHardDropDragDistanceY_FXPT=1500,x.mMinHardDropDragVelocityY_FXPT=8e3,x.mMinHoldDragDistanceY_FXPT=1500,x.mMinHoldDragVelocityY_FXPT=8e3,x.mVelocitySmoothingWeight_FXPT=900,x.mMatrixCenterX_FXPT=~~(a.FXPTFromInt(r)/2),x.mPointerDragPrevX_FXPT=0,x.mPointerDragPrevY_FXPT=0,x.mMovePointerDragPrevX_FXPT=0,x.mMovePointerDragPrevY_FXPT=0,x.mPrevVelocityProcessTimeSEC_FXPT=0,x.mAvailableVelocityProcessTimeSEC_FXPT=0,x.mPointerFrameVelocityX_FXPT=0,x.mPointerFrameVelocityY_FXPT=0,x.mPointerSmoothedVelocityX_FXPT=0,x.mPointerSmoothedVelocityY_FXPT=0,x.mCurrentMoveLRDragDistanceX_FXPT=0,x.mCurrentMoveLRAutoRepeatControlAction=0,x.mMoveLRAutoRepeatTimerMSEC=0,x.mWasPrevRotationCCW=!1,x.mIsRotationTapValid=!1,x.mIsSoftDropInputOn=!1,x}e(n,t);var r=n.prototype;return r.resetPointerTracking=function(t){var e=this.getInput(n.x3457140870905163232x);e.mXAtOn_FXPT=e.mX_FXPT,e.mYAtOn_FXPT=e.mY_FXPT,this.mPointerDragPrevX_FXPT=e.mX_FXPT,this.mPointerDragPrevY_FXPT=e.mY_FXPT,this.mPrevVelocityProcessTimeSEC_FXPT=this.getController()._getTimeSEC_FXPT(),this.mAvailableVelocityProcessTimeSEC_FXPT=0,this.mPointerFrameVelocityX_FXPT=0,this.mPointerFrameVelocityY_FXPT=0,this.mPointerSmoothedVelocityX_FXPT=0,this.mPointerSmoothedVelocityY_FXPT=0,this.mEnableMovePointer||(this.mCurrentMoveLRDragDistanceX_FXPT=0),this.mIsRotationTapValid=t},r.resetMovePointerTracking=function(){var t=this.mEnableMovePointer?this.getInput(n.x2844540502712781641x):this.getInput(n.x3457140870905163232x);t.mXAtOn_FXPT=t.mX_FXPT,t.mYAtOn_FXPT=t.mY_FXPT,this.mMovePointerDragPrevX_FXPT=t.mX_FXPT,this.mMovePointerDragPrevY_FXPT=t.mY_FXPT,this.mCurrentMoveLRDragDistanceX_FXPT=0},r.updatePointerVelocities=function(){var t=this.getController()._getTimeSEC_FXPT(),e=t-this.mPrevVelocityProcessTimeSEC_FXPT;if(this.mPrevVelocityProcessTimeSEC_FXPT=t,e>0){this.mAvailableVelocityProcessTimeSEC_FXPT+=e;var i=this.getInput(n.x3457140870905163232x);for(this.mPointerFrameVelocityX_FXPT=a.FXPTDivide(i.mX_FXPT-this.mPointerDragPrevX_FXPT,e),this.mPointerFrameVelocityY_FXPT=a.FXPTDivide(i.mY_FXPT-this.mPointerDragPrevY_FXPT,e);this.mAvailableVelocityProcessTimeSEC_FXPT>10;)this.mPointerSmoothedVelocityX_FXPT=a.FXPTSmooth(this.mPointerSmoothedVelocityX_FXPT,this.mPointerFrameVelocityX_FXPT,this.mVelocitySmoothingWeight_FXPT),this.mPointerSmoothedVelocityY_FXPT=a.FXPTSmooth(this.mPointerSmoothedVelocityY_FXPT,this.mPointerFrameVelocityY_FXPT,this.mVelocitySmoothingWeight_FXPT),this.mAvailableVelocityProcessTimeSEC_FXPT-=10}},r.updateMoveLeftRight=function(t){if(this.mEnableMovePointer||this.getInput(n.x3457140870905163232x).mIsOn){var e=!1;if((this.mCurrentMoveLRDragDistanceX_FXPT>=0?this.mCurrentMoveLRDragDistanceX_FXPT:-this.mCurrentMoveLRDragDistanceX_FXPT)>=this.mMoveLRDragDistance_FXPT){var i=0,r=0;this.mCurrentMoveLRDragDistanceX_FXPT>0?(i=a.x3258880470381356346x,r=-this.mMoveLRDragDistance_FXPT):(i=a.x1854185702720947932x,r=this.mMoveLRDragDistance_FXPT),this.mEnableMoveLRAutoRepeat?this.mCurrentMoveLRAutoRepeatControlAction!=i&&(e=!0,this.mCurrentMoveLRAutoRepeatControlAction=i,this.getController()._performControlAction(i,null,null),this.mMoveLRAutoRepeatTimerMSEC=this.mMoveLRAutoRepeatInitialDelayMSEC):this.getController()._performControlAction(i,null,null),this.mCurrentMoveLRDragDistanceX_FXPT+=r}if(this.mEnableMoveLRAutoRepeat&&t>0&&!e&&0!=this.mCurrentMoveLRAutoRepeatControlAction)for(this.mMoveLRAutoRepeatTimerMSEC-=t;this.mMoveLRAutoRepeatTimerMSEC<=0;)this.getController()._performControlAction(this.mCurrentMoveLRAutoRepeatControlAction,null,null),this.mMoveLRAutoRepeatTimerMSEC+=this.mMoveLRAutoRepeatDelayMSEC}},r.isVerticalDragValid=function(t,e,i,n,r){return(e>=0?e:-e)>(t>=0?t:-t)&&(n>=0?n:-n)>=r&&(e>=0?e:-e)>=i},r.startSoftDrop=function(){this.isActive()&&(this.mIsSoftDropInputOn=!0,this.getController().isSoftDropOn()||this.getController()._performControlAction(a.x4446142406746104061x,null,null))},r.suspendSoftDrop=function(){this.isActive()&&this.getController().isSoftDropOn()&&this.getController()._performControlAction(a.x3336358786901950711x,null,null)},r.stopSoftDrop=function(){this.isActive()&&(this.mIsSoftDropInputOn=!1,this.getController().isSoftDropOn()&&this.getController()._performControlAction(a.x3336358786901950711x,null,null))},r.checkSoftDrop=function(){this.isActive()&&(this.getInput(n.x3457140870905163232x).mIsOn?this.mIsSoftDropInputOn&&this.startSoftDrop():this.stopSoftDrop())},r.performHold=function(){this.isActive()&&this.getController()._performControlAction(a.x3654181238410086381x,null,null)},r.destroy=function(){this.isDestroyed()||t.prototype.destroy.call(this)},r.x3513203343913544781x=function(t){t&&this.getController()._performControlAction(a.x4556268602533448012x,null,null)},r.x3033163149601749637x=function(t){this.updatePointerVelocities(),this.updateMoveLeftRight(t)},r.x231118008692704744x=function(t){switch(t.mInputId){case n.x3457140870905163232x:if(!t.mIsOn)return;if(this.updatePointerVelocities(),this.mIsRotationTapValid&&(this.mIsRotationTapValid=(t.mX_FXPT-t.mXAtOn_FXPT>=0?t.mX_FXPT-t.mXAtOn_FXPT:-(t.mX_FXPT-t.mXAtOn_FXPT))<=this.mMaxRotationTapDistance_FXPT&&(t.mY_FXPT-t.mYAtOn_FXPT>=0?t.mY_FXPT-t.mYAtOn_FXPT:-(t.mY_FXPT-t.mYAtOn_FXPT))<=this.mMaxRotationTapDistance_FXPT),!this.mEnableMovePointer&&(this.mPointerSmoothedVelocityX_FXPT>=0?this.mPointerSmoothedVelocityX_FXPT:-this.mPointerSmoothedVelocityX_FXPT)>(this.mPointerSmoothedVelocityY_FXPT>=0?this.mPointerSmoothedVelocityY_FXPT:-this.mPointerSmoothedVelocityY_FXPT)){var e=t.mX_FXPT-this.mPointerDragPrevX_FXPT;this.mCurrentMoveLRDragDistanceX_FXPT+=e,this.updateMoveLeftRight(0)}this.mPointerSmoothedVelocityY_FXPT<0?!this.getController().isSoftDropOn()&&this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT,this.mPointerSmoothedVelocityY_FXPT,this.mMinSoftDropDragVelocityY_FXPT,t.mY_FXPT-t.mYAtOn_FXPT,this.mMinSoftDropDragDistanceY_FXPT)&&(this.mCurrentMoveLRDragDistanceX_FXPT=0,this.startSoftDrop()):this.mPointerSmoothedVelocityY_FXPT>0&&this.getController().isSoftDropOn()&&this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT,this.mPointerSmoothedVelocityY_FXPT,this.mMinStopSoftDropDragVelocityY_FXPT,t.mY_FXPT-t.mYAtOn_FXPT,this.mMinStopSoftDropDragDistanceY_FXPT)&&(this.mCurrentMoveLRDragDistanceX_FXPT=0,this.stopSoftDrop()),this.mPointerDragPrevX_FXPT=t.mX_FXPT,this.mPointerDragPrevY_FXPT=t.mY_FXPT;break;case n.x2844540502712781641x:if(!this.mEnableMovePointer)return;e=t.mX_FXPT-this.mMovePointerDragPrevX_FXPT,this.mCurrentMoveLRDragDistanceX_FXPT+=e,this.updateMoveLeftRight(0),this.mMovePointerDragPrevX_FXPT=t.mX_FXPT,this.mMovePointerDragPrevY_FXPT=t.mY_FXPT}},r.x3797846894257560236x=function(t){switch(t.mInputId){case n.x3457140870905163232x:this.resetPointerTracking(!0);break;case n.x1480922606940183429x:this.getController()._performControlAction(a.x470776976658180505x,null,null);break;case n.x3474295547856963656x:this.getController()._performControlAction(a.x1770661362513838585x,null,null);break;case n.x633315955512940709x:this.getController()._performControlAction(a.x2851689118743160308x,null,null);break;case n.x2068352566790736374x:this.performHold();break;case n.x3683435108760260812x:this.getController()._performControlAction(a.x2288110086882958751x,null,null)}},r.x3345181124043966074x=function(t){if(t.mInputId===n.x3457140870905163232x){if(this.mCurrentMoveLRAutoRepeatControlAction=0,this.stopSoftDrop(),(this.mMaxRotationTapTimeMSEC<=0||t.mElapsedTimeOnMSEC<this.mMaxRotationTapTimeMSEC)&&(t.mX_FXPT-t.mXAtOn_FXPT>=0?t.mX_FXPT-t.mXAtOn_FXPT:-(t.mX_FXPT-t.mXAtOn_FXPT))<=this.mMaxRotationTapDistance_FXPT&&(t.mY_FXPT-t.mYAtOn_FXPT>=0?t.mY_FXPT-t.mYAtOn_FXPT:-(t.mY_FXPT-t.mYAtOn_FXPT))<=this.mMaxRotationTapDistance_FXPT){if(this.mIsRotationTapValid)if(this.mEnableCCWRotation){var e=this.mMatrixCenterX_FXPT;this.mWasPrevRotationCCW||(e-=s.x1657987435785422953x),t.mX_FXPT>=e?(this.getController()._performControlAction(a.x470776976658180505x,null,null),this.mWasPrevRotationCCW=!1):(this.getController()._performControlAction(a.x1770661362513838585x,null,null),this.mWasPrevRotationCCW=!0)}else this.getController()._performControlAction(a.x470776976658180505x,null,null),this.mWasPrevRotationCCW=!1}else this.mPointerSmoothedVelocityY_FXPT>0&&this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT,this.mPointerSmoothedVelocityY_FXPT,this.mMinHoldDragVelocityY_FXPT,t.mY_FXPT-t.mYAtOn_FXPT,this.mMinHoldDragDistanceY_FXPT)?this.performHold():this.mPointerSmoothedVelocityY_FXPT<0&&this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT,this.mPointerSmoothedVelocityY_FXPT,this.mMinHardDropDragVelocityY_FXPT,t.mY_FXPT-t.mYAtOn_FXPT,this.mMinHardDropDragDistanceY_FXPT)&&this.getController()._performControlAction(a.x2851689118743160308x,null,null);this.mIsRotationTapValid=!1}},r.x1042162547899707391x=function(t){t.mInputId===n.x3457140870905163232x&&(this.stopSoftDrop(),this.mIsRotationTapValid=!1)},r.x914208017346632379x=function(){},r.x4169104783292558150x=function(){return!0},r.x3494733809236826693x=function(){this.mWasPrevRotationCCW=!1,this.checkSoftDrop()},r.x3029631596496934119x=function(){this.suspendSoftDrop()},r.x857944601241301800x=function(){this.resetPointerTracking(!1),this.resetMovePointerTracking()},i(n,null,[{key:"x2924843484704743760x",get:function(){return 3}},{key:"x3457140870905163232x",get:function(){return 769}},{key:"x2844540502712781641x",get:function(){return 770}},{key:"x1480922606940183429x",get:function(){return 771}},{key:"x3474295547856963656x",get:function(){return 772}},{key:"x633315955512940709x",get:function(){return 773}},{key:"x2068352566790736374x",get:function(){return 774}},{key:"x3683435108760260812x",get:function(){return 775}},{key:"x3837950005791707511x",get:function(){return 7}},{key:"kMinInputId",get:function(){return 769}},{key:"kMaxInputId",get:function(){return 775}}]),n}(r)),n._RF.pop()}}})),System.register("chunks:///_virtual/x4377440091201973919x.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"ce2a4y7TftJHKm17bHz6evv","x4377440091201973919x",void 0),t("x4377440091201973919x",(function(t){this.mInputId=t,this.mIsEnabled=!0,this.mIsOn=!1,this.mElapsedTimeOnMSEC=0,this.mX_FXPT=0,this.mY_FXPT=0,this.mXAtOn_FXPT=0,this.mYAtOn_FXPT=0})),e._RF.pop()}}})),System.register("chunks:///_virtual/x3320707771031547482x.ts",["cc","./x4377440091201973919x.ts"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.x4377440091201973919x}],execute:function(){e._RF.push({},"cfbd9Y50FdC26/EhBzi4vFW","x3320707771031547482x",void 0),t("x3320707771031547482x",function(){function t(e,n,r,s,a,o,x){this.mInputs=new Array,this.mIsDestroyed=!1,this.mInputType=e,this.mNumInputs=n;for(var u=0;u<n;u++){var c=t.getInputId(e,u),l=new i(c);this.mInputs.push(l)}this.mController=r,this.mPieceData=s,this.mMatrixWidth=a,this.mMatrixHeight=o,this.mMatrixVisibleHeight=x,this.mIsActive=!1,this.mDidProcessEvaluationForNewLivePiece=!1,this.mNumPiecesDeactivated=0}t.getInputId=function(t,e){return t<<8|e+1},t.getInputTypeFromInputId=function(t){return t>>>8&255},t.getInputIndexFromInputId=function(t){return(255&t)-1};var e=t.prototype;return e.isDestroyed=function(){return this.mIsDestroyed},e.getInputType=function(){return this.mInputType},e.isActive=function(){return this.mIsActive},e.setIsActive=function(t){this.mIsActive=t,this.x3513203343913544781x(t)},e.processTime=function(t){for(var e=0;e<this.mNumInputs;e++){var i=this.mInputs[e];i.mIsOn&&(i.mElapsedTimeOnMSEC+=t)}this.x3033163149601749637x(t)},e.isInputEnabled=function(t){var e=this.getInput(t);return!!e&&e.mIsEnabled},e.setIsInputEnabled=function(t,e){e||this.handleInputOnIsCancelled(t);var i=this.getInput(t);i&&(i.mIsEnabled=e)},e.handleInputPositionChanged=function(t,e,i){var n=this.getInput(t);n&&n.mIsEnabled&&(n.mX_FXPT=e,n.mY_FXPT=i,this.mIsActive&&this.x231118008692704744x(n))},e.handleInputIsOn=function(t,e,i){var n=this.getInput(t);n&&n.mIsEnabled&&(n.mIsOn||(n.mIsOn=!0,n.mX_FXPT=e,n.mY_FXPT=i,n.mXAtOn_FXPT=e,n.mYAtOn_FXPT=i,n.mElapsedTimeOnMSEC=0,this.mIsActive&&this.x3797846894257560236x(n)))},e.handleInputIsOnExclusive=function(t,e,i){for(var n=0;n<this.mNumInputs;n++){var r=this.mInputs[n];r.mIsOn&&r.mInputId!=t&&this.x3345181124043966074x(r)}this.handleInputIsOn(t,e,i)},e.handleInputIsOff=function(t,e,i){var n=this.getInput(t);n&&n.mIsEnabled&&n.mIsOn&&(n.mIsOn=!1,n.mX_FXPT=e,n.mY_FXPT=i,this.mIsActive&&this.x3345181124043966074x(n))},e.handleInputOnIsCancelled=function(t){var e=this.getInput(t);e&&e.mIsEnabled&&e.mIsOn&&(e.mIsOn=!1,this.mIsActive&&this.x1042162547899707391x(e))},e.turnOffAllInputs=function(){for(var t=0;t<this.mNumInputs;t++){var e=this.mInputs[t];this.handleInputIsOff(e.mInputId,e.mX_FXPT,e.mY_FXPT)}},e.cancelAllInputs=function(){for(var t=0;t<this.mNumInputs;t++){var e=this.mInputs[t];this.handleInputOnIsCancelled(e.mInputId)}},e.isInputOn=function(t){var e=this.getInput(t);return!(!e||!e.mIsEnabled)&&e.mIsOn},e.startEvaluationForNewLivePiece=function(){this.mDidProcessEvaluationForNewLivePiece=!1,this.x914208017346632379x()},e.processEvaluationForNewLivePiece=function(){return this.mDidProcessEvaluationForNewLivePiece||(this.mDidProcessEvaluationForNewLivePiece=this.x4169104783292558150x()),this.mDidProcessEvaluationForNewLivePiece},e.handleLivePieceDidActivate=function(){this.x3494733809236826693x()},e.handleLivePieceDidTouchDown=function(){this.x3029631596496934119x()},e.handleLivePieceDidDeactivate=function(){this.mIsActive&&this.mNumPiecesDeactivated++,this.x857944601241301800x()},e.getNumPiecesDeactivated=function(){return this.mNumPiecesDeactivated},e.getInput=function(e){var i=t.getInputIndexFromInputId(e);return i>=0&&i<this.mNumInputs?this.mInputs[i]:null},e.getController=function(){return this.mController},e.getPieceData=function(){return this.mPieceData},e.getMatrixWidth=function(){return this.mMatrixWidth},e.getMatrixHeight=function(){return this.mMatrixHeight},e.getMatrixVisibleHeight=function(){return this.mMatrixVisibleHeight},e.isLivePieceControllable=function(){return this.mIsActive&&this.mController._isLivePieceControllable()},e.destroy=function(){if(!this.isDestroyed()){for(var t=0;t<this.mNumInputs;t++){var e=this.mInputs[t];null!==e&&(e=null)}this.mIsDestroyed=!0}},e.x3513203343913544781x=function(t){},e.x3033163149601749637x=function(t){},e.x231118008692704744x=function(t){},e.x3797846894257560236x=function(t){},e.x3345181124043966074x=function(t){},e.x1042162547899707391x=function(t){},e.x914208017346632379x=function(){},e.x4169104783292558150x=function(){return!0},e.x3494733809236826693x=function(){},e.x3029631596496934119x=function(){},e.x857944601241301800x=function(){},t}()),e._RF.pop()}}})),System.register("chunks:///_virtual/x982037128155278742x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x1457729986902235133x.ts","./x3326439281076804031x.ts","./x705059913409563765x.ts"],(function(t){"use strict";var e,i,n,r,s;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x1457729986902235133x},function(t){r=t.x3326439281076804031x},function(t){s=t.x705059913409563765x}],execute:function(){i._RF.push({},"cbebcQMXy9I7anKRIX0hgY8","x982037128155278742x",void 0),t("x982037128155278742x",function(){function t(t,e,i,a){this.mIsDestroyed=!1,a||(a=n.getSharedStandardPieceData(t,e,n.x4357731673361944875x)),this.mModel=new s(this,t,e,i,a),this.mController=new r(this,t,e,i,a),this.mController.setModel(this.mModel)}t.getInputTypeForName=function(e){return"direct"==e?t.x3435724326894576505x:"smart"==e?t.x481964451504965421x:"gesture"==e?t.x4564893816674366522x:"AI"==e?t.x383607419347711601x:0},t.getInputIdForName=function(e){return"moveLeft"==e?t.x84167985331149937x:"moveRight"==e?t.x441876573218134362x:"rotateCW"==e?t.x115904339937760766x:"rotateCCW"==e?t.x1832706965136798514x:"softDrop"==e?t.x168675351609879829x:"hardDrop"==e?t.x4273351845952634648x:"hold"==e?t.x358855786334357761x:"activateNextQueuedPendingAction"==e?t.x4273481718810612699x:0},t.getInputNameForId=function(e){switch(e){case t.x84167985331149937x:return"moveLeft";case t.x441876573218134362x:return"moveRight";case t.x115904339937760766x:return"rotateCW";case t.x1832706965136798514x:return"rotateCCW";case t.x168675351609879829x:return"softDrop";case t.x4273351845952634648x:return"hardDrop";case t.x358855786334357761x:return"hold";case t.x4273481718810612699x:return"activateNextQueuedPendingAction";default:return"UNKNOWN"}};var i=t.prototype;return i.isDestroyed=function(){return this.mIsDestroyed},i.x3615577876709611752x=function(t){this.mModel.mFallTimerType=t},i.x4164087698951727173x=function(t){this.mModel.mNormalFallSpeedMSEC=t},i.x2754687971609592792x=function(t){this.mModel.mSoftDropFallSpeedMSEC=t},i.x3715222810119513877x=function(t){this.mModel.mFallSpeedMultiplier_FXPT=t},i.x2107994403366030938x=function(t){this.mModel.mLockTimeMSEC=t},i.x158787207057406356x=function(t){this.mModel.mResetLockTimerOnMoveOrRotate=t},i.x3624274912751898799x=function(t){this.mModel.mEnableSoftDropInstantLock=t},i.enableInputType=function(t){this.mController.enableInputType(t)},i.disableInputType=function(t){this.mController.disableInputType(t)},i.isInputTypeEnabled=function(t){return this.mController.isInputTypeEnabled(t)},i.getActiveInputType=function(){return this.mController.getActiveInputType()},i.setActiveInputType=function(t){this.mController.setActiveInputType(t)},i.setEnableAutomaticInputTypeSwitching=function(t){this.mController.setEnableAutomaticInputTypeSwitching(t)},i.setDirectInputParameter_placementsAllowedBeforeLock=function(t){this.mModel.mDirectPlacementsAllowedBeforeLock=t},i.setDirectInputParameter_enableMoveLRAutoRepeat=function(e){this.isInputTypeEnabled(t.x3435724326894576505x)&&(this.mController.getDirectInputMgr().mEnableMoveLRAutoRepeat=e)},i.setDirectInputParameter_moveLRAutoRepeatInitialDelayMSEC=function(e){this.isInputTypeEnabled(t.x3435724326894576505x)&&(this.mController.getDirectInputMgr().mMoveLRAutoRepeatInitialDelayMSEC=e)},i.setDirectInputParameter_moveLRAutoRepeatDelayMSEC=function(e){this.isInputTypeEnabled(t.x3435724326894576505x)&&(this.mController.getDirectInputMgr().mMoveLRAutoRepeatDelayMSEC=e)},i.setSmartInputParameter_isTargetFacingFixed=function(e){this.isInputTypeEnabled(t.x481964451504965421x)&&(this.mController.getSmartInputMgr().mIsTargetFacingFixed=e)},i.setSmartInputParameter_cellTrackingInset_FXPT=function(e){this.isInputTypeEnabled(t.x481964451504965421x)&&(this.mController.getSmartInputMgr().mCellTrackingInset_FXPT=e)},i.setSmartInputParameter_restrictReachableTransforms=function(e){this.isInputTypeEnabled(t.x481964451504965421x)&&this.mController.getSmartInputMgr().x1156480399458270517x(e)},i.setSmartInputParameter_searchCellForTarget=function(e){this.isInputTypeEnabled(t.x481964451504965421x)&&(this.mController.getSmartInputMgr().mSearchCellForTarget=e)},i.setSmartInputParameter_searchColumnForTarget=function(e){this.isInputTypeEnabled(t.x481964451504965421x)&&(this.mController.getSmartInputMgr().mSearchColumnForTarget=e)},i.setSmartInputParameter_lockLivePieceAtTarget=function(t){this.mModel.mLockLivePieceAtTarget=t},i.setSmartInputParameter_snapToTargetOnTouchDownFallSpeedMSEC=function(t){this.mModel.mSnapToTargetOnTouchDownFallSpeedMSEC=t},i.setSmartInputParameter_updateTargetWhilePointerInputIsOff=function(e){this.isInputTypeEnabled(t.x481964451504965421x)&&(this.mController.getSmartInputMgr().mUpdateTargetWhilePointerInputIsOff=e)},i.setSmartInputParameter_selectTargetAtPointerInputOn=function(e){this.isInputTypeEnabled(t.x481964451504965421x)&&(this.mController.getSmartInputMgr().mSelectTargetAtPointerInputOn=e)},i.setSmartInputParameter_pointerSelectTargetMatrixBufferX=function(e){this.isInputTypeEnabled(t.x481964451504965421x)&&(this.mController.getSmartInputMgr().mPointerSelectTargetMatrixBufferX=e)},i.setSmartInputParameter_pointerSelectTargetMatrixBufferY=function(e){this.isInputTypeEnabled(t.x481964451504965421x)&&(this.mController.getSmartInputMgr().mPointerSelectTargetMatrixBufferY=e)},i.setSmartInputParameter_pointerSmoothingWeight_FXPT=function(e){this.isInputTypeEnabled(t.x481964451504965421x)&&(this.mController.getSmartInputMgr().mPointerSmoothingWeight_FXPT=e)},i.setSmartInputParameter_smartPlacementsAllowedBeforeLock=function(t){this.mModel.mSmartPlacementsAllowedBeforeLock=t},i.setSmartInputParameter_forceValidTarget=function(e){this.isInputTypeEnabled(t.x481964451504965421x)&&(this.mController.getSmartInputMgr().mForceValidTarget=e)},i.setGestureInputParameter_maxRotationTapDistance_FXPT=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mMaxRotationTapDistance_FXPT=e)},i.setGestureInputParameter_maxRotationTapTimeMSEC=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mMaxRotationTapTimeMSEC=e)},i.setGestureInputParameter_enableCCWRotation=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mEnableCCWRotation=e)},i.setGestureInputParameter_enableMovePointer=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mEnableMovePointer=e)},i.setGestureInputParameter_moveLRDragDistanceX_FXPT=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mMoveLRDragDistance_FXPT=e)},i.setGestureInputParameter_enableMoveLRAutoRepeat=function(e){this.isInputTypeEnabled(t.x3435724326894576505x)&&(this.mController.getGestureInputMgr().mEnableMoveLRAutoRepeat=e)},i.setGestureInputParameter_moveLRAutoRepeatInitialDelayMSEC=function(e){this.isInputTypeEnabled(t.x3435724326894576505x)&&(this.mController.getGestureInputMgr().mMoveLRAutoRepeatInitialDelayMSEC=e)},i.setGestureInputParameter_moveLRAutoRepeatDelayMSEC=function(e){this.isInputTypeEnabled(t.x3435724326894576505x)&&(this.mController.getGestureInputMgr().mMoveLRAutoRepeatDelayMSEC=e)},i.setGestureInputParameter_minSoftDropDragDistanceY_FXPT=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mMinStopSoftDropDragDistanceY_FXPT=e)},i.setGestureInputParameter_minSoftDropDragVelocityY_FXPT=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mMinSoftDropDragVelocityY_FXPT=e)},i.setGestureInputParameter_minStopSoftDropDragDistanceY_FXPT=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mMinStopSoftDropDragDistanceY_FXPT=e)},i.setGestureInputParameter_minStopSoftDropDragVelocityY_FXPT=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mMinStopSoftDropDragVelocityY_FXPT=e)},i.setGestureInputParameter_minHardDropDragDistanceY_FXPT=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mMinHardDropDragDistanceY_FXPT=e)},i.setGestureInputParameter_minHardDropDragVelocityY_FXPT=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mMinHardDropDragVelocityY_FXPT=e)},i.setGestureInputParameter_minHoldDragDistanceY_FXPT=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mMinHoldDragDistanceY_FXPT=e)},i.setGestureInputParameter_minHoldDragVelocityY_FXPT=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mMinHoldDragVelocityY_FXPT=e)},i.setGestureInputParameter_velocitySmoothingWeight_FXPT=function(e){this.isInputTypeEnabled(t.x4564893816674366522x)&&(this.mController.getGestureInputMgr().mVelocitySmoothingWeight_FXPT=e)},i.processTime=function(){this.mController.processTime(),this.mModel.processTime()},i.setMatrixLimits=function(t,e,i){this.mModel.setMatrixLimits(t,e,i)},i.performEvaluationForIncomingPiece=function(t,e,i,n,r){for(this.mModel.captureStateForNewLivePiece(t,e,i,n,r),this.mController.startEvaluationForNewLivePiece();!this.mController.processEvaluationForNewLivePiece(););},i.updateEvaluationForCurrentLivePiece=function(){for(this.mModel.captureStateForCurrentLivePiece(),this.mController.startEvaluationForNewLivePiece();!this.mController.processEvaluationForNewLivePiece(););},i.setCurrentStateMatrixMino=function(t,e,i){this.mModel.setCurrentStateMatrixMino(t,e,i)},i.isInputEnabled=function(t){return this.mController.isInputEnabled(t)},i.setIsInputEnabled=function(t,e){this.mController.setIsInputEnabled(t,e)},i.handleInputPositionChanged=function(t,e,i){return this.mController.handleInputPositionChanged(t,e,i)},i.handleInputIsOn=function(t,e,i){return this.mController.handleInputIsOn(t,e,i)},i.handleInputIsOnExclusive=function(t,e,i){return this.mController.handleInputIsOnExclusive(t,e,i)},i.handleInputIsOff=function(t,e,i){return this.mController.handleInputIsOff(t,e,i)},i.handleInputOnIsCancelled=function(t){this.mController.handleInputOnIsCancelled(t)},i.turnOffAllInputsForInputType=function(t){this.mController.turnOffAllInputsForInputType(t)},i.cancelAllInputs=function(){this.mController.cancelAllInputs()},i.isInputOn=function(t){return this.mController.isInputOn(t)},i.isSoftDropOn=function(){return this.mController.isSoftDropOn()},i.didPlayerActivelySelectTarget=function(){return this.mModel.didPlayerActivelySelectTarget()},i.handleLivePieceDidActivate=function(){this.mModel.handleLivePieceDidActivate(),this.mController.handleLivePieceDidActivate()},i.handleLivePieceDidDeactivate=function(){this.mModel.handleLivePieceDidDeactivate(),this.mController.handleLivePieceDidDeactivate()},i.isGhostPieceValid=function(){return this.mModel.isGhostPieceValid()},i.getEndingRotationPointForPiece=function(){return this.mModel.getEndingRotationPointForPiece()},i.getTSpinTypeForPiece=function(){return this.mModel.getTSpinTypeForPiece()},i.isSoftDropOnAndValid=function(){return this.mModel.isSoftDropOnAndValid()},i.getSoftDropStepsForPiece=function(){return this.mModel.getSoftDropStepsForPiece()},i.getHardDropStepsForPiece=function(){return this.mModel.getHardDropStepsForPiece()},i.suspendActivity=function(){this.cancelAllInputs(),this.mModel.suspendActivity()},i.resumeActivity=function(){this.mModel.resumeActivity()},i.isActive=function(){return this.mModel.isActive()},i.getMatrixWidth=function(){return this.mModel.getGameState().getMatrixWidth()},i.getMatrixHeight=function(){return this.mModel.getGameState().getMatrixHeight()},i.getModel=function(){return this.mModel},i.getController=function(){return this.mController},i.destroy=function(){this.isDestroyed()||(this.mController.destroy(),null!==this.mController&&(this.mController=null),this.mModel.destroy(),null!==this.mModel&&(this.mModel=null),this.mIsDestroyed=!0)},i.x2837559168208578010x=function(){},i.x1305601496123613613x=function(){return 0},i.x1168407876190680895x=function(t,e,i,n,r){},i.x1512348144720096233x=function(t){return!1},i.x1702561433221128338x=function(t){},i.x207740918435054839x=function(t,e,i){},i.x4128265775335110378x=function(t){},i.x4386291552209372470x=function(t){},i.x3319777695370227496x=function(t,e){},i.x1382977277032518788x=function(){},i.x1980753659206536435x=function(){},i.x1600135720966771003x=function(){},e(t,null,[{key:"x3783315100798603843x",get:function(){return 1e6}},{key:"x3435724326894576505x",get:function(){return 1}},{key:"x481964451504965421x",get:function(){return 2}},{key:"x4564893816674366522x",get:function(){return 3}},{key:"x383607419347711601x",get:function(){return 4}},{key:"x84167985331149937x",get:function(){return 257}},{key:"x441876573218134362x",get:function(){return 258}},{key:"x115904339937760766x",get:function(){return 259}},{key:"x1832706965136798514x",get:function(){return 260}},{key:"x168675351609879829x",get:function(){return 261}},{key:"x4273351845952634648x",get:function(){return 262}},{key:"x358855786334357761x",get:function(){return 263}},{key:"kDirectInputId_moveTargetX",get:function(){return 264}},{key:"x4273481718810612699x",get:function(){return 265}},{key:"x1095031602718912558x",get:function(){return 513}},{key:"x3949101582641483860x",get:function(){return 514}},{key:"x2434766824209919569x",get:function(){return 515}},{key:"x3647089360411258748x",get:function(){return 516}},{key:"x1546462877909911830x",get:function(){return 517}},{key:"x4581489581482744052x",get:function(){return 518}},{key:"x4160855571444675896x",get:function(){return 519}},{key:"x4184125807101587686x",get:function(){return 520}},{key:"x4608136935488644028x",get:function(){return 521}},{key:"x3722075694695496715x",get:function(){return 769}},{key:"kGestureInputId_movePointer",get:function(){return 770}},{key:"kGestureInputId_rotateCW",get:function(){return 771}},{key:"kGestureInputId_rotateCCW",get:function(){return 772}},{key:"kGestureInputId_hardDrop",get:function(){return 773}},{key:"x3933010103051562368x",get:function(){return 774}},{key:"x947917825047960394x",get:function(){return 775}},{key:"kStandardControlVersionNumber",get:function(){return"289.01"}}]),t}()),i._RF.pop()}}})),System.register("chunks:///_virtual/x3747634908556257468x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x887952276100355392x.ts","./x935098930897063106x.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.x887952276100355392x},function(t){r=t.x935098930897063106x}],execute:function(){i._RF.push({},"945092yZvNHCLedsCpWApSD","x3747634908556257468x",void 0),t("x3747634908556257468x",function(){function t(e,i,s,a){this.mActionTransformPathToTarget=new Array,this.mIsDestroyed=!1,this.mIsFallControlEnabled=!0,this.mFallTimerType=t.x3148914605693422151x,this.mNormalFallSpeedMSEC=1e3,this.mMaxNormalFallSteps=r.x4486032239274713138x,this.mSoftDropFallSpeedMSEC=-1,this.mFallSpeedMultiplier_FXPT=r.x3167629350924187699x,this.mEnableSoftDropInstantLock=!1,this.mAllowMoveLRDuringSoftDrop=!0,this.mStopSoftDropOnPieceDeactivation=!1,this.mIsLockTimerEnabled=!0,this.mLockTimeMSEC=500,this.mResetLockTimerOnMoveOrRotate=!0,this.mLockLivePieceAtTarget=!0,this.mSnapToTargetOnTouchDownFallSpeedMSEC=20,this.mSmartPlacementsAllowedBeforeLock=30,this.mDirectPlacementsAllowedBeforeLock=15,this.mAllowDirectRotationalHovering=!1,this.mAllowInfiniteHold=!1,this.mEnablePathToTarget=!1,this.mPieceData=a,this.mIsActive=!0,this.mControlMode=t.x4158434589156622263x,this.mGameState=new n(a,e,i,s),this.mPrevProcessTimeMSEC=-1,this.mIsLivePieceControllable=!1,this.mDidHandleLivePieceWillLockDown=!1,this.mFallTimerRemainingMSEC=-1,this.mRemainingNormalFallSteps=r.x4486032239274713138x,this.mCanHoldLivePiece=!0,this.mIsSoftDropOn=!1,this.mLowestLivePieceY=1e6,this.mLowestRowTouchedByLivePiece=1e6,this.mIsLivePieceTouchingDown=!1,this.mLockTimerElapsedMSEC=-1,this.mLockTimerRemainingMSEC=-1,this.mTargetTransform=r.x703179871846962360x,this.mSmartPlacementsRemainingBeforeLock=0,this.mDirectPlacementsRemainingBeforeLock=0,this.mActionTransformPathToTarget.length=0,this.mDidMatrixChangeSinceLastSetTransforms=!1,this.mDidPlayerActivelySelectTarget=!1,this.mCurrentLivePiecePathStep=-1,this.mEndingRotationPointForPiece=0,this.mTSpinTypeForPiece=r.x2088302373693961418x,this.mSoftDropStepsForPiece=0,this.mHardDropStepsForPiece=0}var i=t.prototype;return i.isDestroyed=function(){return this.mIsDestroyed},i.getPieceData=function(){return this.mPieceData},i.processTime=function(){if(this.mIsActive){var t=this.x4209112753199662349x();if(this.mPrevProcessTimeMSEC>=0){var e=t-this.mPrevProcessTimeMSEC;this.processLockTimer(e),this.processFallTimer(e)}this.mPrevProcessTimeMSEC=t}},i.setMatrixLimits=function(t,e,i){this.mGameState.setMatrixLimits(t,e,i)},i.setMaxNormalFallSteps=function(t){this.mMaxNormalFallSteps=t>=0?t:r.x4486032239274713138x,this.mRemainingNormalFallSteps=this.mMaxNormalFallSteps,this.isFallControlEnabled()&&!this.isFallTimerActive()&&this.startLivePieceFalling(!1)},i.captureStateForNewLivePiece=function(t,e,i,n,r){this.mGameState.resetStateWithLivePiece(t,e,i,n,e,i,n),this.mGameState.setAlternatePieceTypeId(r),this.x3091136389383736586x(),this.mDidMatrixChangeSinceLastSetTransforms=!0},i.captureStateForCurrentLivePiece=function(){this.mGameState.resetStateWithCurrentLivePiece(),this.x3091136389383736586x(),this.mDidMatrixChangeSinceLastSetTransforms=!0},i.setCurrentStateMatrixMino=function(t,e,i){this.mGameState.setMino(t,e,i,2147483647,!1,!0,!0)},i.getGameState=function(){return this.mGameState},i.handleLivePieceDidActivate=function(){this.mIsLivePieceControllable=!0,this.mDidHandleLivePieceWillLockDown=!1,this.mFallTimerRemainingMSEC=-1,this.mRemainingNormalFallSteps=this.mMaxNormalFallSteps,this.mLowestLivePieceY=1e6,this.mLowestRowTouchedByLivePiece=1e6,this.mIsLivePieceTouchingDown=!1,this.mSmartPlacementsRemainingBeforeLock=this.mSmartPlacementsAllowedBeforeLock>=0?this.mSmartPlacementsAllowedBeforeLock:r.x4486032239274713138x,this.mDirectPlacementsRemainingBeforeLock=this.mDirectPlacementsAllowedBeforeLock>=0?this.mDirectPlacementsAllowedBeforeLock:r.x4486032239274713138x,this.mTargetTransform=r.x703179871846962360x,this.mActionTransformPathToTarget.length=0,this.mDidPlayerActivelySelectTarget=!1,this.mCurrentLivePiecePathStep=-1,this.mEndingRotationPointForPiece=0,this.mTSpinTypeForPiece=r.x2088302373693961418x,this.mSoftDropStepsForPiece=0,this.mHardDropStepsForPiece=0,this.mGameState.handleLivePieceDidActivate(),this.mIsActive&&(this.updateDirectModeGhostPiece(),this.updateLowestRowReachedByLivePiece(),this.startLivePieceFalling(!0))},i.handleLivePieceDidFall=function(){this.isLivePieceControllable()&&(this.mEndingRotationPointForPiece=0,this.isSoftDropOnAndValid()&&!this.isControlModeSmart()&&this.mSoftDropStepsForPiece++,this.updateDirectModeGhostPiece(),this.updateLowestRowReachedByLivePiece())},i.handleLivePieceDidTouchDown=function(){this.isLivePieceControllable()&&(this.mIsLivePieceTouchingDown||(this.trySnapToTarget(),this._handleLivePieceDidTouchDown()))},i.handleLivePieceWillLockDown=function(){this.isLivePieceControllable()&&(this.isControlModeSmart()&&this.mLockLivePieceAtTarget&&this.mTargetTransform!=r.x703179871846962360x&&this.selectTarget(!1,!1,!1),this.mIsLivePieceControllable=!1,this._handleLivePieceWillLockDown())},i.handleLivePieceDidDeactivate=function(){this.mStopSoftDropOnPieceDeactivation&&(this.mIsSoftDropOn=!1),this.cancelLockTimer(),this.cancelFallTimer(),this.mGameState.handleLivePieceDidDeactivate()},i.performControlAction=function(e,i,n){var s=0;switch(this.mGameState.setCurrentControlAction(e),e){case r.x1854185702720947932x:case r.x3258880470381356346x:case r.x274660332411645642x:case r.x280351877232321731x:case r.x2445769797929427052x:case r.x470776976658180505x:case r.x1770661362513838585x:case r.x4446142406746104061x:case r.x3336358786901950711x:case r.x2851689118743160308x:case r.x4556268602533448012x:switch(this.setControlMode(t.x4158434589156622263x),e){case r.x4556268602533448012x:if(this.isLivePieceControllable()){var a=this.getCurrentLivePieceTransform();a!=r.x703179871846962360x&&this.setTransforms(a,this.mGameState.getTransformForControlAction(a,r.x2851689118743160308x),r.x248707270714796255x,0)}break;case r.x4446142406746104061x:this.isFallControlEnabled()?this.mIsSoftDropOn?this.x1635386745551943052x(r.x4446142406746104061x):(this.mIsSoftDropOn=!0,this.mGameState.doesLivePieceTouchBelow()&&!this.mEnableSoftDropInstantLock||(this.mFallTimerRemainingMSEC=0,this.processFallTimer(0)),this.x2820077618754108443x(this.mGameState.getLivePieceCurrentX(),this.mGameState.getLivePieceCurrentY(),this.mGameState.getLivePieceCurrentFacing(),e,0)):!this.mIsSoftDropOn&&this.x3124090314184543588x(r.x4446142406746104061x)?this.mIsSoftDropOn=!0:this.x1635386745551943052x(r.x4446142406746104061x);break;case r.x3336358786901950711x:this.isFallControlEnabled()?this.mIsSoftDropOn?(this.mIsSoftDropOn=!1,this.cancelFallTimer(),this.startLivePieceFalling(!1)):this.x1635386745551943052x(r.x3336358786901950711x):this.mIsSoftDropOn&&this.x3124090314184543588x(r.x3336358786901950711x)?this.mIsSoftDropOn=!1:this.x1635386745551943052x(r.x3336358786901950711x);break;default:if(this.isLivePieceControllable()){if(!this.x3124090314184543588x(e)){var o,x=this.getCurrentLivePieceTransform();switch(e){case r.x1854185702720947932x:case r.x3258880470381356346x:case r.x274660332411645642x:case r.x280351877232321731x:case r.x2445769797929427052x:case r.x470776976658180505x:case r.x1770661362513838585x:var u=!0;switch(e){case r.x1854185702720947932x:case r.x3258880470381356346x:u=this.mAllowMoveLRDuringSoftDrop||!this.mIsSoftDropOn}if(u){switch(e){case r.x470776976658180505x:case r.x1770661362513838585x:if(!this.mAllowDirectRotationalHovering&&this.mDirectPlacementsRemainingBeforeLock<=0)switch(e){case r.x470776976658180505x:e=r.x280351877232321731x;break;case r.x1770661362513838585x:e=r.x2445769797929427052x}}if((s=this.mGameState.getTransformForControlAction(x,e))!=r.x703179871846962360x){var c=this.mGameState.getTransformActionForControlAction(x,s,e),l=r.getControlActionInfoForTransformAction(c);o=this.mGameState.getTransformForControlAction(s,r.x2851689118743160308x),this.setTransforms(s,o,e,l)}else this.x1635386745551943052x(e)}else this.x1635386745551943052x(e);break;case r.x2851689118743160308x:o=this.mGameState.getTransformForControlAction(x,r.x2851689118743160308x),this.mHardDropStepsForPiece=this.mPieceData.computeYFromTransformId(x)-this.mPieceData.computeYFromTransformId(o),this.setTransforms(x,o,r.x248707270714796255x,0),this.selectTarget(!0,!1,!0);break;default:this.x1635386745551943052x(e)}}}else this.x1635386745551943052x(e)}break;case r.x4519586451785019140x:case r.x1908361403014583940x:case r.x1716098852498552357x:case r.x2445069652356277417x:case r.x3093649411068047557x:case r.x2937731454309797899x:switch(this.setControlMode(t.x3048546232807817064x),e){case r.x4519586451785019140x:s=this.mGameState.generateActionTransformPathWithActions(this.mGameState.getLivePieceStartingTransform(),i,null);var h=this.mGameState.generateActionTransformPathWithActions(this.mGameState.getLivePieceStartingTransform(),n,this.mActionTransformPathToTarget);this.setTransforms(s,h,r.x4519586451785019140x,0);break;case r.x1908361403014583940x:case r.x1716098852498552357x:case r.x2445069652356277417x:case r.x3093649411068047557x:break;case r.x2937731454309797899x:this.selectTarget(!0,this.mEnablePathToTarget,!0)}break;case r.x3654181238410086381x:this.isLivePieceControllable()&&this.mCanHoldLivePiece&&this.x3124090314184543588x(r.x3654181238410086381x)?this.mAllowInfiniteHold||(this.mCanHoldLivePiece=!1):this.x1635386745551943052x(r.x3654181238410086381x);break;default:this.x3124090314184543588x(e)}this.mGameState.setCurrentControlAction(r.x248707270714796255x)},i.forceHardDropControlAction=function(){this.performControlAction(r.x2851689118743160308x,null,null)},i.isGhostPieceValid=function(){return this.isLivePieceControllable()&&this.mTargetTransform!=r.x703179871846962360x},i.isControllingLivePiecePathToTarget=function(){return this.isLivePieceActive()&&this.mCurrentLivePiecePathStep>=0},i.processLivePiecePathToTarget=function(){if(this.isLivePieceActive()&&!(this.mCurrentLivePiecePathStep<0)){var t=this.mActionTransformPathToTarget.length/2;if(this.mCurrentLivePiecePathStep<t){var e=this.mActionTransformPathToTarget[2*this.mCurrentLivePiecePathStep],i=this.mActionTransformPathToTarget[2*this.mCurrentLivePiecePathStep+1];this.setLivePieceTransform(i,r.getControlActionForTransformAction(e),r.getControlActionInfoForTransformAction(e)),this.mCurrentLivePiecePathStep++}this.mCurrentLivePiecePathStep>=t&&(this.lockLivePiece(),this.mCurrentLivePiecePathStep=-1)}},i.getEndingRotationPointForPiece=function(){return this.mEndingRotationPointForPiece},i.getTSpinTypeForPiece=function(){return this.mTSpinTypeForPiece},i.isSoftDropOnAndValid=function(){return this.isLivePieceControllable()&&this.mIsSoftDropOn&&this.mGameState.getLivePieceCurrentY()<=this.mLowestLivePieceY},i.getSoftDropStepsForPiece=function(){return this.mSoftDropStepsForPiece},i.getHardDropStepsForPiece=function(){return this.mHardDropStepsForPiece},i.didPlayerActivelySelectTarget=function(){return this.mDidPlayerActivelySelectTarget},i.canHoldLivePiece=function(){return this.mCanHoldLivePiece},i.suspendActivity=function(){this.mIsActive&&(this.mIsActive=!1,this.mPrevProcessTimeMSEC=-1)},i.resumeActivity=function(){this.mIsActive||(this.mIsActive=!0,this.mPrevProcessTimeMSEC=this.x4209112753199662349x(),this.updateLowestRowReachedByLivePiece())},i.isActive=function(){return this.mIsActive&&this.mPrevProcessTimeMSEC>=0},i.setControlMode=function(t){this.mControlMode!=t&&(this.mIsSoftDropOn&&(this.x3124090314184543588x(r.x3336358786901950711x),this.mIsSoftDropOn=!1),this.mControlMode=t,this.mActionTransformPathToTarget.length=0,this.mEndingRotationPointForPiece=0)},i.isControlModeSmart=function(){return this.mControlMode==t.x3048546232807817064x},i.isLivePieceActive=function(){return this.mIsActive&&this.mGameState.isLivePieceActive()},i.isLivePieceControllable=function(){return this.mIsActive&&this.mGameState.isLivePieceActive()&&this.mIsLivePieceControllable},i.getCurrentLivePiece=function(){return this.isLivePieceActive()?this.mPieceData.getPiece(this.mGameState.getLivePieceTypeId(),this.getCurrentLivePieceTransform()):null},i.getCurrentLivePieceTransform=function(){return this.mGameState.getLivePieceCurrentTransform()},i.getCurrentLivePieceBottomRow=function(){var t=this.getCurrentLivePiece();return t?t.mMinMinoY:-1},i.startLivePieceFalling=function(e){var i=this.mGameState.doesLivePieceTouchBelow();switch(i&&e&&this.cancelLockTimer(),this.mFallTimerType){case t.x3148914605693422151x:i?(this.cancelFallTimer(),this.mIsLivePieceTouchingDown=!1,this.handleLivePieceDidTouchDown()):(this.cancelLockTimer(),this.startFallTimer());break;case t.x1252740786485571309x:this.startFallTimer()}},i.isFallControlEnabled=function(){return this.mIsFallControlEnabled},i.isFallTimerActive=function(){return this.mFallTimerRemainingMSEC>=0&&this.mFallTimerRemainingMSEC<t.x3783315100798603843x},i.getCurrentFallSpeedMSEC=function(){var t=this.mIsSoftDropOn?r.minInt(this.mSoftDropFallSpeedMSEC,this.mNormalFallSpeedMSEC):this.mNormalFallSpeedMSEC;return this.mFallSpeedMultiplier_FXPT!=r.x3167629350924187699x&&(this.mFallSpeedMultiplier_FXPT<r.x3167629350924187699x?t=r.FXPTToInt(r.FXPTMultiply(r.FXPTFromInt(t),this.mFallSpeedMultiplier_FXPT)):t*=r.FXPTToInt(this.mFallSpeedMultiplier_FXPT)),t},i.startFallTimer=function(){this.isFallControlEnabled()&&(this.isFallTimerActive()||(this.mFallTimerRemainingMSEC=this.getCurrentFallSpeedMSEC(),0==this.mFallTimerRemainingMSEC&&this.processFallTimer(0)))},i.processFallTimer=function(e){if(this.isFallControlEnabled()&&this.isFallTimerActive()){this.mFallTimerRemainingMSEC-=e;for(var i=this.mFallTimerRemainingMSEC<=0,n=this.getCurrentFallSpeedMSEC(),s=this.getCurrentLivePiece(),a=this.mGameState.doesPieceTouchBelow(s),o=a;s&&this.mFallTimerRemainingMSEC<=0&&!a&&(this.mRemainingNormalFallSteps>0||this.isSoftDropOnAndValid());)s=this.mPieceData.getPiece(this.mGameState.getLivePieceTypeId(),s.mPerTransformActionToTransformIds[r.x507072717885954088x]),this.setLivePieceTransform(s.mTransformId,r.x274660332411645642x,0),this.handleLivePieceDidFall(),a=this.mGameState.doesPieceTouchBelow(s),this.mFallTimerRemainingMSEC+=n,this.mRemainingNormalFallSteps<r.x4486032239274713138x&&this.mRemainingNormalFallSteps--;if(this.mRemainingNormalFallSteps<=0&&!this.isSoftDropOnAndValid()&&this.cancelFallTimer(),a)switch(this.mFallTimerType===t.x3148914605693422151x&&this.cancelFallTimer(),this.cancelLockTimer(),this.mIsLivePieceTouchingDown=!1,this.handleLivePieceDidTouchDown(),this.mFallTimerType){case t.x3148914605693422151x:break;case t.x1252740786485571309x:i&&o&&this.lockLivePiece()}}},i.cancelFallTimer=function(){this.isFallControlEnabled()&&(this.mFallTimerRemainingMSEC=-1)},i.updateLowestRowReachedByLivePiece=function(){if(this.isLivePieceControllable()){var t=this.mGameState.getLivePieceCurrentY();t<this.mLowestLivePieceY&&(this.mLowestLivePieceY=t);var e=this.getCurrentLivePieceBottomRow();e<this.mLowestRowTouchedByLivePiece&&(this.mLowestRowTouchedByLivePiece=e,this.mSmartPlacementsRemainingBeforeLock=this.mSmartPlacementsAllowedBeforeLock>=0?this.mSmartPlacementsAllowedBeforeLock:r.x4486032239274713138x,this.mDirectPlacementsRemainingBeforeLock=this.mDirectPlacementsAllowedBeforeLock>=0?this.mDirectPlacementsAllowedBeforeLock:r.x4486032239274713138x)}},i._handleLivePieceDidTouchDown=function(){this.isLivePieceControllable()&&!this.mIsLivePieceTouchingDown?(this.mIsLivePieceTouchingDown=!0,(this.isControlModeSmart()?this.mSmartPlacementsRemainingBeforeLock:this.mDirectPlacementsRemainingBeforeLock)<=0||this.mEnableSoftDropInstantLock&&this.isSoftDropOnAndValid()?(this.cancelLockTimer(),this.lockLivePiece()):this.startLockTimer()):this.cancelLockTimer()},i._handleLivePieceWillLockDown=function(){this.mDidHandleLivePieceWillLockDown||(this.mTSpinTypeForPiece=this.getGameState().getTSpinTypeForLivePieceCurrentTransform(this.mEndingRotationPointForPiece),this.mDidHandleLivePieceWillLockDown=!0,this.mCanHoldLivePiece=!0,this.mGameState.handleLivePieceWillLockDown())},i.isLockTimerEnabled=function(){return this.mIsLockTimerEnabled&&this.mLockTimeMSEC>=0},i.isLockTimerActive=function(){return!!this.isLockTimerEnabled()&&this.mLockTimerRemainingMSEC>=0},i.startLockTimer=function(){this.isLockTimerEnabled()&&(this.isLockTimerActive()||(this.mLockTimeMSEC>0?(this.mLockTimerElapsedMSEC=0,this.mLockTimerRemainingMSEC=this.mLockTimeMSEC,this.x234444376093389026x(this.mLockTimerRemainingMSEC)):(this.handleLivePieceWillLockDown(),this.lockLivePiece())))},i.processLockTimer=function(t){this.isLockTimerEnabled()&&this.isLockTimerActive()&&(this.mLockTimerElapsedMSEC+=t,this.mLockTimerRemainingMSEC-=t,this.mLockTimerRemainingMSEC<=0?(this.x1826979957801087186x(),this.handleLivePieceWillLockDown(),this.lockLivePiece()):this.x1663692956205744434x(this.mLockTimerElapsedMSEC,this.mLockTimerRemainingMSEC))},i.cancelLockTimer=function(){this.isLockTimerEnabled()?this.isLockTimerActive()&&(this.mLockTimerElapsedMSEC=-1,this.mLockTimerRemainingMSEC=-1,this.x2544005947069254574x()):this.x4269482276813268501x()},i.trySnapToTarget=function(){if(!this.isControlModeSmart())return!1;var t=0;return this.isFallControlEnabled()&&(t=this.mNormalFallSpeedMSEC),!(!(t<=this.mSnapToTargetOnTouchDownFallSpeedMSEC&&this.mGameState.doesLivePieceTouchBelow())||this.mPieceData.areTransformsEquivalent(this.mGameState.getLivePieceTypeId(),this.getCurrentLivePiece().mTransformId,this.mTargetTransform)||(this.setLivePieceTransform(this.mTargetTransform,r.x3093649411068047557x,0),0))},i.setLivePieceTransform=function(t,e,i){if(t!=this.getCurrentLivePieceTransform()&&this.mPieceData.isTransformValid(this.mGameState.getLivePieceTypeId(),t)){this.mGameState.setLivePieceCurrentTransform(t);var n=this.mPieceData.computeXFromTransformId(t),s=this.mPieceData.computeYFromTransformId(t),a=r.computeFacingFromTransformId(t);this.x2820077618754108443x(n,s,a,e,i)}},i.setTransforms=function(e,i,n,s){if(this.mTargetTransform=i,i!=r.x703179871846962360x){this.x2129624871256690700x(!0);var a=this.mPieceData.computeXFromTransformId(i),o=this.mPieceData.computeYFromTransformId(i),x=r.computeFacingFromTransformId(i);this.x4301240009920430909x(a,o,x)}else this.x2129624871256690700x(!1);if(e!=r.x703179871846962360x){var u=this.getCurrentLivePieceTransform();if(u!=e||this.mDidMatrixChangeSinceLastSetTransforms){this.mDidMatrixChangeSinceLastSetTransforms=!1,this.setLivePieceTransform(e,n,s);var c=this.getCurrentLivePieceTransform();if(c!=u){switch(this.trySnapToTarget()&&(c=this.getCurrentLivePieceTransform()),n){case r.x280351877232321731x:case r.x2445769797929427052x:case r.x470776976658180505x:case r.x1770661362513838585x:var l=s;5==this.mEndingRotationPointForPiece?1!=l&&(this.mEndingRotationPointForPiece=l):this.mEndingRotationPointForPiece=l;break;default:this.getPieceData().areTransformsEquivalent(this.mGameState.getLivePieceTypeId(),c,u)||(this.mEndingRotationPointForPiece=0)}this.isControlModeSmart()?this.mSmartPlacementsRemainingBeforeLock<r.x4486032239274713138x&&this.mSmartPlacementsRemainingBeforeLock--:this.mDirectPlacementsRemainingBeforeLock<r.x4486032239274713138x&&this.mDirectPlacementsRemainingBeforeLock--,this.updateLowestRowReachedByLivePiece(),this.mFallTimerType===t.x3148914605693422151x&&(this.mIsLivePieceTouchingDown=!1,this.startLivePieceFalling(this.mResetLockTimerOnMoveOrRotate))}}}},i.selectTarget=function(t,e,i){var n;if(this.isLivePieceControllable())if(this.mIsLivePieceControllable=!1,this.mCurrentLivePiecePathStep=-1,this.mDidPlayerActivelySelectTarget=t,this.x2129624871256690700x(!1),n=this.isControlModeSmart()?r.x2937731454309797899x:r.x2851689118743160308x,this.mTargetTransform!=r.x703179871846962360x){if(this.isControlModeSmart()){this.mEndingRotationPointForPiece=this.mGameState.getEndingRotationPointForPath(this.mActionTransformPathToTarget);var s=this.getCurrentLivePieceTransform();this.mSoftDropStepsForPiece=this.mGameState.getSoftDropStepsForPath(this.mActionTransformPathToTarget,s,this.mLowestLivePieceY),this.mHardDropStepsForPiece=this.mGameState.getHardDropStepsForPath(this.mActionTransformPathToTarget,s)}e?(this.mCurrentLivePiecePathStep=0,this.processLivePiecePathToTarget()):(this.setLivePieceTransform(this.mTargetTransform,n,0),i&&this.lockLivePiece())}else{this.mHardDropStepsForPiece=0;for(var a=this.getCurrentLivePiece();a&&!this.mGameState.doesPieceTouchBelow(a);)a=this.mPieceData.getPiece(this.mGameState.getLivePieceTypeId(),a.mPerTransformActionToTransformIds[r.x507072717885954088x]),this.mHardDropStepsForPiece++;this.setLivePieceTransform(a.mTransformId,n,0),i&&this.lockLivePiece()}},i.lockLivePiece=function(){this._handleLivePieceWillLockDown(),this.cancelLockTimer(),this.mIsLivePieceControllable=!1,this.x4555743477576061950x()},i.updateDirectModeGhostPiece=function(){this.mControlMode==t.x4158434589156622263x&&this.performControlAction(r.x4556268602533448012x,null,null)},i.destroy=function(){this.isDestroyed()||(this.mGameState.destroy(),null!==this.mGameState&&(this.mGameState=null),this.mIsDestroyed=!0)},i.x4209112753199662349x=function(){return 0},i.x3091136389383736586x=function(){},i.x2820077618754108443x=function(t,e,i,n,r){},i.x3124090314184543588x=function(t){return!1},i.x1635386745551943052x=function(t){},i.x4301240009920430909x=function(t,e,i){},i.x2129624871256690700x=function(t){},i.x234444376093389026x=function(t){},i.x1663692956205744434x=function(t,e){},i.x1826979957801087186x=function(){},i.x2544005947069254574x=function(){},i.x4269482276813268501x=function(){},i.x4555743477576061950x=function(){},e(t,null,[{key:"x3048546232807817064x",get:function(){return 1}},{key:"x4158434589156622263x",get:function(){return 2}},{key:"x3148914605693422151x",get:function(){return 1}},{key:"x1252740786485571309x",get:function(){return 2}},{key:"x3783315100798603843x",get:function(){return 1e6}}]),t}()),i._RF.pop()}}})),System.register("chunks:///_virtual/x1990922053088099304x.ts",["./rollupPluginModLoBabelHelpers.js","cc","./x3320707771031547482x.ts","./x1235144961025176902x.ts","./x932370022543966049x.ts","./x935098930897063106x.ts"],(function(t){"use strict";var e,i,n,r,s,a,o;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){r=t.x3320707771031547482x},function(t){s=t.x1235144961025176902x},function(t){a=t.x932370022543966049x},function(t){o=t.x935098930897063106x}],execute:function(){n._RF.push({},"adeefjfz1tDIoOFLqFpXVrW","x1990922053088099304x",void 0),t("x1990922053088099304x",function(t){function n(e,i,r,a,x){var u;return(u=t.call(this,n.x2924843484704743760x,n.x3837950005791707511x,e,i,r,a,x)||this).mActionsToTarget=new Array,u.mActionsToLivePiece=new Array,u.mIsTargetFacingFixed=!1,u.mCellTrackingInset_FXPT=100,u.mSearchCellForTarget=!0,u.mSearchColumnForTarget=!0,u.mUpdateTargetWhilePointerInputIsOff=!0,u.mForceValidTarget=!1,u.mPointerSelectTargetMatrixBufferX=1e3,u.mPointerSelectTargetMatrixBufferY=1e3,u.mSelectTargetAtPointerInputOn=!0,u.mPieceDeactivationByNonSelectCancelsPointerOn=!0,u.mPointerSmoothingWeight_FXPT=0,u.mDoSmoothingWhilePointerInputIsOff=!1,u.mRestrictReachableTransforms=!1,u.mEnablePathToTargetHardDrop=!0,u.mOptimizePathToTarget=!0,u.mTargetFinder=new s(i,r,a,x,!0),u.mTargetPathFinder=u.mTargetFinder,u.mLivePiecePathFinder=new s(i,r,a,x,!1),u.mPrevPointerSmoothingProcessTimeSEC_FXPT=0,u.mAvailablePointerSmoothingProcessTimeSEC_FXPT=0,u.resetPointerPosition(),u.mTargetFacing=o.x2628258654593101865x,u.mLivePieceTransform=o.x703179871846962360x,u.mTargetTransform=o.x703179871846962360x,u.mDidSelectTarget=!1,u.mIgnoreNextSelectViaPointerOff=!1,u.mDidFirstLivePieceActivate=!1,u.mTargetCyclingReferenceTransform=o.x703179871846962360x,u.mResetPointerPositionAtNextPieceActivation=!1,u}e(n,t);var r=n.prototype;return r.x1156480399458270517x=function(t){this.mRestrictReachableTransforms=t,t&&this.mTargetPathFinder==this.mTargetFinder&&(this.mTargetPathFinder=new s(this.getPieceData(),this.getMatrixWidth(),this.getMatrixHeight(),this.getMatrixVisibleHeight(),!0))},r.getTargetTransform=function(){return this.mIsTargetCellValid?this.mTargetTransform:o.x703179871846962360x},r.getTargetCellX=function(){return o.FXPTToInt(this.mTargetCellX_FXPT)},r.setEvaluator=function(t,e){this.mTargetFinder.setEvaluator(t,e)},r.getTargetFinder=function(){return this.mTargetFinder},r.resetPointerPosition=function(){var t=this.getInput(n.x3457140870905163232x);t.mX_FXPT=~~((this.getMatrixWidth()-1)/2)*o.x4032911764208249279x,t.mY_FXPT=-1,this.mTargetCellX_FXPT=t.mX_FXPT,this.mTargetCellY_FXPT=t.mY_FXPT,this.mIsTargetCellValid=!1,this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT},r.updatePointerSmoothing=function(){if(this.mPointerSmoothingWeight_FXPT>0){var t=this.getInput(n.x3457140870905163232x);if(t.mIsOn||this.mDoSmoothingWhilePointerInputIsOff){var e=this.getController()._getTimeSEC_FXPT(),i=e-this.mPrevPointerSmoothingProcessTimeSEC_FXPT;if(this.mPrevPointerSmoothingProcessTimeSEC_FXPT=e,i>0){for(this.mAvailablePointerSmoothingProcessTimeSEC_FXPT+=i;this.mAvailablePointerSmoothingProcessTimeSEC_FXPT>10;)this.mSmoothedPointerInputX_FXPT=o.FXPTSmooth(this.mSmoothedPointerInputX_FXPT,t.mX_FXPT,this.mPointerSmoothingWeight_FXPT),this.mSmoothedPointerInputY_FXPT=o.FXPTSmooth(this.mSmoothedPointerInputY_FXPT,t.mY_FXPT,this.mPointerSmoothingWeight_FXPT),this.mAvailablePointerSmoothingProcessTimeSEC_FXPT-=10;this.mSmoothedPointerInputX_FXPT==t.mX_FXPT&&this.mSmoothedPointerInputY_FXPT==t.mY_FXPT||this.x231118008692704744x(t)}}else this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT}},r.updateLivePieceTransform=function(){var t=this.getController()._getGameState(),e=t.getLivePieceCurrentTransform();return!(e==this.mLivePieceTransform||(this.mLivePieceTransform=e,!this.mRestrictReachableTransforms)||(this.mTargetFinder.resetReachableTransforms(t.getLivePieceCurrentX(),t.getLivePieceCurrentY(),t.getLivePieceCurrentFacing()),0))},r.cycleNextTarget=function(){var t=this.mTargetFinder.getNextReachableTransformForColumn(this.mTargetTransform,o.FXPTToInt(this.mTargetCellX_FXPT),this.mTargetCyclingReferenceTransform);t!=o.x703179871846962360x&&this.setTargetTransform(t,!1)},r.updateTargetCell=function(t,e,i,r){var s=this.getInput(n.x3457140870905163232x);if(this.mUpdateTargetWhilePointerInputIsOff||s.mIsOn||i){if(this.mTargetTransform!=o.x703179871846962360x&&this.mCellTrackingInset_FXPT>0){var x=o.FXPTFloor(t),u=o.FXPTFloor(e);(t-this.mTargetCellX_FXPT>=0?t-this.mTargetCellX_FXPT:-(t-this.mTargetCellX_FXPT))<a.x378953905497227923x&&(t<x+this.mCellTrackingInset_FXPT||t>x+a.x1657987435785422953x-this.mCellTrackingInset_FXPT)&&(t=this.mTargetCellX_FXPT),(e-this.mTargetCellY_FXPT>=0?e-this.mTargetCellY_FXPT:-(e-this.mTargetCellY_FXPT))<a.x378953905497227923x&&(e<u+this.mCellTrackingInset_FXPT||e>u+a.x1657987435785422953x-this.mCellTrackingInset_FXPT)&&(e=this.mTargetCellY_FXPT)}var c=~~(this.mTargetCellX_FXPT/o.x4032911764208249279x),l=~~(this.mTargetCellY_FXPT/o.x4032911764208249279x);this.mTargetCellX_FXPT=o.clampInt(t,0,(this.getMatrixWidth()-1)*o.x4032911764208249279x),this.mTargetCellY_FXPT=o.clampInt(e,-o.x3167629350924187699x,(this.getMatrixVisibleHeight()-1)*o.x4032911764208249279x),this.mTargetCellY_FXPT<0&&(this.mTargetCellY_FXPT=-o.x3167629350924187699x);var h=this.mIsTargetCellValid;if(this.mIsTargetCellValid=this.mUpdateTargetWhilePointerInputIsOff||s.mIsOn,!this.isLivePieceControllable())return;var m=~~(this.mTargetCellX_FXPT/o.x4032911764208249279x),g=~~(this.mTargetCellY_FXPT/o.x4032911764208249279x);if(m==c&&g==l&&h&&!i)return;var f=this.mIsTargetFacingFixed?this.mTargetFacing:o.x941462249058606699x,d=o.x703179871846962360x;if(this.mSearchCellForTarget&&this.mTargetCellY_FXPT>=0&&(d=this.mTargetFinder.getBestTransformForCell(m,g,!1,f,0,!1)),d==o.x703179871846962360x&&this.mSearchColumnForTarget&&(d=this.mTargetFinder.getBestTransformForColumn(m,!1,f,0,!1)),r&&this.getPieceData().areTransformsEquivalent(this.getController()._getGameState().getLivePieceTypeId(),this.mTargetTransform,d))return;this.mTargetCyclingReferenceTransform=d,this.setTargetTransform(d,i)}else{if(this.mIsTargetCellValid=!1,!this.isLivePieceControllable())return;if(r&&this.mTargetTransform==o.x703179871846962360x)return;this.setTargetTransform(o.x703179871846962360x,!0)}},r.setTargetTransform=function(t,e){if(this.isLivePieceControllable()){var i=this.mTargetFinder.getLivePieceCurrentTransform();i!=o.x703179871846962360x&&t==o.x703179871846962360x&&(this.mForceValidTarget&&t==o.x703179871846962360x?t=this.mTargetFinder.getTransformForControlAction(i,o.x2851689118743160308x):this.mRestrictReachableTransforms&&(t=this.mTargetTransform));var n,r,s=t!=this.mTargetTransform||e;if(this.mTargetTransform=t,s)if(this.mTargetTransform!=o.x703179871846962360x){var a=this.getPieceData().computeXFromTransformId(this.mTargetTransform),x=this.getPieceData().computeYFromTransformId(this.mTargetTransform),u=o.computeFacingFromTransformId(this.mTargetTransform);this.mTargetPathFinder.getBestActionsForTransform(this.mTargetTransform,this.mActionsToTarget,this.mOptimizePathToTarget,this.mEnablePathToTargetHardDrop,!1);var c=this.getController()._getGameState().getLivePieceCurrentY();if(r=this.getPieceData().computeTransformId(a,c,u),this.mTargetPathFinder.doesTransformCollide(r))for(c++;c<=x&&(r=this.getPieceData().computeTransformId(a,c,u),this.mTargetPathFinder.doesTransformCollide(r));)c++,r=o.x703179871846962360x;r==o.x703179871846962360x||this.mLivePiecePathFinder.getBestActionsForTransform(r,this.mActionsToLivePiece,!0,!1,!1)||(r=this.getPieceData().computeTransformId(a,c,o.rotateFacing180(u,!0)),this.mLivePiecePathFinder.getBestActionsForTransform(r,this.mActionsToLivePiece,!0,!1,!1)||(r=o.x703179871846962360x)),r==o.x703179871846962360x&&(r=this.getController()._getGameState().getLivePieceCurrentTransform(),this.mLivePiecePathFinder.getBestActionsForTransform(r,this.mActionsToLivePiece,!0,!1,!1)||(r=o.x703179871846962360x)),r==o.x703179871846962360x&&(this.mActionsToLivePiece.length=0,n=o.x2188308603787436809x,this.mActionsToLivePiece.push(n)),this.getController()._performControlAction(o.x4519586451785019140x,this.mActionsToLivePiece,this.mActionsToTarget),this.updateLivePieceTransform()}else this.mActionsToTarget.length=0,n=o.x2336836758525398100x,this.mActionsToTarget.push(n),r=this.getController()._getGameState().getLivePieceCurrentTransform(),this.mLivePiecePathFinder.getBestActionsForTransform(r,this.mActionsToLivePiece,!0,!1,!1)||(this.mActionsToLivePiece.length=0,n=o.x2188308603787436809x,this.mActionsToLivePiece.push(n)),this.getController()._performControlAction(o.x4519586451785019140x,this.mActionsToLivePiece,this.mActionsToTarget),this.updateLivePieceTransform()}},r.selectTarget=function(){this.isLivePieceControllable()&&this.mTargetTransform!=o.x703179871846962360x&&(this.mDidSelectTarget=!0,this.getController()._performControlAction(o.x2937731454309797899x,null,null))},r.isPointInsideMatrixBuffer=function(t,e){return!(t<-this.mPointerSelectTargetMatrixBufferX*o.x4032911764208249279x||t>(this.getMatrixWidth()+this.mPointerSelectTargetMatrixBufferX)*o.x4032911764208249279x||e<-this.mPointerSelectTargetMatrixBufferY*o.x4032911764208249279x||e>(this.getMatrixVisibleHeight()+this.mPointerSelectTargetMatrixBufferY)*o.x4032911764208249279x)},r.destroy=function(){this.isDestroyed()||(this.mTargetFinder&&(this.mTargetPathFinder==this.mTargetFinder&&(this.mTargetPathFinder=null),this.mTargetFinder.destroy(),null!==this.mTargetFinder&&(this.mTargetFinder=null)),this.mTargetPathFinder&&(this.mTargetPathFinder.destroy(),null!==this.mTargetPathFinder&&(this.mTargetPathFinder=null)),this.mLivePiecePathFinder&&(this.mLivePiecePathFinder.destroy(),null!==this.mLivePiecePathFinder&&(this.mLivePiecePathFinder=null)),t.prototype.destroy.call(this))},r.x3513203343913544781x=function(t){t&&(this.updateLivePieceTransform(),this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0))},r.x3033163149601749637x=function(t){this.updatePointerSmoothing(),this.updateLivePieceTransform()&&this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0)},r.x231118008692704744x=function(t){t.mInputId===n.x3457140870905163232x&&(0==this.mPointerSmoothingWeight_FXPT&&(this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT),this.updateTargetCell(this.mSmoothedPointerInputX_FXPT,this.mSmoothedPointerInputY_FXPT,!1,!1),this.mResetPointerPositionAtNextPieceActivation=!1)},r.x3797846894257560236x=function(t){var e,i;switch(t.mInputId){case n.x3457140870905163232x:this.mPrevPointerSmoothingProcessTimeSEC_FXPT=this.getController()._getTimeSEC_FXPT(),this.mAvailablePointerSmoothingProcessTimeSEC_FXPT=0,this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT,this.updateTargetCell(t.mX_FXPT,t.mY_FXPT,!0,!1),this.isPointInsideMatrixBuffer(t.mX_FXPT,t.mY_FXPT)&&this.mSelectTargetAtPointerInputOn&&this.selectTarget();break;case n.x4460593645922211282x:case n.x1826473462322518746x:switch(this.mTargetCellY_FXPT=-1,e=this.getController()._getGameState().getLivePieceTypeId(),i=this.mTargetTransform,t.mInputId){case n.x4460593645922211282x:for(;this.mTargetCellX_FXPT>0&&this.getPieceData().areTransformsEquivalent(e,this.mTargetTransform,i);)this.mTargetCellX_FXPT-=o.x3167629350924187699x,this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0);break;case n.x1826473462322518746x:for(var r=o.FXPTFromInt(this.getMatrixWidth()-1)-1;this.mTargetCellX_FXPT<r&&this.getPieceData().areTransformsEquivalent(e,this.mTargetTransform,i);)this.mTargetCellX_FXPT+=o.x3167629350924187699x,this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0)}t.mIsOn=!1,t.mX_FXPT=this.mTargetCellX_FXPT,t.mY_FXPT=this.mTargetCellY_FXPT,this.mResetPointerPositionAtNextPieceActivation=!0;break;case n.x2785922063600301214x:this.cycleNextTarget();break;case n.x3797934134535235077x:this.selectTarget();break;case n.x2068352566790736374x:this.getController()._performControlAction(o.x3654181238410086381x,null,null);break;case n.x3722197246312982475x:this.mTargetFacing=o.rotateFacing90(this.mTargetFacing,!0),this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0);break;case n.x315604506720907481x:this.mTargetFacing=o.rotateFacing90(this.mTargetFacing,!1),this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!0);break;case n.x3683435108760260812x:this.getController()._performControlAction(o.x2288110086882958751x,null,null)}},r.x3345181124043966074x=function(t){t.mInputId===n.x3457140870905163232x&&(this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT,!this.isPointInsideMatrixBuffer(t.mX_FXPT,t.mY_FXPT)||this.mSelectTargetAtPointerInputOn||this.mIgnoreNextSelectViaPointerOff||this.selectTarget(),this.mUpdateTargetWhilePointerInputIsOff||this.resetPointerPosition(),this.mIgnoreNextSelectViaPointerOff=!1)},r.x1042162547899707391x=function(t){t.mInputId===n.x3457140870905163232x&&(this.mSmoothedPointerInputX_FXPT=t.mX_FXPT,this.mSmoothedPointerInputY_FXPT=t.mY_FXPT,this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,!0,!1),this.mIgnoreNextSelectViaPointerOff=!1)},r.x914208017346632379x=function(){var t=this.getController()._getGameState();this.mTargetFinder.setMatrixLimits(t.getMatrixWidthLimit(),t.getMatrixHeightLimit(),this.getMatrixVisibleHeight()),this.mTargetPathFinder.setMatrixLimits(t.getMatrixWidthLimit(),t.getMatrixHeightLimit(),this.getMatrixVisibleHeight()),this.mLivePiecePathFinder.setMatrixLimits(t.getMatrixWidthLimit(),t.getMatrixHeightLimit(),this.getMatrixVisibleHeight()),this.mActionsToTarget.length=0,this.mActionsToLivePiece.length=0,this.mTargetFinder&&this.mTargetFinder.startStateEvaluation(t),this.mTargetPathFinder&&this.mTargetPathFinder!=this.mTargetFinder&&this.mTargetPathFinder.startStateEvaluation(t),this.mLivePiecePathFinder&&this.mLivePiecePathFinder.startStateEvaluation(t)},r.x4169104783292558150x=function(){var t=!0;return t&&this.mTargetFinder&&(t=this.mTargetFinder.processStateEvaluation()),t&&this.mTargetPathFinder&&this.mTargetPathFinder!=this.mTargetFinder&&(t=this.mTargetPathFinder.processStateEvaluation()),t&&this.mLivePiecePathFinder&&(t=this.mLivePiecePathFinder.processStateEvaluation()),t&&this.isLivePieceControllable()&&this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,this.mIsTargetCellValid,!1),t},r.x3494733809236826693x=function(){this.mTargetFinder.handleLivePieceDidActivate();var t=this.mResetPointerPositionAtNextPieceActivation;if(this.mDidFirstLivePieceActivate||(this.mDidFirstLivePieceActivate=!0,this.mUpdateTargetWhilePointerInputIsOff&&(t=!0)),t&&(this.resetPointerPosition(),this.mResetPointerPositionAtNextPieceActivation=!1),this.mTargetFacing=this.getController()._getGameState().getLivePieceCurrentFacing(),this.mLivePieceTransform=this.getController()._getGameState().getLivePieceCurrentTransform(),this.mTargetTransform=o.x703179871846962360x,this.mDidSelectTarget=!1,this.isLivePieceControllable()){var e=this.mIsTargetCellValid;this.updateTargetCell(this.mTargetCellX_FXPT,this.mTargetCellY_FXPT,this.mIsTargetCellValid,!1),this.mIsTargetCellValid=e}},r.x857944601241301800x=function(){this.mTargetFinder.handleLivePieceDidDeactivate();var t=this.getInput(n.x3457140870905163232x);this.mIgnoreNextSelectViaPointerOff=this.mPieceDeactivationByNonSelectCancelsPointerOn&&t.mIsOn&&!this.mDidSelectTarget&&this.getController()._getGameState().didLivePieceLockDown(),this.mDidSelectTarget=!1},i(n,null,[{key:"x2924843484704743760x",get:function(){return 2}},{key:"x3457140870905163232x",get:function(){return 513}},{key:"x4460593645922211282x",get:function(){return 514}},{key:"x1826473462322518746x",get:function(){return 515}},{key:"x2785922063600301214x",get:function(){return 516}},{key:"x3797934134535235077x",get:function(){return 517}},{key:"x2068352566790736374x",get:function(){return 518}},{key:"x3722197246312982475x",get:function(){return 519}},{key:"x315604506720907481x",get:function(){return 520}},{key:"x3683435108760260812x",get:function(){return 521}},{key:"x3837950005791707511x",get:function(){return 9}},{key:"kMinInputId",get:function(){return 513}},{key:"kMaxInputId",get:function(){return 521}}]),n}(r)),n._RF.pop()}}})),function(t){t("virtual:///prerequisite-imports/main","chunks:///_virtual/main")}((function(t,e){System.register(t,[e],(function(t,e){return{setters:[function(e){var i={};for(var n in e)"default"!==n&&"__esModule"!==n&&(i[n]=e[n]);t(i)}],execute:function(){}}}))}));